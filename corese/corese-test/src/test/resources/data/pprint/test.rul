<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rdf:RDF [
<!ENTITY rdf   "http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<!ENTITY rdfs   "http://www.w3.org/2000/01/rdf-schema#">
<!ENTITY xsd    "http://www.w3.org/2001/XMLSchema#">
<!ENTITY rul   "http://ns.inria.fr/edelweiss/2011/rule#">
]>

<rdf:RDF xmlns:rdfs="&rdfs;" xmlns:rdf="&rdf;"
   xmlns:xsd='&xsd;' xmlns:rul='&rul;' >
  
  
<rul:rule>

<rul:body>
  <![CDATA[
prefix ast: <http://www.inria.fr/2012/ast#>

template {

  kg:pprint(ast:header)

  "<span class='keyword'>select</span> " 
  ?select 
  ?from 
  ?named
  "\n"
  "<br/> <span class='keyword'>where</span> {" "\n" "<br/>"
  ?where "}"
  ?order
  if (bound(?l), concat("<br/> <span class='keyword'>limit</span> ",  ?l), "")  
  if (bound(?o), concat("<br/> <span class='keyword'>offset</span> ", ?o), "") 

  kg:pprint(ast:trailer)

}
where {
?in ast:select ?select ;
    ast:where  ?where
    
optional {?in ast:from   ?from}
optional {?in ast:named  ?named}
optional {?in ast:order  ?order}
optional {?in ast:limit  ?l}
optional {?in ast:offset ?o}
}
pragma {kg:query kg:priority 1}
  ]]>
</rul:body>

</rul:rule>


<rul:rule>
<rul:body>
  <![CDATA[
  prefix ast: <http://www.inria.fr/2012/ast#>
template {

"<html>"
"<head>"
"<link href='style.css' rel='stylesheet' />"
"</head>"
"<body>\n"

"# <br/> "
"# SPARQL generated by RDF AST Pretty Printing <br/>"
"# Olivier Corby, Wimmics INRIA I3S, 2013 <br/>"
"# <br/>"
"\n"

}

where {
  bind(ast:header as ?in)
}
  ]]>

</rul:body>
</rul:rule>


<rul:rule>
<rul:body>
  <![CDATA[
  prefix ast: <http://www.inria.fr/2012/ast#>
template {
  "\n</body></html>"
}
where {
  bind(ast:trailer as ?in)
}
  ]]>

</rul:body>
</rul:rule>













</rdf:RDF>
