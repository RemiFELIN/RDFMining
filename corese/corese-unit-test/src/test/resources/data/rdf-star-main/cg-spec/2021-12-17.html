<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 28.0.7">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
:is(aside,div).example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
:is(aside,div).example{border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
<title>RDF-star and SPARQL-star</title>
  
  
  
<style>

    /* copied from TR/turtle, and adapted for SPARQL rules */
    .grammar td { font-family: monospace; vertical-align: top; }
    .grammar-literal, .token { color: gray;}
    .grammar_comment { color: #A52A2A; font-style: italic; }

    /* better looking quoted examples */
    .example .example {
      border-left-width: .15em;
    }

    /* better numbering of algorithm steps */
    .algorithm ol {
      counter-reset: numsection;
      list-style-type: none;
    }
    .algorithm ol>li {
      margin: 0.5em 0;
    }
    .algorithm ol>li:before {
      font-weight: bold;
      counter-increment: numsection;
      content: counters(numsection, ".") ") ";
    }

    /* SPARQL modification section */

    .defn	{ 
        margin-left:5% ; margin-right: 7%; 
        margin-top: 0.1ex ; margin-bottom: 0.1ex ;
        border: thin solid #888888;
        padding: 1ex 2ex 0.5ex 2ex ;
        page-break-inside: avoid ;
        background-color: #F0F8F8 ;
    }
    
    div.defn p	{ margin-top: 1ex ; margin-bottom: 1.5ex ;}
    div.defn ul	{ margin-top: 1ex ; margin-bottom: 1.5ex ; }

    .operator {
        border: solid;
        border-width: 1px;
        border-color: #888;
        width: 100%;
        margin: 0px;
    }

    .operator tr {
        border: solid;
        border-color: #888;
        border-width: 1px;
    }
    
    .operator th {
        border: solid;
        border-color: #888;
        border-width: 1px;
    }

    .operator td {
        border: solid;
        border-color: #888;
        border-width: 1px;
    }
    
    .heavy { color:black; font-weight:bold }
    .small { font-size: smaller; }

    #structure-map table {
      background-image: url("visual-map-bg.svg");
      background-size: 100% 100%;
      background-repeat: no-repeat;
    }

    #structure-map table td {
      width: 33.34%;
    }

    #structure-map .box {
      display: block;
      border: thin solid gray;
      border-radius: 0.5em;
      background-color: white;
      margin: 0.7em 1em;
      padding: 0.35em 0.5em;
      box-shadow: 0.25em 0.25em 0.5em darkgray;
      text-align: center;
    }

    /* remove "unofficial draft" watermark */
    body.no-watermark {
      background: url('https://www.w3.org/StyleSheets/TR/2016/logos/back-cg-draft') no-repeat !important
    }
  
</style>
  
<script>
    /* copied from JSON-LD specs */
    function updateExample(doc, content) {
      // perform transformations to make it render and prettier
      return _esc(reindent(unComment(doc, content)));
    }

    function _esc(s) {
      return s.replace(/&/g,'&amp;')
        .replace(/>/g,'&gt;')
        .replace(/"/g,'&quot;')
        .replace(/</g,'&lt;');
    }

    function reindent(text) {
      // TODO: use trimEnd when Edge supports it
      const lines = text.trimRight().split("\n");
      while (lines.length && !lines[0].trim()) {
        lines.shift();
      }
      const indents = lines.filter(s => s.trim()).map(s => s.search(/[^\s]/));
      const leastIndent = Math.min(...indents);
      return lines.map(s => s.slice(leastIndent)).join("\n");
    }

    function unComment(doc, content) {
      // perform transformations to make it render and prettier
      return content
        .replace(/<!--/, '')
        .replace(/-->/, '')
        .replace(/< !\s*-\s*-/g, '<!--')
        .replace(/-\s*- >/g, '-->')
        .replace(/-\s*-\s*&gt;/g, '--&gt;');
    }
  </script>

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
:is(h1,h2,h3,h4,h5,h6,a) abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
:is(h2,h3,h4,h5,h6)>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
:is(h2,h3,h4,h5,h6)>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
:is(h2,h3,h4,h5,h6)>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}
</style>
<meta name="description" content="The Resource Description Framework (RDF) is a general-purpose framework for representing information on the Web. RDF-star extends RDF with a convenient way to make statements about other statements. This specification defines the abstract syntax of RDF-star as an extension of RDF's. It extends a number of RDF concrete syntaxes to support the new abstract syntax. It also extends RDF's formal semantics. Finally, this specification extends the SPARQL language to allow querying and updating of RDF-star data.">
<link rel="canonical" href="https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html">
<script type="application/ld+json">{
  "@context": [
    "http://schema.org",
    {
      "@vocab": "http://schema.org/",
      "@language": "en",
      "w3p": "http://www.w3.org/2001/02pd/rec54#",
      "foaf": "http://xmlns.com/foaf/0.1/",
      "datePublished": {
        "@type": "http://www.w3.org/2001/XMLSchema#date"
      },
      "inLanguage": {
        "@language": null
      },
      "isBasedOn": {
        "@type": "@id"
      },
      "license": {
        "@type": "@id"
      }
    }
  ],
  "id": "https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html",
  "type": [
    "TechArticle"
  ],
  "name": "RDF-star and SPARQL-star",
  "inLanguage": "en",
  "license": "https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document",
  "datePublished": "2021-12-17",
  "copyrightHolder": {
    "name": "World Wide Web Consortium",
    "url": "https://www.w3.org/"
  },
  "discussionUrl": "https://github.com/w3c/rdf-star/issues/",
  "alternativeHeadline": "",
  "isBasedOn": "",
  "description": "The Resource Description Framework (RDF) is a general-purpose framework for representing information on the Web. RDF-star extends RDF with a convenient way to make statements about other statements. This specification defines the abstract syntax of RDF-star as an extension of RDF's. It extends a number of RDF concrete syntaxes to support the new abstract syntax. It also extends RDF's formal semantics. Finally, this specification extends the SPARQL language to allow querying and updating of RDF-star data.",
  "editor": [
    {
      "type": "Person",
      "name": "Olaf Hartig",
      "url": "http://olafhartig.de/",
      "worksFor": {
        "name": "Linköping University",
        "url": "https://liu.se/"
      }
    },
    {
      "type": "Person",
      "name": "Pierre-Antoine Champin",
      "url": "http://champin.net/",
      "worksFor": {
        "name": "ERCIM",
        "url": "https://www.ercim.eu/"
      }
    },
    {
      "type": "Person",
      "name": "Gregg Kellogg",
      "url": "https://greggkellogg.net/",
      "worksFor": {
        "name": "no affiliation"
      }
    },
    {
      "type": "Person",
      "name": "Andy Seaborne",
      "url": "https://afs.github.io/",
      "worksFor": {
        "name": "Apache Software Foundation",
        "url": "http://apache.org/"
      }
    }
  ],
  "contributor": [
    {
      "type": "Person",
      "name": "Dörthe Arndt",
      "worksFor": {
        "name": "TU Dresden"
      }
    },
    {
      "type": "Person",
      "name": "Jeen Broekstra",
      "worksFor": {
        "name": "metaphacts"
      }
    },
    {
      "type": "Person",
      "name": "Bob DuCharme",
      "worksFor": {
        "name": "CCRi"
      }
    },
    {
      "type": "Person",
      "name": "Ora Lassila",
      "worksFor": {
        "name": "Amazon"
      }
    },
    {
      "type": "Person",
      "name": "Peter F. Patel-Schneider",
      "worksFor": {
        "name": "PARC"
      }
    },
    {
      "type": "Person",
      "name": "Eric Prud'hommeaux",
      "worksFor": {
        "name": "Janeiro Digital, W3C/MIT"
      }
    },
    {
      "type": "Person",
      "name": "Ted Thibodeau, Jr.",
      "worksFor": {
        "name": "OpenLink Software, Inc."
      }
    },
    {
      "type": "Person",
      "name": "Bryan Thompson",
      "worksFor": {
        "name": "Amazon"
      }
    }
  ],
  "citation": [
    {
      "id": "https://www.w3.org/TR/rdf11-concepts/",
      "type": "TechArticle",
      "name": "RDF 1.1 Concepts and Abstract Syntax",
      "url": "https://www.w3.org/TR/rdf11-concepts/",
      "creator": [
        {
          "name": "Richard Cyganiak"
        },
        {
          "name": "David Wood"
        },
        {
          "name": "Markus Lanthaler"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/turtle/",
      "type": "TechArticle",
      "name": "RDF 1.1 Turtle",
      "url": "https://www.w3.org/TR/turtle/",
      "creator": [
        {
          "name": "Eric Prud'hommeaux"
        },
        {
          "name": "Gavin Carothers"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/trig/",
      "type": "TechArticle",
      "name": "RDF 1.1 TriG",
      "url": "https://www.w3.org/TR/trig/",
      "creator": [
        {
          "name": "Gavin Carothers"
        },
        {
          "name": "Andy Seaborne"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/n-triples/",
      "type": "TechArticle",
      "name": "RDF 1.1 N-Triples",
      "url": "https://www.w3.org/TR/n-triples/",
      "creator": [
        {
          "name": "Gavin Carothers"
        },
        {
          "name": "Andy Seaborne"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/n-quads/",
      "type": "TechArticle",
      "name": "RDF 1.1 N-Quads",
      "url": "https://www.w3.org/TR/n-quads/",
      "creator": [
        {
          "name": "Gavin Carothers"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/sparql11-query/",
      "type": "TechArticle",
      "name": "SPARQL 1.1 Query Language",
      "url": "https://www.w3.org/TR/sparql11-query/",
      "creator": [
        {
          "name": "Steven Harris"
        },
        {
          "name": "Andy Seaborne"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/rdf11-mt/",
      "type": "TechArticle",
      "name": "RDF 1.1 Semantics",
      "url": "https://www.w3.org/TR/rdf11-mt/",
      "creator": [
        {
          "name": "Patrick Hayes"
        },
        {
          "name": "Peter Patel-Schneider"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/sparql11-update/",
      "type": "TechArticle",
      "name": "SPARQL 1.1 Update",
      "url": "https://www.w3.org/TR/sparql11-update/",
      "creator": [
        {
          "name": "Paula Gearon"
        },
        {
          "name": "Alexandre Passant"
        },
        {
          "name": "Axel Polleres"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc2119",
      "type": "TechArticle",
      "name": "Key words for use in RFCs to Indicate Requirement Levels",
      "url": "https://www.rfc-editor.org/rfc/rfc2119",
      "creator": [
        {
          "name": "S. Bradner"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.rfc-editor.org/rfc/rfc8174",
      "type": "TechArticle",
      "name": "Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words",
      "url": "https://www.rfc-editor.org/rfc/rfc8174",
      "creator": [
        {
          "name": "B. Leiba"
        }
      ],
      "publisher": {
        "name": "IETF"
      }
    },
    {
      "id": "https://www.w3.org/TR/xml/",
      "type": "TechArticle",
      "name": "Extensible Markup Language (XML) 1.0 (Fifth Edition)",
      "url": "https://www.w3.org/TR/xml/",
      "creator": [
        {
          "name": "Tim Bray"
        },
        {
          "name": "Jean Paoli"
        },
        {
          "name": "Michael Sperberg-McQueen"
        },
        {
          "name": "Eve Maler"
        },
        {
          "name": "François Yergeau"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/xpath-functions/",
      "type": "TechArticle",
      "name": "XQuery 1.0 and XPath 2.0 Functions and Operators (Second Edition)",
      "url": "https://www.w3.org/TR/xpath-functions/",
      "creator": [
        {
          "name": "Ashok Malhotra"
        },
        {
          "name": "Jim Melton"
        },
        {
          "name": "Norman Walsh"
        },
        {
          "name": "Michael Kay"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/sparql11-results-json/",
      "type": "TechArticle",
      "name": "SPARQL 1.1 Query Results JSON Format",
      "url": "https://www.w3.org/TR/sparql11-results-json/",
      "creator": [
        {
          "name": "Andy Seaborne"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/rdf-sparql-XMLres/",
      "type": "TechArticle",
      "name": "SPARQL Query Results XML Format (Second Edition)",
      "url": "https://www.w3.org/TR/rdf-sparql-XMLres/",
      "creator": [
        {
          "name": "Dave Beckett"
        },
        {
          "name": "Jeen Broekstra"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "http://ceur-ws.org/Vol-1912/paper12.pdf",
      "type": "TechArticle",
      "name": "Foundations of RDF* and SPARQL* - An Alternative Approach to Statement-Level Metadata in RDF.",
      "url": "http://ceur-ws.org/Vol-1912/paper12.pdf",
      "creator": [
        {
          "name": "Olaf Hartig"
        }
      ],
      "publisher": {
        "name": "In Proceedings of the 11th Alberto Mendelzon International Workshop on Foundations of Data Management (AMW), Montevideo, Uruguay"
      }
    },
    {
      "id": "https://www.w3.org/TR/rdf-syntax-grammar/",
      "type": "TechArticle",
      "name": "RDF 1.1 XML Syntax",
      "url": "https://www.w3.org/TR/rdf-syntax-grammar/",
      "creator": [
        {
          "name": "Fabien Gandon"
        },
        {
          "name": "Guus Schreiber"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/json-ld/",
      "type": "TechArticle",
      "name": "JSON-LD 1.0",
      "url": "https://www.w3.org/TR/json-ld/",
      "creator": [
        {
          "name": "Manu Sporny"
        },
        {
          "name": "Gregg Kellogg"
        },
        {
          "name": "Markus Lanthaler"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/owl2-overview/",
      "type": "TechArticle",
      "name": "OWL 2 Web Ontology Language Document Overview (Second Edition)",
      "url": "https://www.w3.org/TR/owl2-overview/",
      "creator": [
        {
          "name": "W3C OWL Working Group"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/sparql11-service-description/",
      "type": "TechArticle",
      "name": "SPARQL 1.1 Service Description",
      "url": "https://www.w3.org/TR/sparql11-service-description/",
      "creator": [
        {
          "name": "Gregory Williams"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "https://www.w3.org/TR/dx-prof-conneg/",
      "type": "TechArticle",
      "name": "Content Negotiation by Profile",
      "url": "https://www.w3.org/TR/dx-prof-conneg/",
      "creator": [
        {
          "name": "Lars G. Svensson"
        },
        {
          "name": "Nicholas Car"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    },
    {
      "id": "http://www.w3.org/TR/REC-xml/#sec-notation",
      "type": "TechArticle",
      "name": "EBNF NOTATION",
      "url": "http://www.w3.org/TR/REC-xml/#sec-notation",
      "creator": [
        {
          "name": "Tim Bray"
        },
        {
          "name": "Jean Paoli"
        },
        {
          "name": "C. M. Sperberg-McQueen"
        },
        {
          "name": "Eve Maler"
        },
        {
          "name": "François Yergeau"
        }
      ],
      "publisher": {
        "name": "W3C"
      }
    }
  ]
}</script>
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "specStatus": "CG-FINAL",
  "edDraftURI": "https://w3c.github.io/rdf-star/cg-spec/editors_draft.html",
  "editors": [
    {
      "name": "Olaf Hartig",
      "url": "http://olafhartig.de/",
      "company": "Linköping University",
      "companyURL": "https://liu.se/",
      "orcid": "https://orcid.org/0000-0002-1741-2090",
      "w3cid": 112469
    },
    {
      "name": "Pierre-Antoine Champin",
      "url": "http://champin.net/",
      "company": "ERCIM",
      "companyURL": "https://www.ercim.eu/",
      "orcid": "https://orcid.org/0000-0001-7046-4474",
      "w3cid": 42931
    },
    {
      "name": "Gregg Kellogg",
      "url": "https://greggkellogg.net/",
      "company": "no affiliation",
      "w3cid": 44770
    },
    {
      "name": "Andy Seaborne",
      "url": "https://afs.github.io/",
      "company": "Apache Software Foundation",
      "companyURL": "http://apache.org/",
      "w3cid": 29909
    }
  ],
  "authors": [
    {
      "name": "Dörthe Arndt",
      "company": "TU Dresden"
    },
    {
      "name": "Jeen Broekstra",
      "company": "metaphacts"
    },
    {
      "name": "Bob DuCharme",
      "company": "CCRi"
    },
    {
      "name": "Ora Lassila",
      "company": "Amazon"
    },
    {
      "name": "Peter F. Patel-Schneider",
      "company": "PARC"
    },
    {
      "name": "Eric Prud'hommeaux",
      "company": "Janeiro Digital, W3C/MIT"
    },
    {
      "name": "Ted Thibodeau, Jr.",
      "company": "OpenLink Software, Inc."
    },
    {
      "name": "Bryan Thompson",
      "company": "Amazon"
    }
  ],
  "otherLinks": [
    {
      "key": "Acknowledgements:",
      "data": [
        {
          "value": "James Anderson (datagraph gmbh)"
        },
        {
          "value": "Ghislain Atemezing (Mondeca)"
        },
        {
          "value": "Pavel Klinov (Stardog Union)"
        },
        {
          "value": "Bruno P. Kinoshita (Apache Software Foundation)"
        },
        {
          "value": "Holger Knublauch (TopQuadrant, Inc.)"
        },
        {
          "value": "Andreas Kuckartz"
        },
        {
          "value": "Pete Rivett (agnos.ai)"
        },
        {
          "value": "William Van Woensel (Dalhousie University)"
        },
        {
          "value": "Miel Vander Sande (meemoo)"
        },
        {
          "value": "Fabio Vitali (University of Bologna)"
        }
      ]
    },
    {
      "key": "This version:",
      "data": [
        {
          "value": "https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html",
          "href": "https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html"
        }
      ]
    },
    {
      "key": "Previous version:",
      "data": [
        {
          "value": "https://w3c.github.io/rdf-star/cg-spec/2021-07-01.html",
          "href": "https://w3c.github.io/rdf-star/cg-spec/2021-07-01.html"
        }
      ]
    }
  ],
  "github": {
    "repoURL": "w3c/rdf-star",
    "branch": "main"
  },
  "localBiblio": {
    "EBNF-NOTATION": {
      "title": "EBNF NOTATION",
      "href": "http://www.w3.org/TR/REC-xml/#sec-notation",
      "publisher": "W3C",
      "date": "26 November 2008",
      "status": "W3C Recommendation",
      "authors": [
        "Tim Bray",
        "Jean Paoli",
        "C. M. Sperberg-McQueen",
        "Eve Maler",
        "François Yergeau"
      ],
      "id": "ebnf-notation"
    }
  },
  "wgPublicList": "public-rdf-star",
  "shortName": "rdf-star",
  "group": "rdf-dev",
  "testSuiteURI": "https://w3c.github.io/rdf-star/tests/",
  "implementationReportURI": "https://w3c.github.io/rdf-star/reports/",
  "xref": [
    "RDF11-CONCEPTS",
    "SPARQL11-QUERY",
    "RDF11-MT"
  ],
  "maxTocLevel": 3,
  "latestVersion": "https://w3c.github.io/rdf-star/cg-spec",
  "publishDate": "2021-12-17",
  "doJsonLd": true,
  "canonicalURI": "https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html",
  "publishISODate": "2021-12-17T00:00:00.000Z",
  "generatedSubtitle": "Final Community Group Report 17 December 2021"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2021/cg-final"></head>
<body class="no-watermark h-entry" data-cite="RDF11-CONCEPTS SPARQL11-QUERY RDF11-MT"><div class="head">
     <h1 id="title" class="title">RDF-star and SPARQL-star</h1>
    
    <h2>
      Final Community Group Report
      <time class="dt-published" datetime="2021-12-17">17 December 2021</time>
    </h2>
    <dl>
      
      <dt>This version:</dt><dd>
      <a href="https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html">https://w3c.github.io/rdf-star/cg-spec/2021-12-17.html</a>
      </dd><dt>Latest published version:</dt><dd>
              <a href="https://w3c.github.io/rdf-star/cg-spec">https://w3c.github.io/rdf-star/cg-spec</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://w3c.github.io/rdf-star/cg-spec/editors_draft.html">https://w3c.github.io/rdf-star/cg-spec/editors_draft.html</a></dd>
      <dt>Test suite:</dt><dd><a href="https://w3c.github.io/rdf-star/tests/">https://w3c.github.io/rdf-star/tests/</a></dd>
      <dt>Implementation report:</dt><dd>
              <a href="https://w3c.github.io/rdf-star/reports/">https://w3c.github.io/rdf-star/reports/</a>
      </dd><dt>Previous version:</dt><dd>
        <a href="https://w3c.github.io/rdf-star/cg-spec/2021-07-01.html">https://w3c.github.io/rdf-star/cg-spec/2021-07-01.html</a>
      </dd>
      
      
      <dt>Editors:</dt>
      <dd class="editor p-author h-card vcard" data-editor-id="112469">
    <a class="u-url url p-name fn" href="http://olafhartig.de/">Olaf Hartig</a><a class="p-name orcid" href="https://orcid.org/0000-0002-1741-2090"><svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
  <style>

    .st1 {
      fill: #fff;
    }
  
</style>
  <path d="M256 128c0 70.7-57.3 128-128 128S0 198.7 0 128 57.3 0 128 0s128 57.3 128 128z" fill="#a6ce39"></path>
  <path class="st1" d="M86.3 186.2H70.9V79.1h15.4v107.1zM108.9 79.1h41.6c39.6 0 57 28.3 57 53.6 0 27.5-21.5 53.6-56.8 53.6h-41.8V79.1zm15.4 93.3h24.5c34.9 0 42.9-26.5 42.9-39.7C191.7 111.2 178 93 148 93h-23.7v79.4zM88.7 56.8c0 5.5-4.5 10.1-10.1 10.1s-10.1-4.6-10.1-10.1c0-5.6 4.5-10.1 10.1-10.1s10.1 4.6 10.1 10.1z"></path>
</svg></a> (<a class="p-org org h-org" href="https://liu.se/">Linköping University</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="42931">
    <a class="u-url url p-name fn" href="http://champin.net/">Pierre-Antoine Champin</a><a class="p-name orcid" href="https://orcid.org/0000-0001-7046-4474"><svg width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">
  <style>

    .st1 {
      fill: #fff;
    }
  
</style>
  <path d="M256 128c0 70.7-57.3 128-128 128S0 198.7 0 128 57.3 0 128 0s128 57.3 128 128z" fill="#a6ce39"></path>
  <path class="st1" d="M86.3 186.2H70.9V79.1h15.4v107.1zM108.9 79.1h41.6c39.6 0 57 28.3 57 53.6 0 27.5-21.5 53.6-56.8 53.6h-41.8V79.1zm15.4 93.3h24.5c34.9 0 42.9-26.5 42.9-39.7C191.7 111.2 178 93 148 93h-23.7v79.4zM88.7 56.8c0 5.5-4.5 10.1-10.1 10.1s-10.1-4.6-10.1-10.1c0-5.6 4.5-10.1 10.1-10.1s10.1 4.6 10.1 10.1z"></path>
</svg></a> (<a class="p-org org h-org" href="https://www.ercim.eu/">ERCIM</a>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="44770">
    <a class="u-url url p-name fn" href="https://greggkellogg.net/">Gregg Kellogg</a> (<span class="p-org org h-org">no affiliation</span>)
  </dd><dd class="editor p-author h-card vcard" data-editor-id="29909">
    <a class="u-url url p-name fn" href="https://afs.github.io/">Andy Seaborne</a> (<a class="p-org org h-org" href="http://apache.org/">Apache Software Foundation</a>)
  </dd>
      
      <dt>Authors:</dt><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Dörthe Arndt</span> (<span class="p-org org h-org">TU Dresden</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Jeen Broekstra</span> (<span class="p-org org h-org">metaphacts</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Bob DuCharme</span> (<span class="p-org org h-org">CCRi</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Ora Lassila</span> (<span class="p-org org h-org">Amazon</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Peter F. Patel-Schneider</span> (<span class="p-org org h-org">PARC</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Eric Prud'hommeaux</span> (<span class="p-org org h-org">Janeiro Digital, W3C/MIT</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Ted Thibodeau, Jr.</span> (<span class="p-org org h-org">OpenLink Software, Inc.</span>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Bryan Thompson</span> (<span class="p-org org h-org">Amazon</span>)
  </dd>
      <dt>Acknowledgements:</dt><dd>
    James Anderson (datagraph gmbh)
  </dd><dd>
    Ghislain Atemezing (Mondeca)
  </dd><dd>
    Pavel Klinov (Stardog Union)
  </dd><dd>
    Bruno P. Kinoshita (Apache Software Foundation)
  </dd><dd>
    Holger Knublauch (TopQuadrant, Inc.)
  </dd><dd>
    Andreas Kuckartz
  </dd><dd>
    Pete Rivett (agnos.ai)
  </dd><dd>
    William Van Woensel (Dalhousie University)
  </dd><dd>
    Miel Vander Sande (meemoo)
  </dd><dd>
    Fabio Vitali (University of Bologna)
  </dd>
    </dl>
    
    <p class="copyright">
          <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
          ©
          2021
          
          the Contributors to the RDF-star and SPARQL-star
          Specification, published by the
          <a href="https://www.w3.org/groups/cg/rdf-dev">RDF-DEV Community Group</a> under the
          <a href="https://www.w3.org/community/about/agreements/fsa/">W3C Community Final Specification Agreement (FSA)</a>. A human-readable
                <a href="https://www.w3.org/community/about/agreements/fsa-deed/">summary</a>
                is available.
              
        </p>
    <hr title="Separator for header">
  </div>
  <section id="abstract" class="introductory"><h2 id="abstract-0">Abstract<a class="self-link" href="#abstract" aria-label="Permalink for Section"></a></h2>
    <p>The Resource Description Framework (RDF) is a general-purpose framework for representing information on the Web. RDF-star extends RDF with a convenient way to make statements about other statements. This specification defines the abstract syntax of RDF-star as an extension of RDF's. It extends a number of RDF concrete syntaxes to support the new abstract syntax. It also extends RDF's formal semantics. Finally, this specification extends the SPARQL language to allow querying and updating of RDF-star data.</p>
  </section>
  <section id="sotd" class="introductory"><h2 id="status-of-this-document">Status of This Document<a class="self-link" href="#sotd" aria-label="Permalink for Section"></a></h2><p>
      This specification was published by the
      <a href="https://www.w3.org/groups/cg/rdf-dev">RDF-DEV Community Group</a>. It is not a W3C Standard nor is it
      on the W3C Standards Track.
      
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/final/">W3C Community Final Specification Agreement (FSA)</a>
            other conditions apply.
          
      Learn more about
      <a href="https://www.w3.org/community/">W3C Community and Business Groups</a>.
    </p>
  <p>
    <a href="https://github.com/w3c/rdf-star/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.
        
    Alternatively, you can send comments to our mailing list.
          Please send them to
          <a href="mailto:public-rdf-star@w3.org">public-rdf-star@w3.org</a>
          (<a href="mailto:public-rdf-star-request@w3.org?subject=subscribe">subscribe</a>,
          <a href="https://lists.w3.org/Archives/Public/public-rdf-star/">archives</a>).
        
  </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#introduction"><bdi class="secno">1. </bdi>Introduction</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#background-and-motivation"><bdi class="secno">1.1 </bdi>Background and Motivation</a></li><li class="tocline"><a class="tocxref" href="#overview"><bdi class="secno">1.2 </bdi>Overview</a></li><li class="tocline"><a class="tocxref" href="#common-misconceptions"><bdi class="secno">1.3 </bdi>Common misconceptions</a></li><li class="tocline"><a class="tocxref" href="#conventions"><bdi class="secno">1.4 </bdi>Conventions</a></li><li class="tocline"><a class="tocxref" href="#structure"><bdi class="secno">1.5 </bdi>Structure of this document</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">1.6 </bdi>Conformance</a></li></ol></li><li class="tocline"><a class="tocxref" href="#concepts"><bdi class="secno">2. </bdi>Concepts and Abstract Syntax</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#quoted-triples"><bdi class="secno">2.1 </bdi>Quoted and Asserted Triples</a></li><li class="tocline"><a class="tocxref" href="#rdf-star-graph-examples"><bdi class="secno">2.2 </bdi>RDF-star Graph Examples</a></li><li class="tocline"><a class="tocxref" href="#occurrences"><bdi class="secno">2.3 </bdi>Triples and occurrences</a></li></ol></li><li class="tocline"><a class="tocxref" href="#concrete-syntaxes"><bdi class="secno">3. </bdi>Concrete Syntaxes</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#annotation-syntax"><bdi class="secno">3.1 </bdi>Annotation Syntax</a></li><li class="tocline"><a class="tocxref" href="#turtle-star"><bdi class="secno">3.2 </bdi>Turtle-star</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#turtle-star-grammar"><bdi class="secno">3.2.1 </bdi>Grammar</a></li><li class="tocline"><a class="tocxref" href="#turtle-star-parsing"><bdi class="secno">3.2.2 </bdi>Parsing</a><ol class="toc"></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#trig-star"><bdi class="secno">3.3 </bdi>TriG-star</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#trig-star-grammar"><bdi class="secno">3.3.1 </bdi>Grammar</a></li><li class="tocline"><a class="tocxref" href="#trig-star-parsing"><bdi class="secno">3.3.2 </bdi>Parsing</a></li><li class="tocline"><a class="tocxref" href="#trig-star-discussion"><bdi class="secno">3.3.3 </bdi>Discussion</a></li></ol></li><li class="tocline"><a class="tocxref" href="#n-triples-star"><bdi class="secno">3.4 </bdi>N-Triples-star</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#n-triples-star-grammar"><bdi class="secno">3.4.1 </bdi>Grammar</a></li><li class="tocline"><a class="tocxref" href="#n-triples-star-parsing"><bdi class="secno">3.4.2 </bdi>Parsing</a></li></ol></li><li class="tocline"><a class="tocxref" href="#n-quads-star"><bdi class="secno">3.5 </bdi>N-Quads-star</a></li><li class="tocline"><a class="tocxref" href="#other-concrete-syntaxes"><bdi class="secno">3.6 </bdi>Other Concrete Syntaxes</a></li></ol></li><li class="tocline"><a class="tocxref" href="#sparql-star"><bdi class="secno">4. </bdi>SPARQL-star Query Language</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#initial-definitions"><bdi class="secno">4.1 </bdi>Initial Definitions</a></li><li class="tocline"><a class="tocxref" href="#sparql-star-grammar"><bdi class="secno">4.2 </bdi>Grammar</a></li><li class="tocline"><a class="tocxref" href="#translation-to-the-algebra"><bdi class="secno">4.3 </bdi>Translation to the Algebra</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#variable-scope"><bdi class="secno">4.3.1 </bdi>Variable Scope</a></li><li class="tocline"><a class="tocxref" href="#expand-syntax-forms"><bdi class="secno">4.3.2 </bdi>Expand Syntax Forms</a></li><li class="tocline"><a class="tocxref" href="#translate-property-path-patterns"><bdi class="secno">4.3.3 </bdi>Translate Property Path Patterns</a></li><li class="tocline"><a class="tocxref" href="#translate-bgp"><bdi class="secno">4.3.4 </bdi>Translate Basic Graph Patterns</a></li></ol></li><li class="tocline"><a class="tocxref" href="#builtin-functions"><bdi class="secno">4.4 </bdi>Function and Operator Definitions</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#triple-function"><bdi class="secno">4.4.1 </bdi>TRIPLE</a></li><li class="tocline"><a class="tocxref" href="#subject"><bdi class="secno">4.4.2 </bdi>SUBJECT</a></li><li class="tocline"><a class="tocxref" href="#predicate"><bdi class="secno">4.4.3 </bdi>PREDICATE</a></li><li class="tocline"><a class="tocxref" href="#object"><bdi class="secno">4.4.4 </bdi>OBJECT</a></li><li class="tocline"><a class="tocxref" href="#istriple"><bdi class="secno">4.4.5 </bdi>isTRIPLE</a></li><li class="tocline"><a class="tocxref" href="#quoted-triple-expression"><bdi class="secno">4.4.6 </bdi>Quoted Triple Expression</a></li><li class="tocline"><a class="tocxref" href="#rdf-star-func-sameTerm"><bdi class="secno">4.4.7 </bdi>sameTerm</a></li><li class="tocline"><a class="tocxref" href="#sparql-compare"><bdi class="secno">4.4.8 </bdi>sparql-compare</a></li><li class="tocline"><a class="tocxref" href="#rdf-star-termEqual"><bdi class="secno">4.4.9 </bdi>RDFterm-equal</a></li><li class="tocline"><a class="tocxref" href="#rdf-star-operator-mapping"><bdi class="secno">4.4.10 </bdi>Operator Mappings</a></li><li class="tocline"><a class="tocxref" href="#triple-term-comparison"><bdi class="secno">4.4.11 </bdi>Triple terms with ORDER BY</a></li></ol></li><li class="tocline"><a class="tocxref" href="#examples-and-discussion"><bdi class="secno">4.5 </bdi>Examples and Discussion</a></li><li class="tocline"><a class="tocxref" href="#evaluation-semantics"><bdi class="secno">4.6 </bdi>Evaluation Semantics</a></li><li class="tocline"><a class="tocxref" href="#query-result-formats"><bdi class="secno">4.7 </bdi>Query Result Formats</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sparql-star-query-results-json-format"><bdi class="secno">4.7.1 </bdi>SPARQL-star Query Results JSON Format</a></li><li class="tocline"><a class="tocxref" href="#sparql-star-query-results-xml-format"><bdi class="secno">4.7.2 </bdi>SPARQL-star Query Results XML Format</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#sparql-star-update"><bdi class="secno">5. </bdi>SPARQL-star Update</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#informal-description"><bdi class="secno">5.1 </bdi>Informal Description</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#insert-data"><bdi class="secno">5.1.1 </bdi>INSERT DATA</a></li><li class="tocline"><a class="tocxref" href="#delete-data"><bdi class="secno">5.1.2 </bdi>DELETE DATA</a></li><li class="tocline"><a class="tocxref" href="#delete-insert"><bdi class="secno">5.1.3 </bdi>DELETE/INSERT</a></li></ol></li><li class="tocline"><a class="tocxref" href="#grammar"><bdi class="secno">5.2 </bdi>Grammar</a></li><li class="tocline"><a class="tocxref" href="#semantics"><bdi class="secno">5.3 </bdi>Semantics</a></li></ol></li><li class="tocline"><a class="tocxref" href="#rdf-star-semantics"><bdi class="secno">6. </bdi>RDF-star Semantics</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#mapping"><bdi class="secno">6.1 </bdi>Mapping RDF-star abstract syntax to RDF</a></li><li class="tocline"><a class="tocxref" href="#entailment-of-rdf-star-graphs"><bdi class="secno">6.2 </bdi>Entailment of <span class="formerLink" data-link-type="dfn">RDF-star graphs</span></a></li><li class="tocline"><a class="tocxref" href="#merging"><bdi class="secno">6.3 </bdi>Merging RDF-star graphs</a></li><li class="tocline"><a class="tocxref" href="#remarks"><bdi class="secno">6.4 </bdi>Remarks</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#implementing-the-rdf-star-semantics"><bdi class="secno">6.4.1 </bdi>Implementing the RDF-star semantics</a></li><li class="tocline"><a class="tocxref" href="#combining-rdf-star-graphs"><bdi class="secno">6.4.2 </bdi>Combining RDF-star graphs</a></li><li class="tocline"><a class="tocxref" href="#other-uses-of-the-unstar-mapping"><bdi class="secno">6.4.3 </bdi>Other uses of the <span class="formerLink" data-link-type="dfn">unstar mapping</span></a></li><li class="tocline"><a class="tocxref" href="#ref-opacity"><bdi class="secno">6.4.4 </bdi>Referential opacity</a></li><li class="tocline"><a class="tocxref" href="#selective-ref-transparency"><bdi class="secno">6.4.5 </bdi>Selective referential transparency</a></li><li class="tocline"><a class="tocxref" href="#other-alternatives-to-referential-opacity"><bdi class="secno">6.4.6 </bdi>Other alternatives to referential opacity</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#rdf-star-vocabulary"><bdi class="secno">7. </bdi>RDF-star vocabulary</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#core-vocabulary"><bdi class="secno">7.1 </bdi>Core vocabulary</a></li><li class="tocline"><a class="tocxref" href="#extended-vocabulary"><bdi class="secno">7.2 </bdi>Extended vocabulary</a></li><li class="tocline"><a class="tocxref" href="#vocabulary-semantics"><bdi class="secno">7.3 </bdi>Vocabulary semantics</a></li></ol></li><li class="tocline"><a class="tocxref" href="#iana-considerations"><bdi class="secno">A. </bdi>IANA Considerations</a></li><li class="tocline"><a class="tocxref" href="#historical-remarks"><bdi class="secno">B. </bdi>Historical remarks</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#sa-mode-and-pg-mode"><bdi class="secno">B.1 </bdi>SA-mode and PG-mode</a></li><li class="tocline"><a class="tocxref" href="#the-seminal-example"><bdi class="secno">B.2 </bdi>The seminal example</a></li></ol></li><li class="tocline"><a class="tocxref" href="#complete-ebnf-grammars"><bdi class="secno">C. </bdi>Complete <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammars</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#turtle-star-ebnf"><bdi class="secno">C.1 </bdi>Turtle-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a></li><li class="tocline"><a class="tocxref" href="#trig-star-ebnf"><bdi class="secno">C.2 </bdi>TriG-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a></li><li class="tocline"><a class="tocxref" href="#n-triples-star-ebnf"><bdi class="secno">C.3 </bdi>N-Triples-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a></li><li class="tocline"><a class="tocxref" href="#n-quads-star-ebnf"><bdi class="secno">C.4 </bdi>N-Quads-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a></li><li class="tocline"><a class="tocxref" href="#sparql-star-ebnf"><bdi class="secno">C.5 </bdi>SPARQL-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a></li></ol></li><li class="tocline"><a class="tocxref" href="#issue-summary"><bdi class="secno">D. </bdi>Issue Summary</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">E. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">E.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">E.2 </bdi>Informative references</a></li></ol></li></ol></nav>

  <section id="introduction">
    <h2 id="x1-introduction"><bdi class="secno">1. </bdi>Introduction<a class="self-link" href="#introduction" aria-label="Permalink for Section 1."></a></h2>

    <section class="informative" id="background-and-motivation">
      <h3 id="x1-1-background-and-motivation"><bdi class="secno">1.1 </bdi>Background and Motivation<a class="self-link" href="#background-and-motivation" aria-label="Permalink for Section 1.1"></a></h3><p><em>This section is non-normative.</em></p>

      <p>The RDF data model lets you state facts in three-part subject-predicate-object statements known as triples. For example, with a single RDF triple, you can say that employee38 has a familyName of "Smith". A triple's predicate is a property specified with an IRI (an Internationalized version of a URI), identifying that property in a globally unambiguous way. A triple's subject and object can each be an IRI referencing any entity, and the object can also be a literal value such as "Smith" or data of other types such as dates, numbers, or Boolean values.</p>

      <p>Sometimes, we want the subject or object of a triple to refer to another triple. For example, the statement "according to employee22, employee38 has a jobTitle of 'Assistant Designer'" can be modeled as a triple with "according to" as its predicate, employee22 as its object, and another triple as its subject, namely the triple "employee38 has a jobTitle of 'Assistant Designer'". This use of a triple as the subject or object resource of another triple so that we can say things about that triple is known as <a href="https://www.w3.org/TR/rdf11-mt/#reification">reification</a>.
      The concept of reification has always been part of RDF, but expressing it in most RDF concrete syntaxes such as Turtle and N-Triples, as well as processing or querying it with SPARQL, has been verbose and cumbersome&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf-star-foundation" title="Foundations of RDF* and SPARQL* - An Alternative Approach to Statement-Level Metadata in RDF.">RDF-STAR-FOUNDATION</a></cite>].</p>

    </section>

    <section class="informative" id="overview">
      <h3 id="x1-2-overview"><bdi class="secno">1.2 </bdi>Overview<a class="self-link" href="#overview" aria-label="Permalink for Section 1.2"></a></h3><p><em>This section is non-normative.</em></p>

<p>This specification describes RDF-star, an extension of RDF's conceptual data model and concrete syntaxes, which provides a compact alternative to <a href="https://www.w3.org/TR/rdf11-mt/#reification">standard RDF reification</a>. This model and its syntaxes enable the creation of concise triples that reference other triples as subject and object resources.
Triples that include a triple as a subject or an object are known as <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-1">RDF-star triples</a>. The following dataset shows the example RDF-star triples from above using the <a href="#turtle-star">Turtle-star</a> syntax, which uses double angle brackets to enclose a triple serving as a subject or object resource:</p>

      <div class="example" id="example-1">
        <div class="marker">
    <a class="self-link" href="#example-1">Example<bdi> 1</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">PREFIX :    &lt;http://www.example.org/&gt;

:employee38 :familyName "Smith" .
&lt;&lt; :employee38 :jobTitle "Assistant Designer" &gt;&gt; :accordingTo :employee22 .</pre>
      </div>

<p>After declaring a prefix so that IRIs can be abbreviated, the first triple in this example asserts that employee38 has a familyName of "Smith". Note that this dataset does not assert that employee38 has a jobTitle of "Assistant Designer"; it says that employee22 has made that claim. In other words, the triple "employee38 has a jobTitle of 'Assistant Designer'" is not what we call an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-1">asserted triple</a>, like "employee38 has a familyName of 'Smith'" above; rather, it is known as a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-1">quoted triple</a>.</p>

<p>If we added the triple <code>:employee38 :jobTitle "Assistant Designer"</code> to the example above, then this triple about employee38's jobTitle would be both a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-2">quoted</a> and an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-2">asserted</a> triple.
This pattern is quite common, so Turtle-star offers a dedicated syntax for it, called the <a href="#dfn-annotation-syntax" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-annotation-syntax-1">annotation syntax</a>, illustrated in <a href="#example-annotation" class="box-ref">Example<bdi> 2</bdi></a> below. Note that this construct is purely syntactic sugar, as it can be expanded using only the double angle brackets.</p>

<div class="example" id="example-annotation">
        <div class="marker">
    <a class="self-link" href="#example-annotation">Example<bdi> 2</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">PREFIX :    &lt;http://www.example.org/&gt;

:employee38
    :familyName "Smith" ;
    :jobTitle "Assistant Designer" {| :accordingTo :employee22 |} .

# this is equivalent to:
#
# :employee38 :familyName "Smith" .
# :employee38 :jobTitle "Assistant Designer" .
# &lt;&lt; :employee38 :jobTitle "Assistant Designer" &gt;&gt; :accordingTo :employee22 .</pre>
      </div>


<p>This specification also describes an extension to the SPARQL Protocol and Query Language known as <a href="#sparql-star">SPARQL-star</a> for the querying of RDF-star triples. For example, the following SPARQL-star query asks "who has made any claims about employee38?"</p>

<div class="example" id="example-3">
        <div class="marker">
    <a class="self-link" href="#example-3">Example<bdi> 3</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt; 

SELECT ?claimer WHERE {
   &lt;&lt; :employee38 ?property ?value &gt;&gt; :accordingTo ?claimer
}</pre>
      </div>


<p>SPARQL can also be used to update RDF data, and SPARQL-star also extends that part. For example, the following SPARQL-star adds all the statements made by employee22 about employee38 as <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-3">asserted triples</a>, annotating them as "confirmed".</p>

<div class="example" id="example-4">
        <div class="marker">
    <a class="self-link" href="#example-4">Example<bdi> 4</bdi></a>
  </div> <pre data-content-type="application/sparql-update" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

INSERT {
  :employee38 ?p ?o {| :status "confirmed" |}
} WHERE {
   &lt;&lt; :employee38 ?p ?o &gt;&gt; :accordingTo :employee22
}</pre>
      </div>

    </section>
    <section id="common-misconceptions">
      <h3 id="x1-3-common-misconceptions"><bdi class="secno">1.3 </bdi>Common misconceptions<a class="self-link" href="#common-misconceptions" aria-label="Permalink for Section 1.3"></a></h3>

      <p>People coming to RDF-star may have wrong ideas about what it is or how to use it. The purpose of this section is to dispel the most common misconceptions.

      </p><p>RDF-star is <em>not</em> syntactic sugar for <a href="https://www.w3.org/TR/rdf11-mt/#reification">standard reification</a>. While the latter is a vocabulary that fits into the standard RDF model (abstract syntax), RDF-star extends that model (see <a href="#concepts" class="sec-ref">§&nbsp;<bdi class="secno">2. </bdi>Concepts and Abstract Syntax</a>) with a new construct, namely <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-3">quoted triples</a>. Note also that the two are not mutually exclusive: standard reification can be used in conjunction with RDF-star.

      </p><p>Unlike reified statements, RDF-star <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-4">quoted triples</a> are unique: wherever <code>&lt;&lt; :employee38 :jobTitle "Assistant Designer" &gt;&gt;</code> appears, it always denotes one and the same thing. This impacts the modeling choices one has to make when using RDF-star; this is further discussed in <a href="#occurrences" class="sec-ref">§&nbsp;<bdi class="secno">2.3 </bdi>Triples and occurrences</a>.

      </p><p>Finally, <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-5">quoted triples</a> are referentially opaque. This means that two <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-6">quoted triples</a> containing distinct but equivalent terms (i.e., coreferences, known to denote the same thing) are nonetheless considered to be different triples. <a href="#ref-opacity" class="sec-ref">§&nbsp;<bdi class="secno">6.4.4 </bdi>Referential opacity</a> and the following sections discuss the rationale for this design, and how some form of referential transparency can still be added to RDF-star if and when needed.
    </p></section>

    <section id="conventions">
      <h3 id="x1-4-conventions"><bdi class="secno">1.4 </bdi>Conventions<a class="self-link" href="#conventions" aria-label="Permalink for Section 1.4"></a></h3>
<p>For the remainder of this document, examples will assume that the following prefixes have been declared to represent the IRIs shown with them here: </p>

<table>
<tbody><tr><td><code>:</code></td><td><code>&lt;http://www.example.org/&gt;</code></td></tr>
<tr><td><code>rdf:</code></td><td><code>&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</code></td></tr>
<tr><td><code>rdfs:</code></td><td><code>&lt;http://www.w3.org/2000/01/rdf-schema#&gt;</code></td></tr>
<tr><td><code>owl:</code></td><td><code>&lt;http://www.w3.org/2002/07/owl#&gt;</code></td></tr>
<tr><td><code>prov:</code></td><td><code>&lt;http://www.w3.org/ns/prov#&gt;</code></td></tr>
<tr><td><code>dbo:</code></td><td><code>&lt;http://dbpedia.org/ontology/&gt;</code></td></tr>
<tr><td><code>dbr:</code></td><td><code>&lt;http://dbpedia.org/resource/&gt;</code></td></tr>
<tr><td><code>dc:</code></td><td><code>&lt;http://purl.org/dc/elements/1.1/&gt;</code></td></tr>
<tr><td><code>dct:</code></td><td><code>&lt;http://purl.org/dc/terms/&gt;</code></td></tr>
<tr><td><code>rdf-star:</code></td><td><code>&lt;http://www.w3.org/ns/rdf-star#&gt;</code></td></tr>
</tbody></table>

    </section>

    <section id="structure">
      <h3 id="x1-5-structure-of-this-document"><bdi class="secno">1.5 </bdi>Structure of this document<a class="self-link" href="#structure" aria-label="Permalink for Section 1.5"></a></h3>
      <p>This specification covers many aspects of RDF-star, and not all sections will be of interest to all readers.</p>
      <p><a href="#concepts">Section&nbsp;2</a> first defines the concepts and the abstract syntax of RDF-star, to which all following sections refer.
      The next three sections focus on how users will interact with the abstract syntax, defining the <a href="#concrete-syntaxes">concrete syntaxes</a>, the <a href="#sparql-star">query language SPARQL-star</a> and its <a href="#sparql-star-update">counterpart for updates</a>. <a href="#rdf-star-semantics">Section&nbsp;6</a> then defines RDF-star's formal semantics, which lays the foundation for reasoning with RDF-star data. Finally, <a href="#rdf-star-vocabulary">Section&nbsp;7</a> defines an RDF vocabulary capturing the main concepts of RDF-star.</p>

      <figure id="structure-map">
        <table>
          <tbody><tr>
            <td>
            </td><td rowspan="2">
              <div class="box" style="margin-bottom: 5em;">
                <a href="#concepts" class="sec-ref">§&nbsp;<bdi class="secno">2. </bdi>Concepts and Abstract Syntax</a><br>
                <strong>can be...</strong>
              </div>
            </td><td>
          </td></tr><tr>
            <td>
              <div class="box">
                <em>... serialized with</em><br>
                <a href="#concrete-syntaxes" class="sec-ref">§&nbsp;<bdi class="secno">3. </bdi>Concrete Syntaxes</a>
              </div>
            </td><td>
              <div class="box">
                <em>... represented by</em><br>
                <a href="#rdf-star-vocabulary" class="sec-ref">§&nbsp;<bdi class="secno">7. </bdi>RDF-star vocabulary</a>
              </div>
          </td></tr><tr>
            <td>
              <div class="box">
                <em>... queried with</em><br>
                <a href="#sparql-star" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>SPARQL-star Query Language</a><br>
              </div>
            </td><td>
              <div class="box">
                <em>... updated with</em><br>
                <a href="#sparql-star-update" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>SPARQL-star Update</a>
              </div>
            </td><td>
              <div class="box">
                <em>... interpreted through</em><br>
                <a href="#rdf-star-semantics" class="sec-ref">§&nbsp;<bdi class="secno">6. </bdi>RDF-star Semantics</a>
              </div>
        </td></tr></tbody></table>
        <figcaption>Figure <bdi class="figno">1</bdi> <span class="fig-title">A visual map of the sections of this document</span></figcaption>
      </figure>
    </section>

    <section id="conformance"><h3 id="x1-6-conformance"><bdi class="secno">1.6 </bdi>Conformance<a class="self-link" href="#conformance" aria-label="Permalink for Section 1.6"></a></h3><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p><p>
        The key words <em class="rfc2119">MAY</em>, <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, and <em class="rfc2119">OPTIONAL</em> in this document
        are to be interpreted as described in
        <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a>
        [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">RFC2119</a></cite>] [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc8174" title="Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words">RFC8174</a></cite>]
        when, and only when, they appear in all capitals, as shown here.
      </p>
      <p>A system supports RDF-star for input if it supports an input syntax for 
        an RDF 1.1 standard syntax that has additional syntax for  
        <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-7">quoted triples</a>.
        Such input syntaxes include those in the 
        <a href="https://w3c.github.io/rdf-star/tests/">RDF-star test suite</a>
        (<a href="https://w3c.github.io/rdf-star/tests/nt/syntax/">N-Triples-star syntax tests</a>,
        <a href="https://w3c.github.io/rdf-star/tests/turtle/syntax/">Turtle-star syntax tests</a>,
        or <a href="https://w3c.github.io/rdf-star/tests/trig/syntax/">TriG-star syntax tests</a>).
      </p>

      <p>A system supports RDF-star for output if it supports an output syntax for
        an RDF 1.1 standard syntax that has additional syntax for  
        <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-8">quoted triples</a>.
        Such output syntaxes include those in the
        <a href="https://w3c.github.io/rdf-star/tests/">RDF-star test suite</a>
        (<a href="https://w3c.github.io/rdf-star/tests/nt/syntax/">N-Triples-star syntax tests</a>,
        <a href="https://w3c.github.io/rdf-star/tests/turtle/syntax/">Turtle-star syntax tests</a>,
        or <a href="https://w3c.github.io/rdf-star/tests/trig/syntax/">TriG-star syntax tests</a>).
      </p>
      <p> 
        A system supports SPARQL-star if it passes
        the <a href="https://w3c.github.io/rdf-star/tests/sparql/syntax/">SPARQL-star syntax</a> test suite
        and the <a href="https://w3c.github.io/rdf-star/tests/sparql/eval/">SPARQL-star evaluation</a> test suites.
      </p>
    </section>

  </section>

  <section id="concepts">
    <h2 id="x2-concepts-and-abstract-syntax"><bdi class="secno">2. </bdi>Concepts and Abstract Syntax<a class="self-link" href="#concepts" aria-label="Permalink for Section 2."></a></h2>

    <p>In the following, we introduce a number of definitions specific to SPARQL-star, which rely on the following notions (extending some of them) defined in <cite><a href="https://www.w3.org/TR/rdf11-concepts/">RDF 1.1 Concepts and Abstract Syntax</a></cite>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-concepts" title="RDF 1.1 Concepts and Abstract Syntax">RDF11-CONCEPTS</a></cite>]:
    <dfn data-plurals="blank nodes" id="dfn-blank-node" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a></dfn>,
    <dfn id="dfn-default-graph" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a></dfn>,
    <dfn data-plurals="graph names" id="dfn-graph-name" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-graph-name">graph name</a></dfn>,
    <dfn data-plurals="iris" id="dfn-iri" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a></dfn>,
    <dfn data-plurals="literals" id="dfn-literal" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-literal">literal</a></dfn>,
    <dfn data-plurals="named graph" id="dfn-named-graphs" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graphs</a></dfn>,
    <dfn id="dfn-subject" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a></dfn>,
    <dfn id="dfn-predicate" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-predicate">predicate</a></dfn>,
    <dfn id="dfn-object" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a></dfn>,
    <dfn id="dfn-rdf-dataset" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-dataset">RDF dataset</a></dfn>,
    <dfn data-plurals="rdf graphs" id="dfn-rdf-graph" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a></dfn>,
    <dfn data-plurals="rdf triples" id="dfn-rdf-triple" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-triple">RDF triple</a></dfn>,
    and <dfn data-plurals="rdf terms" id="dfn-rdf-term" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a></dfn>.
    </p>

    <p>An <dfn data-lt="graph|RDF-star graph" data-plurals="rdf-star graphs" id="dfn-graph" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">RDF-star graph</dfn> is a set of <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-2">RDF-star triples</a>.</p>

    <p>An <dfn data-lt="triple|RDF-star triple" data-plurals="rdf-star triples" id="dfn-triple" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">RDF-star triple</dfn> is a 3-tuple defined recursively as follows:</p>
    <ul>
      <li>any <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-triple">RDF triple</a> is an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-3">RDF-star triple</a>;</li>
      <li>if <var>t</var> and <var>t'</var> are <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-4">RDF-star triples</a>, <var>s</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> or a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a>, <var>p</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a>, <var>o</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a>, a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a> or a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-literal">literal</a>, then (<var>t</var>, <var>p</var>, <var>o</var>), (<var>s</var>, <var>p</var>, <var>t</var>) and (<var>t</var>, <var>p</var>, <var>t'</var>) are <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-5">RDF-star triples</a>.</li>
    </ul>

    <p>As for <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-triple">RDF triples</a>, we call the 3 components of an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-6">RDF-star triple</a> its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-predicate">predicate</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a>, respectively. From the definitions above, it follows that any <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a> is also an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-1">RDF-star graph</a>. Note also that, by definition, an RDF-star triple cannot contain itself and cannot be nested infinitely.</p>

    <p><a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRIs</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-literal">literals</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank nodes</a> and <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-7">RDF-star triples</a> are collectively known as <dfn data-plurals="rdf-star term" id="dfn-rdf-star-terms" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">RDF-star terms</dfn>.</p>

    <p>For every <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-8">RDF-star triple</a> <var>t</var>, we define its <dfn data-lt="constituent|constituent terms" data-plurals="constituents" id="dfn-constituent" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">constituent terms</dfn> (or simply constituents) as the set containing its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a>, its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-predicate">predicate</a>, its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a>, plus all the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-1">constituent terms</a> of its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a> and/or its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a> if they are themselves <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-9">RDF-star triples</a>. By extension, we define the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-2">constituent terms</a> of an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-2">RDF-star graph</a> to be the union set of the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-3">constituent terms</a> of all its triples.</p>

    <div class="example">
      Consider the following <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-10">RDF-star triple</a> (represented in Turtle-star):
      <div class="example" id="example-5">
        <div class="marker">
    <a class="self-link" href="#example-5">Example<bdi> 5</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">&lt;&lt; _:a :name "Alice" &gt;&gt; :statedBy :bob.</pre>
      </div>
      Its set of <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-4">constituent terms</a> comprises the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRIs</a> <code>:name</code>, <code>:statedBy</code>, <code>:bob</code>, the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a> <code>_:a</code>, the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-literal">literal</a> <code>"Alice"</code>, and the <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-11">triple</a> <code>&lt;&lt; _:a :name "Alice" &gt;&gt;</code>.
    </div>

    <p>An <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-12">RDF-star triple</a> used as the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a> or <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a> of another <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-13">RDF-star triple</a> is called a <dfn data-lt="quoted|quoted triple" data-plurals="quoted triples" id="dfn-quoted" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">quoted triple</dfn>. An <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-14">RDF-star triple</a> that is an element of an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-3">RDF-star graph</a> is called an <dfn data-lt="asserted|asserted triple" data-plurals="asserted triples" id="dfn-asserted" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">asserted triple</dfn>. Note that, in a given <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-4">RDF-star graph</a>, the same <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-15">triple</a> <em class="rfc2119">MAY</em> be both <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-9">quoted</a> and <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-4">asserted</a>.</p>

    <p>An <dfn data-lt="dataset|RDF-star dataset" id="dfn-dataset" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">RDF-star dataset</dfn> is a collection of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-5">RDF-star graphs</a>, and comprises:</p>

    <ul>
      <li>Exactly one <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a>, being an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-6">RDF-star graph</a>. The <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a> does not have a name and <em class="rfc2119">MAY</em> be empty.</li>
      <li>Zero or more <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graphs</a>. Each <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graph</a> is a pair consisting of either an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> or a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a> (called the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-graph-name">graph name</a>), and an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-7">RDF-star graph</a>. <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-graph-name">Graph names</a> are unique within an <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-1">RDF-star dataset</a>.</li>
    </ul>

    <p>Again, this definition is an extension of the notion of <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-dataset">RDF dataset</a>, hence it follows that any <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-dataset">RDF dataset</a> is also an <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-2">RDF-star dataset</a>.</p>

    <section class="informative" id="quoted-triples">
      <h3 id="x2-1-quoted-and-asserted-triples"><bdi class="secno">2.1 </bdi>Quoted and Asserted Triples<a class="self-link" href="#quoted-triples" aria-label="Permalink for Section 2.1"></a></h3><p><em>This section is non-normative.</em></p>

      <p>
        A triple in RDF is a tuple of three components: subject, predicate, and object. These are
        collectively known as <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF Terms</a> as defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-concepts" title="RDF 1.1 Concepts and Abstract Syntax">RDF11-CONCEPTS</a></cite>].
      </p>
      <p>
        RDF-star introduces <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-10">quoted triple</a>, which is a new kind of RDF term.
        A <em>quoted triple</em> is a triple used as the subject or object of another triple. Quoted
        triples can also be called "embedded triples".
      </p>

      <p>
        in RDF 1.1, an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-5">asserted triple</a> is an element of the set of triples that
        make up an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a>. RDF-star does not change this except that an RDF-star
        triple can contain quoted triples. A triple can be used as an <em>asserted
        triple</em>, a <em>quoted triple</em>, or both, in a given graph.
      </p>

      <p>
        A quoted triple is written in Turtle-star and related syntaxes using delimiters <code>&lt;&lt;</code> and <code>&gt;&gt;</code>.
      </p>
      <p style="margin-left: 2em;">
        <code>
          &lt;&lt; :a :name "Alice" &gt;&gt;
        </code>
      </p>
      <p>
        The definition of <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-11">quoted triple</a> is recursive. That is, a quoted triple can itself have a
        subject or object component which is another quoted triple. Cycles of quoted
        triples can not be created.  In the next example, there is a quoted triple with
        property <code>:reportedBy</code>, whose subject is another quoted triple, <code>:a :name
        "Alice"</code>.
      </p>
      <p style="margin-left: 2em;">
        <code>
          &lt;&lt; &lt;&lt; :a :name "Alice" &gt;&gt;  :reportedBy :charlie &gt;&gt;
        </code>
      </p>
      <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="4"><span>Note</span></div><div class="">
      <p>
        It may be apt to draw a parallel between "quoted" triples and
        quoted expressions in the <em>programming language Lisp</em>.
        Expressions in Lisp (called "s-expressions") are interpreted
        through a process called "evaluation", and as a result they
        have a value. A quoted expression evaluates to the expression itself -
        you can imagine that quoting prevents the expression from being
        evaluated. In RDF (as well as in RDF-star), <em>asserting</em> a triple
        (i.e., considering it to be "true") serves as the analogue of
        evaluation. Triples are asserted, unless (in RDF-star) they are quoted
        which, effectively, prevents the triple from being asserted - thus a
        quoted triple stands by itself and we assign no truth value to it.
      </p>
      <p>
        Obviously this way of thinking is helpful only if you understand how Lisp works.
      </p>
      </div></div>
    </section>

    <section id="rdf-star-graph-examples">
      <h3 id="x2-2-rdf-star-graph-examples"><bdi class="secno">2.2 </bdi>RDF-star Graph Examples<a class="self-link" href="#rdf-star-graph-examples" aria-label="Permalink for Section 2.2"></a></h3>
        
      <p>
        In the example below, there is a quoted triple, <code>:a :name "Alice"</code>, which is used
        as the subject for an asserted triple:
      </p>
      <div class="example" id="example-6">
        <div class="marker">
    <a class="self-link" href="#example-6">Example<bdi> 6</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt; 

:bob :name "Bob" .
&lt;&lt; :a :name "Alice" &gt;&gt; :statedBy :bob .</pre>
      </div> 
      <p>
        The graph of this example has two asserted triples:
      </p>
      <ol>
        <li><code>:bob :name "Bob" .</code></li>
        <li><code>&lt;&lt; :a :name "Alice" &gt;&gt; :statedBy :bob .</code></li>
      </ol>
      <p>
        This graph does not have an asserted triple, <code>:a :name "Alice"</code>, because
        that triple is not an element of the set of triples.
      </p>
      <p>
        On the other hand, the graph in the example below contains three asserted triples:
        the same two as the previous example, and <code>:a :name "Alice"</code>. The latter is used
        both as an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-6">asserted triple</a> and a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-12">quoted triple</a> in this graph.
      </p>
      <div class="example" id="example-7">
        <div class="marker">
    <a class="self-link" href="#example-7">Example<bdi> 7</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt; 

:bob :name "Bob" .
:a :name "Alice" .
&lt;&lt; :a :name "Alice" &gt;&gt; :statedBy :bob .</pre>
      </div>  
    </section>
    
    <section class="informative" id="occurrences">
      <h3 id="x2-3-triples-and-occurrences"><bdi class="secno">2.3 </bdi>Triples and occurrences<a class="self-link" href="#occurrences" aria-label="Permalink for Section 2.3"></a></h3><p><em>This section is non-normative.</em></p>

      <p>According to the definitions above, an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-16">RDF-star triple</a> is an abstract entity whose identity is entirely defined by its subject, predicate, and object. Conversely, given three <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-1">RDF-star terms</a> <var>s</var>, <var>p</var>, and <var>o</var>, there is exactly and only one <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-17">RDF-star triple</a> with subject <var>s</var>, predicate <var>p</var>, and object <var>o</var>. This unique triple (<var>s</var>, <var>p</var>, <var>o</var>) can be <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-13">quoted</a> as the subject or object of multiple other triples, but must be assumed to represent the <em>same thing</em> everywhere it occurs, just like the same <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> <var>p</var> is assumed to represent the same thing everywhere it occurs.</p>

      <p>In some situations, however, it might be necessary to distinguish the <em>occurrences</em> of a triple in different graphs. Consider the following sentence: "The triple <code>&lt;http://example.org/s&gt; &lt;http://example.org/p&gt; &lt;http://example.org/o&gt;</code> in (the graph represented by) file1.ttl was added by Alice, and the same triple in file2.ttl was added by Bob." Note that the words "same triple" in this sentence may be confusing, because although the triple (as an abstract entity) is the same, its respective occurrences are different things, each within a different file and with a different author (this is known, in philosophy and linguistics, as the <a href="https://en.wikipedia.org/wiki/Type%E2%80%93token_distinction">type-token distinction</a>). As the <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-14">quoted triple</a> represents a unique thing, adequately conveying the meaning of the sentence above requires additional nodes for representing the two distinct occurrences. One possible solution is illustrated in the following example (using the Turtle-star concrete syntax described in <a href="#turtle-star">the next section</a>).</p>

      <div class="example" id="occurrences-example">
        <div class="marker">
    <a class="self-link" href="#occurrences-example">Example<bdi> 8</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">_:a :occurrenceOf &lt;&lt; :s :p :o &gt;&gt; ;
    :in &lt;file1.ttl&gt; ;
    dct:creator :alice.
_:b :occurrenceOf &lt;&lt; :s :p :o &gt;&gt; ;
    :in &lt;file2.ttl&gt; ;
    dct:creator :bob.</pre>
      </div>
    </section>

  </section>

  <section id="concrete-syntaxes">
  <h2 id="x3-concrete-syntaxes"><bdi class="secno">3. </bdi>Concrete Syntaxes<a class="self-link" href="#concrete-syntaxes" aria-label="Permalink for Section 3."></a></h2>

  <p>This section defines the following concrete syntaxes:</p>
  <ul>
    <li><a href="#turtle-star" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>Turtle-star</a></li>
    <li><a href="#trig-star" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.3 </bdi>TriG-star</a></li>
    <li><a href="#n-triples-star" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.4 </bdi>N-Triples-star</a></li>
    <li><a href="#n-quads-star" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.5 </bdi>N-Quads-star</a></li>
    <li><a href="#other-concrete-syntaxes" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.6 </bdi>Other Concrete Syntaxes</a></li>
  </ul>

  <p>
    Changes for SPARQL-star are given in
    <a href="#sparql-star-grammar" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">4.2 </bdi>Grammar</a>
    and the changes for the result set formats in
    <a href="#query-result-formats" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">4.7 </bdi>Query Result Formats</a>.</p>

    <section id="annotation-syntax">
      <h3 id="x3-1-annotation-syntax"><bdi class="secno">3.1 </bdi>Annotation Syntax<a class="self-link" href="#annotation-syntax" aria-label="Permalink for Section 3.1"></a></h3>
      <p>There are syntax additions for <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-15">quoted triples</a> and also for
        <dfn data-lt="annotation-syntax|annotation syntax" id="dfn-annotation-syntax" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">annotation syntax</dfn>
        which provides a convenient shortcut in Turtle-star and
        TriG-star syntaxes. It is used to both assert a triple and have that triple be the
        subject of further triples. It uses delimiters <code>{|</code> and <code>|}</code> following an asserted
        triple to make that triple, as a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-16">quoted triple</a>, the subject of the
        RDF-star triples formed by combining it with the enclosed RDF predicate(s) and object(s).
      </p>
      <p>
        Annotation syntax does not appear in the RDF-star abstract data model. It is
        only a syntactic short cut and the RDF-star abstract data model does not
        distinguished how the triples were written.
      </p>
      <div class="example" id="example-9">
        <div class="marker">
    <a class="self-link" href="#example-9">Example<bdi> 9</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">:a :name "Alice" {| :statedBy :bob ; :recorded "2021-07-07"^^xsd:date |} .</pre>
      </div>
      <p>is the same set of triples as:</p>
      <div class="example" id="example-10">
        <div class="marker">
    <a class="self-link" href="#example-10">Example<bdi> 10</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">&lt;&lt; :a :name "Alice" &gt;&gt; :statedBy :bob .
&lt;&lt; :a :name "Alice" &gt;&gt; :recorded "2021-07-07"^^xsd:date .
:a :name "Alice"</pre>
      </div>
      <p>and <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-8">RDF-star graph</a> contains three asserted triples.</p>
    </section>

  <section id="turtle-star">
    <h3 id="x3-2-turtle-star"><bdi class="secno">3.2 </bdi>Turtle-star<a class="self-link" href="#turtle-star" aria-label="Permalink for Section 3.2"></a></h3>
    <p>In this section, we present Turtle-star,
      an extension of the Turtle format&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-turtle" title="RDF 1.1 Turtle">TURTLE</a></cite>]
      allowing the representation of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-9">RDF-star graphs</a>.
      For the sake of conciseness,
      we only describe here the differences between Turtle-star and Turtle.</p>

    <section id="turtle-star-grammar">
      <h4 id="x3-2-1-grammar"><bdi class="secno">3.2.1 </bdi>Grammar<a class="self-link" href="#turtle-star-grammar" aria-label="Permalink for Section 3.2.1"></a></h4>
      <p>Turtle-star is defined to follow the <a href="https://www.w3.org/TR/turtle/#h3_sec-grammar-grammar">same grammar</a> as Turtle,
        <em>except</em> for the <a href="https://www.w3.org/TR/xml/#sec-notation"><abbr title="Extended Backus-Naur Form">EBNF</abbr> productions</a> specified below,
        which replace the productions having the same number (if any) in the original grammar.</p>

      <table class="grammar">
        <tbody><tr id="grammar-production-objectList">
          <td>[8]</td>
          <td><code>objectList</code></td>
          <td>::=</td>
          <td>
            <a href="#grammar-production-object">object</a>
            <a style="font-weight: bold" href="#grammar-production-annotation">annotation</a><code>?</code>
            <code>(</code>
            <code class="grammar-literal">','</code>
            <a href="#grammar-production-object">object</a>
            <a style="font-weight: bold" href="#grammar-production-annotation">annotation</a><code>?</code>
            <code>)*</code>
          </td>
        </tr>
        <tr id="grammar-production-subject">
          <td>[10]</td>
          <td><code>subject</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-collection">collection</a> <code>|</code>
            <a style="font-weight: bold" href="#grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr id="grammar-production-object">
          <td>[12]</td>
          <td><code>object</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-collection">collection</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-blankNodePropertyList">blankNodePropertyList</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-literal">literal</a> <code>|</code>
            <a style="font-weight: bold" href="#grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr style="font-weight: bold" id="grammar-production-quotedTriple">
          <td>[27t]</td>
          <td><code>quotedTriple</code></td>
          <td>::=</td>
          <td>
            <code class="grammar-literal">'&lt;&lt;'</code>
            <a href="#grammar-production-qtSubject">qtSubject</a>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-verb">verb</a>
            <a href="#grammar-production-qtObject">qtObject</a>
            <code class="grammar-literal">'&gt;&gt;'</code>
          </td>
        </tr>
        <tr style="font-weight: bold" id="grammar-production-qtSubject">
          <td>[28t]</td>
          <td><code>qtSubject</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="#grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr style="font-weight: bold" id="grammar-production-qtObject">
          <td>[29t]</td>
          <td><code>qtObject</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-literal">literal</a> <code>|</code>
            <a href="#grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr style="font-weight: bold" id="grammar-production-annotation">
          <td>[30t]</td>
          <td><code>annotation</code></td>
          <td>::=</td>
          <td>
            <code class="grammar-literal">'{|'</code>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-predicateObjectList">predicateObjectList</a>
            <code class="grammar-literal">'|}'</code>
          </td>
        </tr>
      </tbody></table>

      <div class="note" role="note" id="issue-container-generatedID-0"><div role="heading" class="note-title marker" id="h-note-0" aria-level="5"><span>Note</span></div><p class="">The complete grammar may be found in <a href="#turtle-star-ebnf" class="sec-ref">§&nbsp;<bdi class="secno">C.1 </bdi>Turtle-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a>.</p></div>

      <div class="note" role="note" id="issue-container-generatedID-1"><div role="heading" class="note-title marker" id="h-note-1" aria-level="5"><span>Note</span></div><p class="">
        The changes are that <a href="#grammar-production-subject"><code>subject</code></a>
        and <a href="#grammar-production-object"><code>object</code></a> productions
        have been extended to accept <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-17">quoted triples</a>,
        which are described by the new productions <a href="#grammar-production-quotedTriple">27t</a>
        to <a href="#grammar-production-qtObject">30t</a>.
        Note that <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-18">quoted triples</a> accept a more restricted range of
        <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a> expressions
        than <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-7">asserted triples</a>.
        Additionally, the <a href="#grammar-production-objectList"><code>objectList</code></a> production
        now accepts an optional <a href="#grammar-production-annotation">annotation</a> after each <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a>.</p></div>
    </section>

    <section id="turtle-star-parsing">
      <h4 id="x3-2-2-parsing"><bdi class="secno">3.2.2 </bdi>Parsing<a class="self-link" href="#turtle-star-parsing" aria-label="Permalink for Section 3.2.2"></a></h4>
      <p>A Turtle-star parser is similar to a Turtle parser
        as defined in <a href="https://www.w3.org/TR/turtle/#h2_sec-parsing">Section&nbsp;7 of the Turtle specification</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-turtle" title="RDF 1.1 Turtle">TURTLE</a></cite>],
        with an additional item in its state&nbsp;:</p>
      <ul>
        <li id="curObject">
          <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-2">RDF-star Term</a> <var>curObject</var> —
          The <var>curObject</var> is bound to the <a href="#grammar-production-qtObject"><code>qtObject</code></a> production.</li>
      </ul>
      <p>Additionally, the <a href="https://www.w3.org/TR/turtle/#curSubject"><var>curSubject</var></a>
        can be bound to any <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-3">RDF-star term</a>
        (including a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-19">quoted triple</a>).</p>

      <p>A <dfn id="dfn-turtle-star-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">Turtle-star document</dfn> defines an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-10">RDF-star graph</a>
        composed of a set of <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-18">RDF-star triples</a>.
        The <a href="#grammar-production-subject"><code>subject</code></a>
        and <a href="#grammar-production-qtSubject"><code>qtSubject</code></a> productions set the <var>curSubject</var>.
        The <a href="https://www.w3.org/TR/turtle/#grammar-production-verb"><code>verb</code></a> production
        sets the <a href="https://www.w3.org/TR/turtle/#curPredicate"><var>curPredicate</var></a>.
        The <a href="#grammar-production-object"><code>object</code></a>
        and <a href="#grammar-production-qtObject"><code>qtObject</code></a> productions
        set the <var>curObject</var>.
        Finishing the <a href="#grammar-production-object"><code>object</code></a> production,
        an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-19">RDF-star triple</a> <var>curSubject</var> <var>curPredicate</var> <var>curObject</var> is produced
        (added to the <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-11">RDF-star graph</a>).</p>

      <p>Beginning the <a href="#grammar-production-quotedTriple"><code>quotedTriple</code></a> production
        records the <var>curSubject</var> and <var>curPredicate</var>.
        Finishing the <a href="#grammar-production-quotedTriple"><code>quotedTriple</code></a> production
        yields the <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-20">RDF-star triple</a> <var>curSubject</var> <var>curPredicate</var> <var>curObject</var>
        and restores the recorded values of <var>curSubject</var> and <var>curPredicate</var>.</p>

      <p>Beginning the <a href="#grammar-production-annotation"><code>annotation</code></a> production
        records the <var>curSubject</var> and <var>curPredicate</var>,
        and sets the <var>curSubject</var> to the <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-21">RDF-star triple</a> <var>curSubject</var> <var>curPredicate</var> <var>curObject</var>.
        Finishing the <a href="#grammar-production-annotation"><code>annotation</code></a> production
        restores the recorded values of <var>curSubject</var> and <var>curPredicate</var>.</p>

      <p>All other productions <em class="rfc2119">MUST</em> be handled as specified
        by <a href="https://www.w3.org/TR/turtle/#h2_sec-parsing">Section&nbsp;7 of the Turtle specification</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-turtle" title="RDF 1.1 Turtle">TURTLE</a></cite>],
        while still applying the changes above recursively.</p>

      <section id="turtle-star-parsing-discussion" class="informative">
      <h5 id="x3-2-2-1-discussion"><bdi class="secno">3.2.2.1 </bdi>Discussion<a class="self-link" href="#turtle-star-parsing-discussion" aria-label="Permalink for Section 3.2.2.1"></a></h5><p><em>This section is non-normative.</em></p>

      <p>This section describes parser behavior when parsing
        a <a href="#dfn-turtle-star-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-turtle-star-document-1">Turtle-star document</a> that contains <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-20">quoted triples</a>
        and <a href="#grammar-production-annotation">annotations</a>.</p>

      <p>Consider a Turtle-star document that describes an RDF triple,
        and also uses that triple as a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-21">quoted triple</a>
        as the subject of another RDF-star triple:</p>

      <div class="example" id="example-turtle-star-quoted-triples">
        <div class="marker">
    <a class="self-link" href="#example-turtle-star-quoted-triples">Example<bdi> 11</bdi></a><span class="example-title">: Turtle-star quoted triples</span>
  </div> <pre data-content-type="text/turtle" aria-busy="false"><code class="hljs css">BASE &lt;http://example.org/&gt;
PREFIX : &lt;#&gt; 
_:a :name <span class="hljs-string">"Alice"</span> .
&lt;&lt; _:a :name <span class="hljs-string">"Alice"</span> &gt;&gt; :statedBy :bob .</code></pre>
      </div>

      <p>The usual process of parsing a Turtle document
        applies with the addition of matching the <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-22">quoted triple</a>
        <code>&lt;&lt; _:a :name "Alice" &gt;&gt;</code>
        as part of the <a href="#grammar-production-subject"><code>subject</code></a> production.
        The resulting RDF-star graph consists of two RDF-star triples:</p>

      <ol>
        <li>(<var>b</var>, <code>http://example.org/#name</code>, <code>"Alice"</code>),
          where <var>b</var> is a blank node</li>
        <li>((<var>b</var>, <code>http://example.org/#name</code>, <code>"Alice"</code>), <code>http://example.org/#statedBy</code>, <code>http://example.org/#bob/</code>),
          where <var>b</var> is the same blank node</li>
      </ol>

      <p>Because the above example includes the triple (<var>b</var>, <code>http://example.org/#name</code>, <code>"Alice"</code>)
        as an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-8">asserted triple</a>,
        the same RDF-star graph may also be represented
        by using the Turtle-star <a href="#dfn-annotation-syntax" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-annotation-syntax-2">annotation syntax</a> as follows:</p>

      <div class="example" id="example-turtle-star-annotated-triples">
        <div class="marker">
    <a class="self-link" href="#example-turtle-star-annotated-triples">Example<bdi> 12</bdi></a><span class="example-title">: Turtle-star annotated triples</span>
  </div> <pre data-content-type="text/turtle" aria-busy="false"><code class="hljs css">BASE &lt;http://example.org/&gt;
PREFIX : &lt;#&gt;
_:a :name <span class="hljs-string">"Alice"</span> {| :statedBy :bob |} .</code></pre>
      </div>

      <p>In this case, the <a href="#grammar-production-objectList"><code>objectList</code></a> production
        matches the <a href="#grammar-production-annotation"><code>annotation</code></a> production on <code>{| :source :bob |}</code>
        after parsing the <a href="#grammar-production-object"><code>object</code></a> production on <code>"Alice"</code>.
        At this point, the <var>curSubject</var>, <var>curPredicate</var>, and <var>curObject</var> are saved,
        and a new RDF-star triple <code>_:a :name "Alice"</code> is created
        and used as <var>curSubject</var> while processing
        the <a href="#grammar-production-annotation"><code>annotation</code></a> production.</p>
      </section>
    </section>
  </section>

  <section id="trig-star">
    <h3 id="x3-3-trig-star"><bdi class="secno">3.3 </bdi>TriG-star<a class="self-link" href="#trig-star" aria-label="Permalink for Section 3.3"></a></h3>

    <p>This section describes TriG-star,
      a minimal extension of the TriG format [<cite><a class="bibref" data-link-type="biblio" href="#bib-trig" title="RDF 1.1 TriG">TRIG</a></cite>]
      using the same production updates described in <a href="#turtle-star" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>Turtle-star</a>.</p>

    <div class="note" role="note" id="issue-container-generatedID-2"><div role="heading" class="note-title marker" id="h-note-2" aria-level="4"><span>Note</span></div><p class="">RDF-star describes <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-23">quoted triples</a>,
      which are not necessarily present in any <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graph</a>,
      or within the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a>.</p></div>

    <p>A <dfn id="dfn-trig-star-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">TriG-star document</dfn> defines an <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-3">RDF-star dataset</a>, composed of
      a single <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a> and zero or more <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graphs</a>,
      all of which are <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-12">RDF-star graphs</a>.</p>

    <section id="trig-star-grammar">
      <h4 id="x3-3-1-grammar"><bdi class="secno">3.3.1 </bdi>Grammar<a class="self-link" href="#trig-star-grammar" aria-label="Permalink for Section 3.3.1"></a></h4>
      <p>TriG-star is defined to follow the <a href="https://www.w3.org/TR/trig/#grammar-ebnf">same grammar</a> as TriG,
        <em>except</em> for the <a href="https://www.w3.org/TR/xml/#sec-notation"><abbr title="Extended Backus-Naur Form">EBNF</abbr> productions</a> specified below,
        which replace the productions having the same number (if any) in the original grammar.</p>

      <p>The TriG-star grammar contains exactly the same production updates
        described in <a href="#turtle-star-grammar" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.2.1 </bdi>Grammar</a>
        with an additional change to the <a href="#trig-grammar-production-triplesOrGraph">triplesOrGraph</a> production.</p>

      <table class="grammar">
        <tbody><tr id="trig-grammar-production-triplesOrGraph">
          <td>[3g]</td>
          <td><code>triplesOrGraph</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/trig/#grammar-production-labelOrSubject">labelOrSubject</a>
            <code>(</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-wrappedGraph">wrappedGraph</a>
            <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-predicateObjectList">predicateObjectList</a>
            <code>'.' )</code>
            <div style="font-weight: bold">
              <code>|</code>
              <a href="#trig-grammar-production-quotedTriple">quotedTriple</a>
              <a href="https://www.w3.org/TR/trig/#grammar-production-predicateObjectList">predicateObjectList</a>
              <code>'.'</code>
            </div>
          </td>
        </tr>
        <tr id="trig-grammar-production-objectList">
          <td>[8]</td>
          <td><code>objectList</code></td>
          <td>::=</td>
          <td>
            <a href="#trig-grammar-production-object">object</a>
            <a style="font-weight: bold" href="#trig-grammar-production-annotation">annotation</a><code>?</code>
            <code>(</code>
            <code class="grammar-literal">','</code>
            <a href="#trig-grammar-production-object">object</a>
            <a style="font-weight: bold" href="#trig-grammar-production-annotation">annotation</a><code>?</code>
            <code>)*</code>
          </td>
        </tr>
        <tr id="trig-grammar-production-subject">
          <td>[10]</td>
          <td><code>subject</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/trig/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-collection">collection</a> <code>|</code>
            <a style="font-weight: bold" href="#trig-grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr id="trig-grammar-production-object">
          <td>[12]</td>
          <td><code>object</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/trig/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-collection">collection</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-blankNodePropertyList">blankNodePropertyList</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-literal">literal</a> <code>|</code>
            <a style="font-weight: bold" href="#trig-grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr style="font-weight: bold" id="trig-grammar-production-quotedTriple">
          <td>[27t]</td>
          <td><code>quotedTriple</code></td>
          <td>::=</td>
          <td>
            <code class="grammar-literal">'&lt;&lt;'</code>
            <a href="#trig-grammar-production-qtSubject">qtSubject</a>
            <a href="https://www.w3.org/TR/turtle/#grammar-production-verb">verb</a>
            <a href="#trig-grammar-production-qtObject">qtObject</a>
            <code class="grammar-literal">'&gt;&gt;'</code>
          </td>
        </tr>
        <tr style="font-weight: bold" id="trig-grammar-production-qtSubject">
          <td>[28t]</td>
          <td><code>qtSubject</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/trig/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="#trig-grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr style="font-weight: bold" id="trig-grammar-production-qtObject">
          <td>[29t]</td>
          <td><code>qtObject</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/trig/#grammar-production-iri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-BlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-literal">literal</a> <code>|</code>
            <a href="#trig-grammar-production-quotedTriple">quotedTriple</a>
          </td>
        </tr>
        <tr style="font-weight: bold" id="trig-grammar-production-annotation">
          <td>[30t]</td>
          <td><code>annotation</code></td>
          <td>::=</td>
          <td>
            <code class="grammar-literal">'{|'</code>
            <a href="https://www.w3.org/TR/trig/#grammar-production-predicateObjectList">predicateObjectList</a>
            <code class="grammar-literal">'|}'</code>
          </td>
        </tr>
      </tbody></table>

      <div class="note" role="note" id="issue-container-generatedID-3"><div role="heading" class="note-title marker" id="h-note-3" aria-level="5"><span>Note</span></div><p class="">The complete grammar may be found in <a href="#trig-star-ebnf" class="sec-ref">§&nbsp;<bdi class="secno">C.2 </bdi>TriG-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a>.</p></div>
    </section>

    <section id="trig-star-parsing">
      <h4 id="x3-3-2-parsing"><bdi class="secno">3.3.2 </bdi>Parsing<a class="self-link" href="#trig-star-parsing" aria-label="Permalink for Section 3.3.2"></a></h4>
      <p>TriG-star parsing uses the same updates described
        in <a href="#turtle-star-parsing" class="sectionRef sec-ref">§&nbsp;<bdi class="secno">3.2.2 </bdi>Parsing</a>
        as applied to <a href="https://www.w3.org/TR/trig/#sec-parsing">Section 5 of the TriG specification</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-trig" title="RDF 1.1 TriG">TRIG</a></cite>].</p>

      <div class="note" role="note" id="issue-container-generatedID-4"><div role="heading" class="note-title marker" id="h-note-4" aria-level="5"><span>Note</span></div><p class="">As with Turtle-star,
        the <a href="#grammar-production-quotedTriple"><code>quotedTriple</code></a>
        and <a href="#grammar-production-annotation"><code>annotation</code></a>
        are used to set either the <var>curSubject</var> or <var>curObject</var>,
        and do not directly add the associated <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-24">quoted triple</a> to <var>curGraph</var>.
        Subsequent productions which use either <var>curSubject</var> or <var>curObject</var>
        may result in adding triples to <var>curGraph</var>.</p></div>

      <p>A conforming TriG-star parser <em class="rfc2119">MUST</em> parse any
        valid <strong>TriG document</strong> and any
        valid <a href="#dfn-turtle-star-document" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-turtle-star-document-2">Turtle-star document</a> in addition
        to the <a href="#turtle-star-grammar">Turtle-star grammar</a> productions contained within a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graph</a>.</p>
    </section>

    <section id="trig-star-discussion" class="informative">
      <h4 id="x3-3-3-discussion"><bdi class="secno">3.3.3 </bdi>Discussion<a class="self-link" href="#trig-star-discussion" aria-label="Permalink for Section 3.3.3"></a></h4><p><em>This section is non-normative.</em></p>

      <p>TriG-star allows the same expressivity as Turtle-star
        with the addition of allowing <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-25">quoted triples</a>
        and <a href="#grammar-production-annotation">annotations</a>
        within named graphs.</p>

      <div class="example" id="example-trig-star-annotated-triples">
        <div class="marker">
    <a class="self-link" href="#example-trig-star-annotated-triples">Example<bdi> 13</bdi></a><span class="example-title">: TriG-star annotated triples</span>
  </div> <pre data-content-type="text/turtle" aria-busy="false"><code class="hljs css">BASE &lt;http://example.org/&gt;
PREFIX : &lt;#&gt;
:G {
  _:a :name <span class="hljs-string">"Alice"</span> {| :statedBy :bob |} .
}</code></pre>
      </div>

      <p>The resulting RDF-star dataset consists of
      an empty default graph, and a graph named <code>http://example.org/#G</code>
      with two RDF-star triples:</p>

      <ol>
        <li>(<var>b</var>, <code>http://example.org/#name</code>, <code>"Alice"</code>),
          where <var>b</var> is a blank node</li>
        <li>((<var>b</var>, <code>http://example.org/#name</code>, <code>"Alice"</code>), <code>http://example.org/#statedBy</code>, <code>http://example.org/#bob/</code>),
          where <var>b</var> is the same blank node</li>
      </ol>
    </section>
  </section>

  <section id="n-triples-star">
    <h3 id="x3-4-n-triples-star"><bdi class="secno">3.4 </bdi>N-Triples-star<a class="self-link" href="#n-triples-star" aria-label="Permalink for Section 3.4"></a></h3>

    <p>This section describes N-Triples-star,
      a minimal extension of the N-Triples format [<cite><a class="bibref" data-link-type="biblio" href="#bib-n-triples" title="RDF 1.1 N-Triples">N-TRIPLES</a></cite>]
      allowing a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a> or an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a>
      of an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-22">RDF-star triple</a> to be a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-26">quoted triple</a>.</p>

    <section id="n-triples-star-grammar">
      <h4 id="x3-4-1-grammar"><bdi class="secno">3.4.1 </bdi>Grammar<a class="self-link" href="#n-triples-star-grammar" aria-label="Permalink for Section 3.4.1"></a></h4>
      <p>N-Triples-star is defined to follow the same grammar as
        the <a href="https://www.w3.org/TR/n-triples/#n-triples-grammar">N-Triples Grammar</a>,
        except for the <a href="https://www.w3.org/TR/xml/#sec-notation"><abbr title="Extended Backus-Naur Form">EBNF</abbr> productions</a> specified below,
        which replace the productions having the same number
        (if any) in the original grammar.</p>

      <table class="grammar">
        <tbody id="grammar-productions" class="ebnf">
          <tr id="grammar-production-nt-subject">
            <td>[3]</td>
            <td><code>subject</code></td>
            <td>::=</td>
            <td><a href="https://www.w3.org/TR/n-triples/#grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="https://www.w3.org/TR/n-triples/#grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a style="font-weight: bold" href="#grammar-production-nt-quotedTriple">quotedTriple</a></td>
          </tr>
          <tr id="grammar-production-nt-object">
            <td>[5]</td>
            <td><code>object</code></td>
            <td>::=</td>
            <td><a href="https://www.w3.org/TR/n-triples/#grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="https://www.w3.org/TR/n-triples/#grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="https://www.w3.org/TR/n-triples/#grammar-production-literal">literal</a> <code>|</code> <a style="font-weight: bold" href="#grammar-production-nt-quotedTriple">quotedTriple</a></td>
          </tr>
          <tr style="font-weight: bold" id="grammar-production-nt-quotedTriple">
            <td>[7t]</td>
            <td><code>quotedTriple</code></td>
            <td>::=</td>
            <td>"&lt;&lt;" <a href="#grammar-production-nt-subject">subject</a> <a href="https://www.w3.org/TR/n-triples/#grammar-production-predicate">predicate</a> <a href="#grammar-production-nt-object">object</a> "&gt;&gt;"</td>
          </tr>
        </tbody>
      </table>

      <div class="note" role="note" id="issue-container-generatedID-5"><div role="heading" class="note-title marker" id="h-note-5" aria-level="5"><span>Note</span></div><p class="">The complete grammar may be found in <a href="#n-triples-star-ebnf" class="sec-ref">§&nbsp;<bdi class="secno">C.3 </bdi>N-Triples-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a>.</p></div>

      <div class="note" role="note" id="issue-container-generatedID-6"><div role="heading" class="note-title marker" id="h-note-6" aria-level="5"><span>Note</span></div><p class="">The changes are that
        <a href="#grammar-production-nt-subject"><code>subject</code></a>
        and <a href="#grammar-production-nt-object"><code>object</code></a> productions
        have been extended to accept <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-27">quoted triples</a>,
        which are described by the new production
        <a href="#grammar-production-nt-quotedTriple">7</a>.</p></div>
    </section>

    <section id="n-triples-star-parsing">
      <h4 id="x3-4-2-parsing"><bdi class="secno">3.4.2 </bdi>Parsing<a class="self-link" href="#n-triples-star-parsing" aria-label="Permalink for Section 3.4.2"></a></h4>
      <p>In contrast to [<cite><a class="bibref" data-link-type="biblio" href="#bib-n-triples" title="RDF 1.1 N-Triples">N-TRIPLES</a></cite>],
        N-Triples-star allows recursion on the
        <a href="#grammar-production-nt-subject"><code>subject</code></a>
        and <a href="#grammar-production-nt-object"><code>object</code></a> productions.</p>

      <p>An <dfn id="dfn-n-triples-star-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">N-Triples-star document</dfn> defines an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-13">RDF-star graph</a>
        composed of a set of <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-23">RDF-star triples</a>.
        The <a href="https://www.w3.org/TR/n-triples/#grammar-production-triple"><code>triple</code></a> production
        produces an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-24">RDF-star triple</a>
        composed of a <a href="#grammar-production-nt-subject"><code>subject</code></a>,
        <a href="https://www.w3.org/TR/n-triples/#grammar-production-predicate"><code>predicate</code></a>,
        and <a href="#grammar-production-nt-object"><code>object</code></a>.</p>

      <p>In addition to the <a href="https://www.w3.org/TR/n-triples/#sec-parsing-terms">Term Constructors</a> defined in [<cite><a class="bibref" data-link-type="biblio" href="#bib-n-triples" title="RDF 1.1 N-Triples">N-TRIPLES</a></cite>],
        an additional constructor is defined for <a href="#grammar-production-nt-quotedTriple"><code>quotedTriple</code></a>
        of type <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-25">RDF-star triple</a>
        defined by the terms constructed
        for <a href="#grammar-production-nt-subject"><code>subject</code></a>,
        <a href="https://www.w3.org/TR/n-triples/#grammar-production-predicate"><code>predicate</code></a>,
        and <a href="#grammar-production-nt-object"><code>object</code></a>.</p>

    <p>All other productions <em class="rfc2119">MUST</em> be handled as specified by
      <a href="https://www.w3.org/TR/n-triples/#sec-parsing-terms">Section&nbsp;8.1 of the N-Triples specification</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-n-triples" title="RDF 1.1 N-Triples">N-TRIPLES</a></cite>],
      while still applying the changes above recursively.</p>
    </section>
  </section>

  <section id="n-quads-star">
    <h3 id="x3-5-n-quads-star"><bdi class="secno">3.5 </bdi>N-Quads-star<a class="self-link" href="#n-quads-star" aria-label="Permalink for Section 3.5"></a></h3>

    <p>The [<cite><a class="bibref" data-link-type="biblio" href="#bib-n-quads" title="RDF 1.1 N-Quads">N-QUADS</a></cite>] format is extended to describe the
      N-Quads-star format using the same production updates described in the <a href="#n-triples-star-grammar">N-Triples-star Grammar</a>.</p>

    <div class="note" role="note" id="issue-container-generatedID-7"><div role="heading" class="note-title marker" id="h-note-7" aria-level="4"><span>Note</span></div><p class="">The complete grammar may be found in <a href="#n-quads-star-ebnf" class="sec-ref">§&nbsp;<bdi class="secno">C.4 </bdi>N-Quads-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a>.</p></div>

    <div class="note" role="note" id="issue-container-generatedID-8"><div role="heading" class="note-title marker" id="h-note-8" aria-level="4"><span>Note</span></div><p class="">As RDF-star describes <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-28">quoted triples</a> and not quoted quads,
      the <a href="https://www.w3.org/TR/n-quads/#grammar-production-graphLabel"><code>graphLabel</code></a>
      component of an N-Quads <a href="https://www.w3.org/TR/n-quads/#grammar-production-statement"><code>statement</code></a>
      does not apply to the <a href="#grammar-production-nt-quotedTriple"><code>quotedTriple</code></a> component.</p></div>

    <p>An <dfn id="dfn-n-quads-star-document" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">N-Quads-star document</dfn> defines an <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-4">RDF-star dataset</a>,
      composed of a single <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a>
      and zero or more <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graphs</a>,
      all of which are <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-14">RDF-star graphs</a>.</p>

    <p>A conforming N-Quads-star parser <em class="rfc2119">MUST</em> parse any valid
      <strong>N-Quads document</strong> and additionally parse the 
      <a href="#grammar-production-nt-subject"><code>subject</code></a> and 
      <a href="#grammar-production-nt-object"><code>object</code></a> productions
      from N-Triples-star to generate <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-26">RDF-star triples</a> which are
      added to either the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a> or associated
      <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graph</a>, as appropriate.</p>
  </section>

  <section id="other-concrete-syntaxes" class="informative">
    <h3 id="x3-6-other-concrete-syntaxes"><bdi class="secno">3.6 </bdi>Other Concrete Syntaxes<a class="self-link" href="#other-concrete-syntaxes" aria-label="Permalink for Section 3.6"></a></h3><p><em>This section is non-normative.</em></p>

    <p>While this document specifies a small number of concrete syntaxes,
      nothing prevents other concrete syntaxes of RDF-star from being proposed.       In particular, syntaxes such as
      RDF/XML&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf-syntax-grammar" title="RDF 1.1 XML Syntax">RDF-SYNTAX-GRAMMAR</a></cite>],
      and JSON-LD [<cite><a class="bibref" data-link-type="biblio" href="#bib-json-ld" title="JSON-LD 1.0">JSON-LD</a></cite>],
      could be extended to support RDF-star.</p>
  </section>

  </section>

  <section id="sparql-star">
    <h2 id="x4-sparql-star-query-language"><bdi class="secno">4. </bdi>SPARQL-star Query Language<a class="self-link" href="#sparql-star" aria-label="Permalink for Section 4."></a></h2>

    <p>This Section&nbsp;introduces SPARQL-star, which is an RDF-star-aware extension of the RDF query language SPARQL&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>]; i.e., SPARQL-star can be used to query RDF-star graphs.</p>

    <section id="initial-definitions">
      <h3 id="x4-1-initial-definitions"><bdi class="secno">4.1 </bdi>Initial Definitions<a class="self-link" href="#initial-definitions" aria-label="Permalink for Section 4.1"></a></h3>

      <p>In the following, we introduce a number of SPARQL-star-specific definitions, which rely on the following notions, defined in <cite><a href="https://www.w3.org/TR/sparql11-query/">SPARQL 1.1 Query Language</a></cite>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>]: 
        <dfn data-lt="variable" data-plurals="query variables|variables" id="dfn-variable" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variable</a></dfn>,
        <dfn data-plurals="triple patterns" id="dfn-triple-pattern" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/sparql11-query/#defn_TriplePattern">triple pattern</a></dfn>,
        <dfn data-plurals="property path patterns" id="dfn-property-path-pattern" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathPattern">property path pattern</a></dfn>,
        <dfn id="dfn-property-path-expression" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathExpr">property path expression</a></dfn>,
        and <dfn data-plurals="solution mappings" id="dfn-solution-mapping" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/sparql11-query/#defn_sparqlSolutionMapping">solution mapping</a></dfn>.</p>

      <p>A <dfn data-lt="triple-star-pattern|SPARQL-star triple pattern" data-plurals="sparql-star triple patterns" id="dfn-triple-star-pattern" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">SPARQL-star triple pattern</dfn> is a 3-tuple that is defined recursively as follows:</p>
      <ol>
        <li>Every SPARQL <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_TriplePattern">triple pattern</a> is a SPARQL-star triple pattern;
        </li><li>If <var>t</var> and <var>t'</var> are SPARQL-star triple patterns, <var>x</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a> or a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variable</a>, and <var>p</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> or a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variable</a>, then (<var>t</var>,&nbsp;<var>p</var>,&nbsp;<var>x</var>), (<var>x</var>,&nbsp;<var>p</var>,&nbsp;<var>t</var>), and (<var>t</var>,&nbsp;<var>p</var>,&nbsp;<var>t'</var>) are SPARQL-star triple patterns.
      </li></ol>

      <p>As for <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-27">RDF-star triples</a>, a <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-1">SPARQL-star triple pattern</a> <em class="rfc2119">MUST NOT</em> contain itself.</p>

      <p>A <dfn data-lt="bgp-star|BGP-star|SPARQL-star basic graph pattern" id="dfn-bgp-star" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">SPARQL-star basic graph pattern</dfn>&nbsp;(<abbr title="Basic Graph Pattern">BGP</abbr>-star) is a set of <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-2">SPARQL-star triple patterns</a>.</p>

      <p>A <dfn data-lt="ppp-star|SPARQL-star property path pattern" data-plurals="sparql-star property path patterns" id="dfn-ppp-star" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">SPARQL-star property path pattern</dfn> is a 3-tuple (<var>s</var>,<var>p</var>,<var>o</var>) where</p>
      <ul>
        <li><var>s</var> is either an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a>, a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variable</a>, or a <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-3">SPARQL-star triple pattern</a>,
        </li><li><var>p</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathExpr">property path expression</a>, and
        </li><li><var>o</var> is either an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a>, a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variable</a>, or a <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-4">SPARQL-star triple pattern</a>.
      </li></ul>

      <p>A <dfn data-lt="solution-star-mapping|SPARQL-star solution mapping" data-plurals="sparql-star solution mappings" id="dfn-solution-star-mapping" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">SPARQL-star solution mapping</dfn>&nbsp;μ is a partial function from the set of all <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variables</a> to the set of all <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-4">RDF-star terms</a>.
      The domain of μ, denoted by dom(μ), is the set of <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variables</a> for which μ is defined.</p>

      <div class="note" role="note" id="issue-container-generatedID-9"><div role="heading" class="note-title marker" id="h-note-9" aria-level="4"><span>Note</span></div><p class="">The notion of a <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-1">SPARQL-star solution mapping</a> extends the notion of a standard SPARQL <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_sparqlSolutionMapping">solution mapping</a>; that is, every SPARQL <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_sparqlSolutionMapping">solution mapping</a> is a <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-2">SPARQL-star solution mapping</a>. However, in contrast to SPARQL <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_sparqlSolutionMapping">solution mappings</a>, <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-3">SPARQL-star solution mappings</a> may map <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variables</a> also to <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-28">RDF-star triples</a>.</p></div>

      <p>All notions related to SPARQL solution mappings carry over naturally to SPARQL-star solution mappings. In particular, the definition of <dfn id="dfn-compatibility" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/sparql11-query/#defn_algCompatibleMapping">compatibility</a></dfn> extends naturally to SPARQL-star solution mappings: two <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-4">SPARQL-star solution mappings</a> μ<sub>1</sub> and μ<sub>2</sub> are compatible if, for every variable v that is both in dom(μ<sub>1</sub>) and in dom(μ<sub>2</sub>), μ<sub>1</sub>(v) and μ<sub>2</sub>(v) are the same <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-5">RDF-star term</a>.
      In this case, μ<sub>1</sub> ∪ μ<sub>2</sub> is also a SPARQL-star solution mapping.
      Moreover, for any SPARQL-star solution mapping&nbsp;μ we write card[Ω](μ) to denote the cardinality of μ in a multiset Ω of such mappings.
      Finally, given a <a href="#dfn-bgp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-1"><abbr title="Basic Graph Pattern">BGP</abbr>-star</a>&nbsp;<var>B</var> and a SPARQL-star solution mapping&nbsp;μ, we write μ(<var>B</var>) to denote the result of replacing every variable&nbsp;<var>v</var> in <var>B</var> for which μ is defined with μ(v).
      </p>

      <p>Next, we aim to carry over the notion of <a href="https://www.w3.org/TR/sparql11-query/#BGPsparql">solutions for BGPs</a> to <a href="#dfn-bgp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-2"><abbr title="Basic Graph Pattern">BGP</abbr>-star</a>. To this end, we first define an auxiliary concept that carries over the notion of an
      <a href="https://www.w3.org/TR/rdf11-mt/#dfn-instance">RDF instance mapping</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-mt" title="RDF 1.1 Semantics">RDF11-MT</a></cite>] to RDF-star.</p>

      <p>An <dfn data-lt="rdf-star-instance-mapping|RDF-star instance mapping" data-plurals="rdf-star instance mappings" id="dfn-rdf-star-instance-mapping" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">RDF-star instance mapping</dfn>&nbsp;σ is a partial function from the set of all <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank nodes</a> to the set of all <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-6">RDF-star terms</a>.
      The domain of&nbsp;σ, denoted by dom(σ), is the set of <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank nodes</a> for which σ is defined.</p>

      <p>Similar to the corresponding notation for solution mappings, for an RDF-star instance mapping&nbsp;σ and a <abbr title="Basic Graph Pattern">BGP</abbr>-star&nbsp;<var>B</var> we write σ(<var>B</var>) to denote the result of replacing every blank node&nbsp;<var>b</var> in <var>B</var> for which σ is defined with σ(b).</p>

      <p>Now we are ready to define the notion of solution for <abbr title="Basic Graph Pattern">BGP</abbr>-star.</p>

      <p>Given a <a href="#dfn-bgp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-3"><abbr title="Basic Graph Pattern">BGP</abbr>-star</a>&nbsp;<var>B</var> and an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-15">RDF-star graph</a>&nbsp;<var>G</var>, a <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-5">SPARQL-star solution mapping</a>&nbsp;μ is a <dfn data-lt="bgp-star-solution|solution for the BGP-star" id="dfn-bgp-star-solution" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">solution for the <abbr title="Basic Graph Pattern">BGP</abbr>-star</dfn>&nbsp;<var>B</var> <b>over</b>&nbsp;<var>G</var> if it has the following two properties</p>
      <ul>
        <li>dom(μ) is equivalent to the set of query variables in&nbsp;<var>B</var>, and
        </li><li>there exists an <a href="#dfn-rdf-star-instance-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-instance-mapping-1">RDF-star instance mapping</a>&nbsp;σ such that dom(σ) is equivalent to the set of blank nodes in&nbsp;<var>B</var> and μ(σ(<var>B</var>)) is a subgraph of <var>G</var>.
      </li></ul>

    </section>

    <section id="sparql-star-grammar">
      <h3 id="x4-2-grammar"><bdi class="secno">4.2 </bdi>Grammar<a class="self-link" href="#sparql-star-grammar" aria-label="Permalink for Section 4.2"></a></h3>

      <p>SPARQL-star is defined to follow the <a href="https://www.w3.org/TR/sparql11-query/#sparqlGrammar">same grammar</a> as SPARQL&nbsp;1.1, <em>except</em> for the <a href="https://www.w3.org/TR/xml/#sec-notation"><abbr title="Extended Backus-Naur Form">EBNF</abbr> productions</a> specified below, which replace the productions having the same number (if any) in the original grammar. The parts in which these productions differ from the corresponding productions in the original grammar are marked in bold font. Productions <a href="#rQuotedTP">[174]</a> and following have been added and have no counterpart in the original grammar.</p>

      <table class="grammar">
        <tbody><tr id="rDataBlockValue">
          <td>[65]</td>
          <td><code>DataBlockValue</code></td>
          <td>::=</td>
          <td>
            <span style="font-weight: bold"><a href="#rQuotedTriple">QuotedTriple</a> <code>|</code></span>
            <a href="https://www.w3.org/TR/sparql11-query/#riri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rRDFLiteral">RDFLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rNumericLiteral">NumericLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rBooleanLiteral">BooleanLiteral</a> <code>|</code>
            <code class="token">'UNDEF'</code>
          </td>
        </tr>
          <tr id="rTriplesSameSubject">
          <td>[75]</td>
          <td><code>TriplesSameSubject</code></td>
          <td>::=</td>
          <td>
            <a href="#rVarOrTermOrQuotedTP" style="font-weight: bold">VarOrTermOrQuotedTP</a>
            <a href="https://www.w3.org/TR/sparql11-query/#rPropertyListNotEmpty">PropertyListNotEmpty</a>
            <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rTriplesNode">TriplesNode</a>
            <a href="https://www.w3.org/TR/sparql11-query/#rPropertyList">PropertyList</a>
        </td>
        </tr><tr id="rObject">
          <td>[80]</td>
          <td><code>Object</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/sparql11-query/#rGraphNode">GraphNode</a>
            <span style="font-weight: bold"><a href="#rAnnotationPattern">AnnotationPattern</a><code>?</code></span>
          </td>
        </tr>
        <tr id="rTriplesSameSubjectPath">
          <td>[81]</td>
          <td><code>TriplesSameSubjectPath</code></td>
          <td>::=</td>
          <td>
            <a href="#rVarOrTermOrQuotedTP" style="font-weight: bold">VarOrTermOrQuotedTP</a>
            <a href="https://www.w3.org/TR/sparql11-query/#rPropertyListPathNotEmpty">PropertyListPathNotEmpty</a>
            <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rTriplesNode">TriplesNode</a>
            <a href="https://www.w3.org/TR/sparql11-query/#rPropertyListPath">PropertyListPath</a>
          </td>
        </tr>
        <tr id="rObjectPath">
          <td>[87]</td>
          <td><code>ObjectPath</code></td>
          <td>::=</td>
          <td>
            <a href="#rGraphNodePath">GraphNodePath</a>
            <span style="font-weight: bold"><a href="#rAnnotationPatternPath">AnnotationPatternPath</a><code>?</code></span>
          </td>
        </tr>
        <tr id="rGraphNode">
          <td>[104]</td>
          <td><code>GraphNode</code></td>
          <td>::=</td>
          <td>
            <a href="#rVarOrTermOrQuotedTP" style="font-weight: bold">VarOrTermOrQuotedTP</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rTriplesNodePath">TriplesNode</a>
          </td>
        </tr>
        <tr id="rGraphNodePath">
          <td>[105]</td>
          <td><code>GraphNodePath</code></td>
          <td>::=</td>
          <td>
            <a href="#rVarOrTermOrQuotedTP" style="font-weight: bold">VarOrTermOrQuotedTP</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rTriplesNodePath">TriplesNodePath</a>
          </td>
        </tr>
        <tr id="rPrimaryExpression">
          <td>[119]</td>
          <td><code>PrimaryExpression</code></td>
          <td>::=</td>
          <td>
            <a href="https://www.w3.org/TR/sparql11-query/#rBrackettedExpression">BrackettedExpression</a> <code>|</code> 
            <a href="https://www.w3.org/TR/sparql11-query/#rBuiltInCall">BuiltInCall</a> <code>|</code> 
            <a href="https://www.w3.org/TR/sparql11-query/#ririOrFunction">iriOrFunction</a> <code>|</code> 
            <a href="https://www.w3.org/TR/sparql11-query/#rRDFLiteral">RDFLiteral</a> <code>|</code> 
            <a href="https://www.w3.org/TR/sparql11-query/#rNumericLiteral">NumericLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rBooleanLiteral">BooleanLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rVar">Var</a>
            <div style="font-weight: bold">
            <code>|</code> <a href="#rExprQuotedTP" style="font-weight: bold">ExprQuotedTP</a>
            </div>
          </td>
        </tr>
        <tr id="rBuiltInCall">
          <td>[121]</td>
          <td><code>BuiltInCall</code></td>
          <td>::=</td>
          <td>
            <div>&nbsp;&nbsp;&nbsp;<a href="https://www.w3.org/TR/sparql11-query/#rAggregate">Aggregate</a></div>
            <div>
              <code>|</code>
              <code class="token">'STR'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'LANG'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'LANGMATCHES'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'DATATYPE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'BOUND'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rVar">Var</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'IRI'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'URI'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'BNODE'</code>
              <code>(</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
              <code>|</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rNIL">NIL</a>
              <code>)</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'RAND'</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rNIL">NIL</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'ABS'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'CEIL'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'FLOOR'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'ROUND'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'CONCAT'</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpressionList">ExpressionList</a>
            </div>
            <div>
              <code>|</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rSubstringExpression">SubstringExpression</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRLEN'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rStrReplaceExpression">StrReplaceExpression</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'UCASE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'LCASE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'ENCODE_FOR_URI'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'CONTAINS'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRSTARTS'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRENDS'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRBEFORE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRAFTER'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'YEAR'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'MONTH'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'DAY'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'HOURS'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'MINUTES'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'SECONDS'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'TIMEZONE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'TZ'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'NOW'</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rNIL">NIL</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'UUID'</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rNIL">NIL</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRUUID'</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rNIL">NIL</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'MD5'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'SHA1'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'SHA256'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'SHA384'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'SHA512'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'COALESCE'</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpressionList">ExpressionList</a>
            </div>
            <div>
              <code>|</code>
              <code class="token">'IF'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRLANG'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'STRDT'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'sameTerm'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'isIRI'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'isURI'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'isBLANK'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'isLITERAL'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <code class="token">'isNUMERIC'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div>
              <code>|</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rRegexExpression">RegexExpression</a>
            </div>
            <div>
              <code>|</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExistsFunc">ExistsFunc</a>
            </div>
            <div>
              <code>|</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rNotExistsFunc">NotExistsFunc</a>
            </div>
            <div style="font-weight: bold">
              <code>|</code>
              <code class="token">'TRIPLE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">','</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div style="font-weight: bold">
              <code>|</code>
              <code class="token">'SUBJECT'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div style="font-weight: bold">
              <code>|</code>
              <code class="token">'PREDICATE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div style="font-weight: bold">
              <code>|</code>
              <code class="token">'OBJECT'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
            <div style="font-weight: bold">
              <code>|</code>
              <code class="token">'isTRIPLE'</code>
              <code class="token">'('</code>
              <a href="https://www.w3.org/TR/sparql11-query/#rExpression">Expression</a>
              <code class="token">')'</code>
            </div>
          </td>
        </tr>
        <tr id="rQuotedTP">
          <td>[174]</td>
          <td style="font-weight: bold"><code>QuotedTP</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <code class="token">'&lt;&lt;'</code>
            <a href="#rqtSubjectOrObject">qtSubjectOrObject</a>
            <a href="https://www.w3.org/TR/sparql11-query/#rVerb">Verb</a>
            <a href="#rqtSubjectOrObject">qtSubjectOrObject</a>
            <code class="token">'&gt;&gt;'</code>
          </td>
        </tr>
        <tr id="rQuotedTriple">
          <td>[175]</td>
          <td style="font-weight: bold"><code>QuotedTriple</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <code class="token">'&lt;&lt;'</code>
            <a href="#rDataValueTerm">DataValueTerm</a>
            <code>(</code>
              <a href="https://www.w3.org/TR/sparql11-query/#riri">iri</a>
            <code>|</code>
              <code class="token">'a'</code>
            <code>)</code>
            <a href="#rDataValueTerm">DataValueTerm</a>
            <code class="token">'&gt;&gt;'</code>
          </td>
        </tr>
        <tr id="rqtSubjectOrObject">
          <td>[176]</td>
          <td style="font-weight: bold"><code>qtSubjectOrObject</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <a href="https://www.w3.org/TR/sparql11-query/#rVar">Var</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rBlankNode">BlankNode</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#riri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rRDFLiteral">RDFLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rNumericLiteral">NumericLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rBooleanLiteral">BooleanLiteral</a> <code>|</code>
            <a href="#rQuotedTP">QuotedTP</a>
          </td>
        </tr>
        <tr id="rDataValueTerm">
          <td>[177]</td>
          <td style="font-weight: bold"><code>DataValueTerm</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <a href="https://www.w3.org/TR/sparql11-query/#riri">iri</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rRDFLiteral">RDFLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rNumericLiteral">NumericLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rBooleanLiteral">BooleanLiteral</a> <code>|</code>
            <a href="#rQuotedTriple">QuotedTriple</a>
          </td>
        </tr>
        <tr id="rVarOrTermOrQuotedTP">
          <td>[178]</td>
          <td style="font-weight: bold"><code>VarOrTermOrQuotedTP</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <a href="https://www.w3.org/TR/sparql11-query/#rVar">Var</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rGraphTerm">GraphTerm</a> <code>|</code>
            <a href="#rQuotedTP">QuotedTP</a>
          </td>
        </tr>
        <tr id="rAnnotationPattern">
          <td>[179]</td>
          <td style="font-weight: bold"><code>AnnotationPattern</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <code class="token">'{|'</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rPropertyListNotEmpty">PropertyListNotEmpty</a>
            <code class="token">'|}'</code>
          </td>
        </tr>
        <tr id="rAnnotationPatternPath">
          <td>[180]</td>
          <td style="font-weight: bold"><code>AnnotationPatternPath</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <code class="token">'{|'</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rPropertyListPathNotEmpty">PropertyListPathNotEmpty</a>
            <code class="token">'|}'</code>
          </td>
        </tr>
        <tr id="rExprQuotedTP">
          <td>[181]</td>
          <td style="font-weight: bold"><code>ExprQuotedTP</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <code class="token">'&lt;&lt;'</code>
            <a href="#rExprVarOrTerm">ExprVarOrTerm</a>
            <a href="https://www.w3.org/TR/sparql11-query/#rVerb">Verb</a>
            <a href="#rExprVarOrTerm">ExprVarOrTerm</a>
            <code class="token">'&gt;&gt;'</code>
          </td>
        </tr>
        <tr id="rExprVarOrTerm">
          <td>[182]</td>
          <td style="font-weight: bold"><code>ExprVarOrTerm</code></td>
          <td style="font-weight: bold">::=</td>
          <td style="font-weight: bold">
            <a href="https://www.w3.org/TR/sparql11-query/#riri">iri</a> <code>|</code> 
            <a href="https://www.w3.org/TR/sparql11-query/#rRDFLiteral">RDFLiteral</a> <code>|</code> 
            <a href="https://www.w3.org/TR/sparql11-query/#rNumericLiteral">NumericLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rBooleanLiteral">BooleanLiteral</a> <code>|</code>
            <a href="https://www.w3.org/TR/sparql11-query/#rVar">Var</a> <code>|</code>
	          <a href="#rExprQuotedTP">ExprQuotedTP</a>
          </td>
        </tr>
      </tbody></table>

      <div class="note" role="note" id="issue-container-generatedID-10"><div role="heading" class="note-title marker" id="h-note-10" aria-level="4"><span>Note</span></div><p class="">The complete grammar may be found in <a href="#sparql-star-ebnf" class="sec-ref">§&nbsp;<bdi class="secno">C.5 </bdi>SPARQL-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar</a>.</p></div>

      <p>
        This introduces a notation for <dfn data-plurals="quoted triple pattern" id="dfn-quoted-triple-patterns" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">quoted triple patterns</dfn>
        (production <a href="#rQuotedTP">[174]</a>),
        which is similar to the one defined for <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-29">quoted triples</a> in <a href="#turtle-star" class="sec-ref">§&nbsp;<bdi class="secno">3.2 </bdi>Turtle-star</a>,
        but accepting also <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variables</a>.
        These quoted triple patterns are allowed in both the subject position (<a href="#rTriplesSameSubject">[75]</a>, <a href="#rTriplesSameSubjectPath">[81]</a>) and the object position (<a href="#rObject">[80]</a>, <a href="#rObjectPath">[87]</a>)
        of <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-5">SPARQL-star triple patterns</a>, as well as in <a href="https://www.w3.org/TR/sparql11-query/#collections">the short-hand notation for querying collections</a> (<a href="https://www.w3.org/TR/sparql11-query/#rCollection">[102]</a>, <a href="https://www.w3.org/TR/sparql11-query/#rCollectionPath">[103]</a>).
      </p>

      <p>
        Additionally, production <a href="#rDataBlockValue">[65]</a> for values that can be used in the <a href="https://www.w3.org/TR/sparql11-query/#inline-data">VALUES clause</a> is extended to permit <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-29">RDF-star triples</a> as possible values, and the set of available built-in functions is extended with the five functions TRIPLE, SUBJECT, PREDICATE, OBJECT, and isTRIPLE (<a href="#rBuiltInCall">[121]</a>) that are defined in <a href="#builtin-functions" class="sec-ref">§&nbsp;<bdi class="secno">4.4 </bdi>Function and Operator Definitions</a>.
      </p>

      <div class="note" role="note" id="issue-container-generatedID-11"><div role="heading" class="note-title marker" id="h-note-11" aria-level="4"><span>Note</span></div><p class=""><a href="https://www.w3.org/TR/sparql11-query/#sparqlGrammar">As defined for all keywords in SPARQL</a>, the names of the five new built-in functions added by SPARQL-star are matched in a case-insensitive manner.</p></div>

      <p>
        Yet another extension is that both the <a href="#rObject">Object</a> and the <a href="#rObjectPath">ObjectPath</a> productions now accept an optional <dfn data-plurals="annotation patterns" id="dfn-annotation-pattern" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">annotation pattern</dfn> after each object. The purpose of this feature is to enable users to use the same kind of annotation syntax that is supported in Turtle-star. As in the case of Turtle-star, the annotation syntax in SPARQL-star is purely syntactic sugar that has to be processed in accordance to the first expansion rule in <a href="#expand-syntax-forms" class="sec-ref">§&nbsp;<bdi class="secno">4.3.2 </bdi>Expand Syntax Forms</a>.
      </p>

      <p>
        A <strong>restriction</strong> to the use of the annotation syntax in SPARQL-star exists that is not captured by the grammar as defined above: An <a href="#rAnnotationPatternPath">AnnotationPatternPath</a> may be added only to <a href="#dfn-ppp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-ppp-star-1">SPARQL-star property path patterns</a> in which the <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathExpr">property path expression</a> is a <a href="https://www.w3.org/TR/sparql11-query/#pp-language">PredicatePath</a> (i.e., a single IRI) or the keyword <code>a</code> (as a <a href="https://www.w3.org/TR/sparql11-query/#abbrevRdfType">short form for the IRI <code>rdf:type</code></a>). Hence, a query such as the following violates this restriction and, thus, is <em>invalid</em>.
      </p>

      <div class="example" id="example-14">
        <div class="marker">
    <a class="self-link" href="#example-14">Example<bdi> 14</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">SELECT * WHERE {
    ?s :p/:q ?o {| ?pp ?oo |}.
}</pre>
      </div>

      <p>
        While annotation patterns must not be added to property path patterns other than the ones permitted by the restriction above, it is possible to use property path expressions within annotation patterns (but without violating the restriction in the case of nested annotation patterns). For instance, the following query is valid.
      </p>

      <div class="example" id="example-15">
        <div class="marker">
    <a class="self-link" href="#example-15">Example<bdi> 15</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">SELECT * WHERE {
    ?s ?p ?o {| :p/:q ?oo |}.
}</pre>
      </div>

    </section>

    <section id="translation-to-the-algebra">
      <h3 id="x4-3-translation-to-the-algebra"><bdi class="secno">4.3 </bdi>Translation to the Algebra<a class="self-link" href="#translation-to-the-algebra" aria-label="Permalink for Section 4.3"></a></h3>

      <p>Based on the SPARQL grammar, the SPARQL specification <q>defines the process of converting graph patterns and solution modifiers in a SPARQL query string into a SPARQL algebra expression</q>&nbsp;[<a href="https://www.w3.org/TR/sparql11-query/#sparqlQuery">SPARQL11-QUERY, Section&nbsp;18.2</a>].  This process must be adjusted to consider the extended grammar introduced <a href="#sparql-star-grammar">above</a>. In the following, any step of the conversion process that requires adjustment is discussed.</p>

      <section id="variable-scope">
        <h4 id="x4-3-1-variable-scope"><bdi class="secno">4.3.1 </bdi>Variable Scope<a class="self-link" href="#variable-scope" aria-label="Permalink for Section 4.3.1"></a></h4>

        <p>As a basis of the translation, the SPARQL specification introduces a notion of <a href="https://www.w3.org/TR/sparql11-query/#variableScope">in-scope variables</a>. To cover the new syntax elements introduced in <a href="#sparql-star-grammar" class="sec-ref">§&nbsp;<bdi class="secno">4.2 </bdi>Grammar</a> this notion <em class="rfc2119">MUST</em> be extended as follows.</p>

        <ul>
          <li>A <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variable</a> is in-scope of a <a href="#dfn-bgp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-4"><abbr title="Basic Graph Pattern">BGP</abbr>-star</a> <var>B</var> if the <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variable</a> occurs in <var>B</var>, which includes an occurrence in any <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-1">quoted triple pattern</a> in <var>B</var>&nbsp;(independent of the level of nesting).</li>
          <li>A <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variable</a> is in-scope of a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathPattern">property path pattern</a> if the variable occurs in that pattern, which includes an occurrence in any quoted triple pattern in the pattern&nbsp;(independent of the level of nesting).</li>
        </ul>
      </section>

      <section id="expand-syntax-forms">
        <h4 id="x4-3-2-expand-syntax-forms"><bdi class="secno">4.3.2 </bdi>Expand Syntax Forms<a class="self-link" href="#expand-syntax-forms" aria-label="Permalink for Section 4.3.2"></a></h4>

        <p>The translation process starts with expanding <q>abbreviations for IRIs and triple patterns</q>&nbsp;[<a href="https://www.w3.org/TR/sparql11-query/#sparqlExpandForms">SPARQL11-QUERY, Section&nbsp;18.2.2.1</a>]. This step <em class="rfc2119">MUST</em> be extended in three ways:</p>

        <ol>
          <li><div>
            <p><a href="#dfn-annotation-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-annotation-pattern-1">Annotation patterns</a> <em class="rfc2119">MUST</em> be replaced by additional <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-6">SPARQL-star triple patterns</a> that have the annotated triple pattern as a <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-2">quoted triple pattern</a> in their subject position.</p>

            <aside class="example" id="example-expanding-annotations-to-quoted-triple-patterns"><div class="marker">
    <a class="self-link" href="#example-expanding-annotations-to-quoted-triple-patterns">Example<bdi> 16</bdi></a><span class="example-title">: Expanding annotations to quoted triple patterns</span>
  </div>
              For instance, the following syntax expression:
              <pre data-content-type="application/sparql-query" class="nohighlight">?x :p :o1 {| :ap1 ?y;
             :ap2 ?z |} ,
      :o2 {| :ap3 ?z |} .

?x :p :o3 {| :ap4/:ap5 ?w } .</pre>
              must be replaced by
              <pre data-content-type="application/sparql-query" class="nohighlight">?x :p :o1, o2 .
&lt;&lt;?x :p :o1&gt;&gt; :ap1 ?y ;
              :ap2 ?z .
&lt;&lt;?x :p :o2&gt;&gt; :ap3 ?z .

?x :p :o3 .
&lt;&lt;?x :p :o3&gt;&gt; :ap4/:ap5 ?w .</pre>
            </aside>

          </div></li>
          <li><div>
            <p>Abbreviations for <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_TriplePattern">triple patterns</a> with <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-3">quoted triple patterns</a> <em class="rfc2119">MUST</em> be expanded as if each <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-4">quoted triple pattern</a> was a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variable</a> (or an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a>).</p>

            <aside class="example" id="example-expanding-abbreviations-for-triple-patterns-with-quoted-triple-patterns"><div class="marker">
    <a class="self-link" href="#example-expanding-abbreviations-for-triple-patterns-with-quoted-triple-patterns">Example<bdi> 17</bdi></a><span class="example-title">: Expanding abbreviations for triple patterns with quoted triple patterns</span>
  </div>
              For instance, the following syntax expression:
              <pre data-content-type="application/sparql-query" class="nohighlight">&lt;&lt;?c a owl:Class&gt;&gt; dct:source ?src ;
    :entailing &lt;&lt;?c a rdfs:Class&gt;&gt; .</pre>
              must be expanded to
              <pre data-content-type="application/sparql-query" class="nohighlight">&lt;&lt;?c a owl:Class&gt;&gt; dct:source ?src .
&lt;&lt;?c a owl:Class&gt;&gt; :entailing &lt;&lt;?c a rdfs:Class&gt;&gt; .</pre>
            </aside>
          </div></li>
          <li><div>
            <p>Abbreviations for IRIs in all <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-5">quoted triple patterns</a> <em class="rfc2119">MUST</em> be expanded.</p>

            <aside class="example" id="example-expanding-iri-abbreviations"><div class="marker">
    <a class="self-link" href="#example-expanding-iri-abbreviations">Example<bdi> 18</bdi></a><span class="example-title">: Expanding IRI abbreviations</span>
  </div>
              For instance, the quoted triple pattern
              <pre data-content-type="application/sparql-query" class="nohighlight">&lt;&lt;?c a rdfs:Class&gt;&gt;</pre>
              must be expanded to
              <pre data-content-type="application/sparql-query" class="nohighlight">&lt;&lt; ?c &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://www.w3.org/2000/01/rdf-schema#Class&gt;&gt;&gt;</pre>
            </aside>
          </div></li>
        </ol>
      </section>

      <section id="translate-property-path-patterns">
        <h4 id="x4-3-3-translate-property-path-patterns"><bdi class="secno">4.3.3 </bdi>Translate Property Path Patterns<a class="self-link" href="#translate-property-path-patterns" aria-label="Permalink for Section 4.3.3"></a></h4>

        <p>The <a href="https://www.w3.org/TR/sparql11-query/#sparqlTranslatePathPatterns">translation of property path patterns</a> has to be adjusted because the extended grammar allows for <a href="#dfn-ppp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-ppp-star-2">SPARQL-star property path patterns</a> whose subject or object is a <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-7">SPARQL-star triple pattern</a>.</p>

        <p>The translation as specified in the W3C specification distinguishes four cases. The first three of these cases do not require adjustment because they are taken care of either by recursion or by the adjusted translation of basic graph patterns (as defined in <a href="#translate-bgp" class="sec-ref">§&nbsp;<bdi class="secno">4.3.4 </bdi>Translate Basic Graph Patterns</a> below). However, the fourth case <em class="rfc2119">MUST</em> be adjusted as follows.</p>

        <p>Let <var>X</var> <var>P</var> <var>Y</var> be a string that corresponds to the fourth case in&nbsp;[<a href="https://www.w3.org/TR/sparql11-query/#sparqlTranslatePathPatterns">SPARQL11-QUERY, Section&nbsp;18.2.2.4</a>]. Given the grammar introduced in <a href="#sparql-star-grammar" class="sec-ref">§&nbsp;<bdi class="secno">4.2 </bdi>Grammar</a>, <var>X</var> and <var>Y</var> may be an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a>, a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variable</a>, or a <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-6">quoted triple pattern</a>, respectively (and <var>P</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathExpr">property path expression</a>). The string <var>X</var> <var>P</var> <var>Y</var> is translated to the algebra expression <code>Path</code>(<var>X’</var>,<var>P</var>,<var>Y’</var>) where <var>X’</var> and <var>Y’</var> are the result of calling a function named <code>Lift</code> for <var>X</var> and <var>Y</var>, respectively. For some input string <var>Z</var>&nbsp;(such as <var>X</var> or <var>Y</var>) that can be an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF term</a>, a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">variable</a>, or a <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-7">quoted triple pattern</a>, the function <code>Lift</code> is defined recursively as follows:</p>

        <ol id="lift">
          <li>If <var>Z</var> is a <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-8">quoted triple pattern</a> &lt;&lt;<var>S</var>,<var>P</var>,<var>O</var>&gt;&gt; then return the <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-8">SPARQL-star triple pattern</a> (<code>Lift</code>(<var>S</var>), <var>P</var>, <code>Lift</code>(<var>O</var>));</li>
          <li>Otherwise, return <var>Z</var>.</li>
        </ol>

        <div class="note" role="note" id="issue-container-generatedID-12"><div role="heading" class="note-title marker" id="h-note-12" aria-level="5"><span>Note</span></div><div class="">
          The purpose of this translation step is to convert any property path pattern as can be written based on the extended grammar for SPARQL-star (cf. <a href="#sparql-star-grammar" class="sec-ref">§&nbsp;<bdi class="secno">4.2 </bdi>Grammar</a>) into a <a href="#dfn-ppp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-ppp-star-3">SPARQL-star property path pattern</a> as considered in the algebra. To this end, the function <code>Lift</code> translates every <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-9">quoted triple pattern</a> as can be written in the SPARQL-star syntax into a <a href="#dfn-triple-star-pattern" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-star-pattern-9">SPARQL-star triple pattern</a>.
        </div></div>
      </section>

      <section id="translate-bgp">
        <h4 id="x4-3-4-translate-basic-graph-patterns"><bdi class="secno">4.3.4 </bdi>Translate Basic Graph Patterns<a class="self-link" href="#translate-bgp" aria-label="Permalink for Section 4.3.4"></a></h4>

        <p>After translating <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_PropertyPathPattern">property path patterns</a>, the translation process collects <q>any adjacent triple patterns [...] to form a basic graph pattern</q>&nbsp;[<a href="https://www.w3.org/TR/sparql11-query/#sparqlTranslateBasicGraphPatterns">SPARQL11-QUERY, Section&nbsp;18.2.2.5</a>]. This step has to be adjusted because <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_TriplePattern">triple patterns</a> in the extended syntax may have a <a href="#dfn-quoted-triple-patterns" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-triple-patterns-10">quoted triple pattern</a> in their subject position or in their object position (or in both). To ensure that every result of this step is a <a href="#dfn-bgp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-5"><abbr title="Basic Graph Pattern">BGP</abbr>-star</a>, before adding a <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_TriplePattern">triple pattern</a> to its corresponding collection, its subject and object <em class="rfc2119">MUST</em> be replaced by the result of calling <a href="#lift">function <code>Lift</code></a> for the subject and the object, respectively.</p>
      </section>

    </section>

    <section id="builtin-functions">
      <h3 id="x4-4-function-and-operator-definitions"><bdi class="secno">4.4 </bdi>Function and Operator Definitions<a class="self-link" href="#builtin-functions" aria-label="Permalink for Section 4.4"></a></h3>

      <p>SPARQL introduces operators and functions that can be used in an expression of a FILTER clause, a BIND clause, or a SELECT clause (see <a href="https://www.w3.org/TR/sparql11-query/#OperatorMapping">Section&nbsp;17.3</a> and <a href="https://www.w3.org/TR/sparql11-query/#SparqlOps">Section&nbsp;17.4</a> in [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>]). While these operators and functions are defined to operate on <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-term">RDF terms</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variables</a>, for SPARQL-star they have to be defined to operate on <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-7">RDF-star terms</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_QueryVariable">query variables</a>. To this end, when using these operators and functions in the context of SPARQL-star, their definitions as given in <a href="https://www.w3.org/TR/sparql11-query/#SparqlOps">Section&nbsp;17.4</a> of [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>] are extended by assuming that any mention of <code>RDF term</code> as a data type for operands is understood to be the type of all <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-8">RDF-star terms</a>.</p>

      <p>SPARQL-star introduces five new functions that are defined as follows (where the data types <code>RDF-star term</code> and <code>RDF-star triple</code> capture all <a href="#dfn-rdf-star-terms" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-terms-9">RDF-star terms</a> and all <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-30">RDF-star triples</a>,
respectively).</p>

      <p>The modifications to functions and operators for triple terms are:</p>
      <ul>
        <li><a href="#rdf-star-func-sameTerm">Modified <code>sameTerm</code> function</a>
          (SPARQL 1.1 <a href="https://www.w3.org/TR/sparql11-query/#func-sameTerm">Section 17.4.1.8</a>)</li>
        <li><a href="#sparql-compare">New function <code>sparql-compare</code></a> for the 
          <code>=</code> operator and other comparison mappings</li>
        <li><a href="#rdf-star-termEqual">Modified <code>RDFterm-equal</code></a>
          (SPARQL 1.1 <a href="https://www.w3.org/TR/sparql11-query/#func-RDFterm-equal">Section 17.4.1.7</a>)</li>
        <li><a href="#rdf-star-operator-mapping">Operator mapping for <code>=</code> 
            and other operators</a>
          (SPARQL 1.1 <a href="https://www.w3.org/TR/sparql11-query/#OperatorMapping">Section 17.3</a>)</li>
        <li><a href="#triple-term-comparison">Modified <code>ORDER BY</code></a>
          (SPARQL 1.1 <a href="https://www.w3.org/TR/sparql11-query/#modOrderBy">Section 15.1</a>)</li>
      </ul>

      <section id="triple-function">
        <h4 id="x4-4-1-triple"><bdi class="secno">4.4.1 </bdi>TRIPLE<a class="self-link" href="#triple-function" aria-label="Permalink for Section 4.4.1"></a></h4>

        <p>
          <code>RDF-star triple</code> &nbsp;
          <code style="color:black;font-weight:bold">TRIPLE</code>
          (
            <code>RDF-star term </code>
            <code style="color:black">term1</code>,
            <code>RDF-star term </code>
            <code style="color:black">term2</code>,
            <code>RDF-star term </code>
            <code style="color:black">term3</code>
          )
        </p>

        <p>If the 3-tuple (<code style="color:black">term1</code>, <code style="color:black">term2</code>, <code style="color:black">term3</code>) is an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-31">RDF-star triple</a>, the function returns this triple. If the 3-tuple is not an RDF-star triple, then the function raises an error.</p>

      </section>

      <section id="subject">
        <h4 id="x4-4-2-subject"><bdi class="secno">4.4.2 </bdi>SUBJECT<a class="self-link" href="#subject" aria-label="Permalink for Section 4.4.2"></a></h4>

        <p>
          <code>RDF-star term</code> &nbsp;
          <code style="color:black;font-weight:bold">SUBJECT</code>
          (
            <code>RDF-star triple </code>
            <code style="color:black">triple</code>
          )
        </p>

        <p>If <code style="color:black">triple</code> is an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-32">RDF-star triple</a>, the function returns the subject of this triple. Passing anything other than an RDF-star triple is an error.</p>

      </section>

      <section id="predicate">
        <h4 id="x4-4-3-predicate"><bdi class="secno">4.4.3 </bdi>PREDICATE<a class="self-link" href="#predicate" aria-label="Permalink for Section 4.4.3"></a></h4>

        <p>
          <code>RDF-star term</code> &nbsp;
          <code style="color:black;font-weight:bold">PREDICATE</code>
          (
            <code>RDF-star triple </code>
            <code style="color:black">triple</code>
          )
        </p>

        <p>If <code style="color:black">triple</code> is an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-33">RDF-star triple</a>, the function returns the predicate of this triple. Passing anything other than an RDF-star triple is an error.</p>

      </section>

      <section id="object">
        <h4 id="x4-4-4-object"><bdi class="secno">4.4.4 </bdi>OBJECT<a class="self-link" href="#object" aria-label="Permalink for Section 4.4.4"></a></h4>

        <p>
          <code>RDF-star term</code> &nbsp;
          <code style="color:black;font-weight:bold">OBJECT</code>
          (
            <code>RDF-star triple </code>
            <code style="color:black">triple</code>
          )
        </p>

        <p>If <code style="color:black">triple</code> is an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-34">RDF-star triple</a>, the function returns the object of this triple. Passing anything other than an RDF-star triple is an error.</p>

      </section>

      <section id="istriple">
        <h4 id="x4-4-5-istriple"><bdi class="secno">4.4.5 </bdi>isTRIPLE<a class="self-link" href="#istriple" aria-label="Permalink for Section 4.4.5"></a></h4>

        <p>
          <code>xsd:boolean</code> &nbsp;
          <code style="color:black;font-weight:bold">isTRIPLE</code>
          (
            <code>RDF-star term </code>
            <code style="color:black">term</code>
          )
        </p>

        <p>Returns <code>true</code> if <code style="color:black">term</code> is an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-35">RDF-star triple</a>. Returns <code>false</code> otherwise.</p>

      </section>

      <section id="quoted-triple-expression">
        <h4 id="x4-4-6-quoted-triple-expression"><bdi class="secno">4.4.6 </bdi>Quoted Triple Expression<a class="self-link" href="#quoted-triple-expression" aria-label="Permalink for Section 4.4.6"></a></h4>
        <p>
          <code>RDF-star triple</code> &nbsp;
          <code style="color:black;font-weight:bold">&lt;&lt;</code>
          <code>RDF-star term</code> <code style="color:black">term1</code>,
          <code>RDF-star term</code> <code style="color:black">term2</code>,
          <code>RDF-star term</code> <code style="color:black">term3</code>
          <code style="color:black;font-weight:bold">&gt;&gt;</code>
        </p>
        <p>
          A <a href="#rExprQuotedTP">Quoted Triple Expression</a>
          <code>&lt;&lt;S P O&gt;&gt;</code>, where <code>S</code>, 
          <code>P</code> and <code>O</code> conform to
          <a href="#rExprVarOrTerm">ExprVarOrTerm</a>,
          is evaluated as <code>TRIPLE(S, P, O)</code>.
        </p>
      </section>

      <section id="rdf-star-func-sameTerm">
        <h4 id="x4-4-7-sameterm"><bdi class="secno">4.4.7 </bdi>sameTerm<a class="self-link" href="#rdf-star-func-sameTerm" aria-label="Permalink for Section 4.4.7"></a></h4>
        <p>
          <code>xsd:boolean</code>
          <code style="color:black;font-weight:bold">sameTerm</code>
          (<code style="color:black">term</code>, <code style="color:black">term</code>)
        </p>
        
        <p>The function <code>sameTerm</code> is extended to support term comparison for
          RDF-star triple terms by defining:
        </p>
        <div class="defn">
          <p>
            <b>Extended Definition: <dfn id="defn-rdfStarSameTerm" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn"><code style="color:black;font-weight:bold">sameTerm</code></dfn></b>
          </p>
          <p>
            If both arguments are RDF-star triple terms:
          </p><p style="margin-left:20px">
            <code style="color:black;font-weight:bold">sameTerm</code><code>(&lt;&lt;S1 P1 O1&gt;&gt;,
              &lt;&lt;S2 P2 O2&gt;&gt;)</code>
          </p>
          <p>
            is evaluated as
          </p>
          <p style="margin-left:20px">
            <code>sameTerm(S1, S2) &amp;&amp; sameTerm(P1, P2) &amp;&amp; sameTerm(O1, O2)</code>
          </p>
          <p>This is applied recursively.</p>
          <p>If one argument is an RDF-star triple term and the other argument is not, 
            the result is <code>false</code>.
          </p>
        </div>
      </section>
      
      <section id="sparql-compare">
        <h4 id="x4-4-8-sparql-compare"><bdi class="secno">4.4.8 </bdi>sparql-compare<a class="self-link" href="#sparql-compare" aria-label="Permalink for Section 4.4.8"></a></h4>
        
        <p>The function <code>sparql-compare</code> is defined to support value-comparison
          operators such as <code>=</code> and <code>ORDER BY</code>.
        </p>
        <p>
          <code>xsd:boolean</code> &nbsp;
          <code style="color:black;font-weight:bold">sparql-compare</code>
          (<code style="color:black">RDF-star term</code>,
          <code style="color:black">RDF-star term</code>)
        </p>
        <p>
          The function <code>sparql-compare</code> returns <code>-1</code>, <code>0</code>, <code>1</code>, or throws an
          error, based on the comparison of two
          <a href="#dfn-rdf-star-terms" id="ref-for-dfn-rdf-star-terms-10">RDF-star terms</a>.
          When comparing two RDF-star triple terms, comparison is 
          by pairwise comparison of subject, then predicate, then object.
        </p>
        <div class="defn">
          <p>
            <b>Definition: 
              <dfn id="defn-sparql-compare" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">
                <code style="color:black;font-weight:bold">sparql-compare</code></dfn>
            </b>
          </p>
          <ul>
            <li>If neither A nor B is an RDF-star triple term,
              compare by SPARQL 1.1 operators
              <code>&lt;</code>, <code>=</code>, <code>&gt;</code>)
              and return the comparison value (<code>-1</code>, <code>0</code>, <code>+1</code>) or throw an error
              as defined by SPARQL 1.1.<br>
            </li>
            <li>If either A or B is an RDF-star triple term, and the other is not 
              an RDF-star triple term, then error.</li>
            <li>If <code>sparql-compare(SUBJECT(A), SUBJECT(B)) != 0</code>,
              then return this value.</li>
            <li>If <code>sparql-compare(PREDICATE(A), PREDICATE(B)) != 0</code>,
              then return this value.</li>
            <li>Return <code>sparql-compare(OBJECT(A), OBJECT(B))</code></li>
          </ul>
        </div>
      </section>

      <section id="rdf-star-termEqual">
        <h4 id="x4-4-9-rdfterm-equal"><bdi class="secno">4.4.9 </bdi>RDFterm-equal<a class="self-link" href="#rdf-star-termEqual" aria-label="Permalink for Section 4.4.9"></a></h4>
        <p>
          The function <code>RDFterm-equal</code> is the default dispatch for the
          <code>=</code> operator.
        </p>
        <p>
          This is extended to cover RDF-star terms so that it returns <code>true</code> 
          if term1 and term2 are both RDF-star triple
          terms and <code>RDFterm-equal</code> is <code>true</code> 
          for pairwise comparison of the component RDF terms.
        </p>
        <div class="defn">
          <p>
            <b>Extended Definition: <dfn id="defn-rdfStarTermEqual" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">
                <code style="color:black;font-weight:bold">RDFTerm-equal</code></dfn></b>
          </p>
          <p>
            If exactly one of the arguments is an RDF-star triple term,
            return <code>false</code>.
          </p>
          <p>
            If both arguments are RDF-star triple terms:
          </p><p style="margin-left:20px">
            <code style="color:black;font-weight:bold">RDFterm-equal</code><code>(&lt;&lt;S1 P1 O1&gt;&gt;,
              &lt;&lt;S2 P2 O2&gt;&gt;)</code>
          </p>
          <p>
            is evaluated as
          </p>
          <p style="margin-left:20px">
            <code>RDFterm-equal(S1, S2) &amp;&amp; RDFterm-equal(P1, P2) &amp;&amp; RDFterm-equal(O1, O2)</code>
          </p>
        </div>
        <p>
          It produces an error if matching RDF terms in nested RDF triple terms when 
          both are literals but not the same RDF term. This is the same as the existing
          <code>RDFterm-equal</code>. Operator mapping overrides this behavior.
        </p>
        <p>
          The case of two RDF-star triple terms is covered by the operator dispatch mappings
          and covers cases involving literals.
        </p>
      </section>

      <section id="rdf-star-operator-mapping">
        <h4 id="x4-4-10-operator-mappings"><bdi class="secno">4.4.10 </bdi>Operator Mappings<a class="self-link" href="#rdf-star-operator-mapping" aria-label="Permalink for Section 4.4.10"></a></h4>

        <p>New operator mappings are added for RDF-star triple terms for section 
          SPARQL 1.1 Query <a href="https://www.w3.org/TR/sparql11-query/#OperatorMapping">17.3 Operator Mapping</a>
        </p>
        <table class="operator">
          <caption>SPARQL Binary Operators (SPARQL-star)</caption>
          <tbody class="small">
            <tr>
              <th class="major" scope="col">Operator</th>
              <th class="major" scope="col">Type(A)</th>
              <th class="major" scope="col">Type(B)</th>
              <th class="major" scope="col">Evaluation</th>
              <th class="major" scope="col">Result type</th>
            </tr>

            <tr>
              <th colspan="5" class="subHeading" scope="col">SPARQL-star Tests</th>
            </tr>
            <tr>
              <th>A = B</th>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td>
                <a href="https://www.w3.org/TR/xpath-functions/#func-numeric-equal">op:numeric-equal</a>(<a href="#defn-sparql-compare" class="SPARQLoperator" id="ref-for-defn-sparql-compare-1">sparql-compare</a>(A, B), 0)
              </td>
              <td>xsd:boolean</td>
            </tr>
            <tr>
              <th>A != B</th>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td><span class="type RDFterm">RDF triple term</span></td>

              <td>
                <a href="http://www.w3.org/TR/xpath-functions/#func-not">fn:not</a>(<a href="https://www.w3.org/TR/xpath-functions/#func-numeric-equal">op:numeric-equal</a>(<a href="#defn-sparql-compare" class="SPARQLoperator" id="ref-for-defn-sparql-compare-2">sparql-compare</a>(A, B), 0))
              </td>
              <td>xsd:boolean</td>
            </tr>
            <tr>
              <th>A &lt; B</th>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td>
                <a href="https://www.w3.org/TR/xpath-functions/#func-numeric-equal">op:numeric-equal</a>(<a href="#defn-sparql-compare" class="SPARQLoperator" id="ref-for-defn-sparql-compare-3">sparql-compare</a>(A, B), -1)
              </td>
              <td>xsd:boolean</td>
            </tr>
            <tr>
              <th>A &lt;= B</th>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td>
                <a href="http://www.w3.org/TR/xpath-functions/#func-not">fn:not</a>(<a href="https://www.w3.org/TR/xpath-functions/#func-numeric-equal">op:numeric-equal</a>(<a href="#defn-sparql-compare" class="SPARQLoperator" id="ref-for-defn-sparql-compare-4">sparql-compare</a>(A, B), 1))
              </td>
              <td>xsd:boolean</td>
            </tr>
            <tr>
              <th>A &gt; B</th>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td>
                <a href="https://www.w3.org/TR/xpath-functions/#func-numeric-equal">op:numeric-equal</a>(<a href="#defn-sparql-compare" class="SPARQLoperator" id="ref-for-defn-sparql-compare-5">sparql-compare</a>(A, B), 1)
              </td>

              <td>xsd:boolean</td>
            </tr>
            <tr>
              <th>A &gt;= B
              </th>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td><span class="type RDFterm">RDF triple term</span></td>
              <td>
                <a href="http://www.w3.org/TR/xpath-functions/#func-not">fn:not</a>(<a href="https://www.w3.org/TR/xpath-functions/#func-numeric-equal">op:numeric-equal</a>(<a href="#defn-sparql-compare" class="SPARQLoperator" id="ref-for-defn-sparql-compare-6">sparql-compare</a>(A, B), -1))
              </td>
              <td>xsd:boolean</td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="triple-term-comparison">
        <h4 id="x4-4-11-triple-terms-with-order-by"><bdi class="secno">4.4.11 </bdi>Triple terms with ORDER BY<a class="self-link" href="#triple-term-comparison" aria-label="Permalink for Section 4.4.11"></a></h4>

        <p>There is an added item to the ordering of terms when they would not 
          otherwise be ordered. RDF-star triple terms are placed last (highest).</p>
        <ol>
          <li>(Lowest) no value assigned to the variable 
            or expression in this solution.</li>
          <li>Blank nodes</li>
          <li>IRIs</li>
          <li>RDF literals</li>
          <li><i>RDF-star triple terms</i></li>
        </ol>
        <p>
          RDF-star triple terms are compared using the <code>&lt;</code> operator.
        </p>
        <p>
          While SPARQL-star does not define a total ordering of all possible RDF-star terms,
          implementations should provide some ordering for <code>ORDER BY</code>
          that does not change between queries if the data has not changed.
        </p>
      </section>
    </section>

    <section class="informative" id="examples-and-discussion">
      <h3 id="x4-5-examples-and-discussion"><bdi class="secno">4.5 </bdi>Examples and Discussion<a class="self-link" href="#examples-and-discussion" aria-label="Permalink for Section 4.5"></a></h3><p><em>This section is non-normative.</em></p>

      <p>By the evaluation semantics of SPARQL-star as defined in <a href="#evaluation-semantics" class="sec-ref">§&nbsp;<bdi class="secno">4.6 </bdi>Evaluation Semantics</a>, the five new built-in functions defined above can be used in exactly the same manner as <a href="https://www.w3.org/TR/sparql11-query/#SparqlOps">the functions defined in the SPARQL 1.1 spec</a>. For instance, the following SPARQL-star query retrieves every <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-9">asserted triple</a> that is both contained in the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a> of the queried <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-5">RDF-star dataset</a> and has a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-30">quoted triple</a> as its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a>.</p>

      <div class="example" id="example-19">
        <div class="marker">
    <a class="self-link" href="#example-19">Example<bdi> 19</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">SELECT ?t WHERE {
  ?s ?p ?o .
  BIND( TRIPLE(?s,?p,?o) AS ?t )
  FILTER( isTRIPLE(SUBJECT(?t)) )
}</pre>
      </div>

      <p>Instead of accessing the subject of the triples in the FILTER after the BIND clause, as was done in the previous query, a semantically equivalent query may apply the FILTER directly on the variable&nbsp;<code>?s</code>, as follows:</p>

      <div class="example" id="example-20">
        <div class="marker">
    <a class="self-link" href="#example-20">Example<bdi> 20</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">SELECT ?t WHERE {
  ?s ?p ?o .
  BIND( TRIPLE(?s,?p,?o) AS ?t )
  FILTER( isTRIPLE(?s) )
}</pre>
      </div>

      <p>While the triples that the previous example queries bind to variable&nbsp;<code>?t</code> occur in the queried data, the <a href="#triple-function">TRIPLE function</a> can be used to construct triples that may not be in the data. For instance, the following query uses the subject of each <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-10">asserted triple</a> in the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-default-graph">default graph</a> of the queried <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-6">RDF-star dataset</a> to construct another triple, and bind it to the variable&nbsp;<code>?t</code>. Notice that the result of this query contains as many <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-6">SPARQL-star solution mappings</a> as there are <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-11">asserted triples</a> in the queried graph, and there may be duplicates in the result if multiple <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-12">asserted triples</a> have the same subject.</p>

      <div class="example" id="example-21">
        <div class="marker">
    <a class="self-link" href="#example-21">Example<bdi> 21</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;

SELECT ?t WHERE {
  ?s ?p ?o .
  BIND( TRIPLE(?s,rdf:type,rdfs:Resource) AS ?t )
}</pre>
      </div>

      <p>There are cases where the effects of using the new TRIPLE function are not immediately obvious just from its definition, particularly when considering the interplay of this function with the <a href="https://www.w3.org/TR/sparql11-query/#func-bnode">BNODE function</a> when used within <a href="https://www.w3.org/TR/sparql11-query/#queryDataset">GRAPH clauses</a>. Some of these cases are discussed below.</p>

      <p>Consider the following SPARQL-star query.</p>

      <div class="example" id="example-22">
        <div class="marker">
    <a class="self-link" href="#example-22">Example<bdi> 22</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">SELECT ( COUNT(?t1) AS ?t1Count )
       ( COUNT(?t2) AS ?t2Count )
       ( COUNT(?t3) AS ?t3Count )
       ( COUNT(DISTINCT ?t1) AS ?t1DistCount )
       ( COUNT(DISTINCT ?t2) AS ?t2DistCount )
       ( COUNT(DISTINCT ?t3) AS ?t3DistCount )
WHERE {
  GRAPH ?g {
    BIND( TRIPLE(BNODE(), :p, :o) AS ?t1 )
    BIND( TRIPLE(BNODE("id"), :p, :o) AS ?t2 )
    BIND( TRIPLE(:s, :p, :o) AS ?t3 )
  }
}</pre>
      </div>

      <p>When evaluated over an <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-7">RDF-star dataset</a> that contains <var>n</var> <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-named-graph">named graphs</a>, where <var>n</var>&gt;0, the GRAPH clause results in one <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-7">SPARQL-star solution mapping</a> per named graph. The SELECT clause collapses these <var>n</var> mappings into a single mapping that is defined for the six variables introduced in the SELECT clause. (If <var>n</var>=0, the query result is the empty set.) Each of these six variables is mapped to an integer-typed literal with values as follows. For each of <code>?t1Count</code>, <code>?t2Count</code>, and <code>?t3Count</code>, the value is&nbsp;<var>n</var>, because the variables <code>?t1</code>, <code>?t2</code>, and <code>?t3</code> are bound in each of the <var>n</var> solution mappings produced for the GRAPH clause. For the variable&nbsp;<code>?t1DistCount</code>, the value is also <var>n</var>, because the BIND clauses are evaluated <var>n</var> times (once for each named graph) and the subexpression BNODE() always creates a different new blank node; thus, the triples created for variable <code>?t1</code> are all different from one another. This is also the case if the BNODE function is used with an argument; i.e., the value of <code>?t2DistCount</code> is <var>n</var> too. In contrast, the variable&nbsp;<code>?t3</code> is mapped to the same triple within each evaluation of the third BIND clause; thus, the value for <code>?t3DistCount</code> is&nbsp;1.</p>

      <p>Notice that the BNODE function has to be used to create a blank node; simply writing a blank node directly in an expression <a href="https://www.w3.org/TR/sparql11-query/#rExpression">is not permitted</a>.</p>

      <p>Notice as well that the preceding query is special in two ways: its GRAPH clause does not actually consider the content of the named graphs; and the expressions in the BIND clauses do not contain variables. In contrast, the GRAPH clause and the BIND clauses in the following query do.</p>

      <div class="example" id="example-23">
        <div class="marker">
    <a class="self-link" href="#example-23">Example<bdi> 23</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX rdfg: &lt;http://www.w3.org/2004/03/trix/rdfg-1/&gt;

SELECT ( COUNT(?t1) AS ?t1Count )
       ( COUNT(?t2) AS ?t2Count )
WHERE {
  GRAPH ?g {
    ?g rdf:type rdfg:Graph .
    BIND( TRIPLE(?g, rdf:type, rdfs:Resource) AS ?t1 )
    BIND( TRIPLE(?x, rdf:type, rdfs:Resource) AS ?t2 )
  }
}</pre>
      </div>

      <p>For every RDF-star dataset with <var>n</var>&gt;0 named graphs, the result of this query consists of a single SPARQL-star solution mapping that is defined for the three variables introduced in the SELECT clause. The value of <code>?t1Count</code> is the number of named graphs in the queried dataset that contain a triple of the form (<var>u</var>, <code>rdf:type</code>, <code>rdfg:Graph</code>) such that <var>u</var> is the name of the named graph in the dataset. The value of <code>?t2Count</code> is always&nbsp;0&nbsp;(zero), because evaluating the expression of the second BIND clause results in an error, because the variable&nbsp;<code>?x</code> is not bound in the scope of this evaluation. As a side note, evaluating the expression of the first BIND clause would also result in an error, if the variable&nbsp;<code>?g</code> was not mentioned inside the GRAPH clause (e.g., if the given triple pattern was not there).</p>

    </section>

    <section id="evaluation-semantics">
      <h3 id="x4-6-evaluation-semantics"><bdi class="secno">4.6 </bdi>Evaluation Semantics<a class="self-link" href="#evaluation-semantics" aria-label="Permalink for Section 4.6"></a></h3>

      <p>The SPARQL specification defines a function <q>eval(<var>D</var>(<var>G</var>),&nbsp;algebra&nbsp;expression) as the evaluation of an algebra expression with respect to a dataset <var>D</var> having active graph <var>G</var></q>&nbsp;[<a href="https://www.w3.org/TR/sparql11-query/#sparqlAlgebraEval">SPARQL11-QUERY, Section 18.6</a>]. Recall that the dataset <var>D</var> in the context of SPARQL-star is an <a href="#dfn-dataset" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-dataset-8">RDF-star dataset</a> and, thus, the active graph <var>G</var> is an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-16">RDF-star graph</a>, and so is any other graph in dataset <var>D</var>. The definition of the <a href="https://www.w3.org/TR/sparql11-query/#sparqlAlgebraEval">eval</a> function is recursive; the base case of this definition for SPARQL-star are given as follows:</p>

      <ul>
        <li>For every <a href="#dfn-bgp-star" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-6"><abbr title="Basic Graph Pattern">BGP</abbr>-star</a> <var>B</var>, eval(<var>D</var>(<var>G</var>),&nbsp;<var>B</var>)&nbsp;is a multiset Ω that consists of all <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-8">SPARQL-star solution mappings</a> that are a <a href="#dfn-bgp-star-solution" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-bgp-star-solution-1">solution for the <abbr title="Basic Graph Pattern">BGP</abbr>-star</a>&nbsp;<var>B</var> over&nbsp;<var>G</var>. For every such mapping&nbsp;μ, card[Ω](μ) is the number of distinct <a href="#dfn-rdf-star-instance-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rdf-star-instance-mapping-2">RDF-star instance mappings</a>&nbsp;σ such that dom(σ) is equivalent to the set of blank nodes in&nbsp;<var>B</var> and μ(σ(<var>B</var>)) is a subgraph of <var>G</var>. (For any SPARQL-star solution mapping&nbsp;μ' that is <em>not</em> a solution for&nbsp;<var>B</var> over&nbsp;<var>G</var>, we have that card[Ω](μ')=0; i.e., μ' is not in Ω.)</li>
      </ul>

      <p>For any other algebra expression, the SPARQL specification defines algebra operators&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>]. These definitions can be extended naturally to operate over multisets of <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-9">SPARQL-star solution mappings</a> (instead of ordinary <a data-link-type="dfn" href="https://www.w3.org/TR/sparql11-query/#defn_sparqlSolutionMapping">solution mappings</a>). Given this extension, the recursive steps of the definition of the <a href="https://www.w3.org/TR/sparql11-query/#sparqlAlgebraEval">eval</a> function for SPARQL-star are the same as in the SPARQL specification.</p>
    </section>

    <section id="query-result-formats">
      <h3 id="x4-7-query-result-formats"><bdi class="secno">4.7 </bdi>Query Result Formats<a class="self-link" href="#query-result-formats" aria-label="Permalink for Section 4.7"></a></h3>

      <p>In SPARQL, queries can take four forms: <em>SELECT</em>, <em>CONSTRUCT</em>, <em>DESCRIBE</em>, and <em>ASK</em> - see <a href="https://www.w3.org/TR/sparql11-query/#QueryForms">SPARQL1.1 Query, Section 16</a> [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>]. The first of these returns a <a href="https://www.w3.org/TR/sparql11-query/#defn_sparqlSolutionSequence">sequence of solution mappings</a> that contain variable bindings. The second and third both return an RDF graph, and the last returns a boolean value.
      </p>
      <p>The result of the <em>ASK</em> query form is not changed by the introduction of RDF-star, and the result of the <em>CONSTRUCT</em> and <em>DESCRIBE</em> forms can be represented by <a href="#turtle-star">Turtle-star</a>. However, since the <em>SELECT</em> form deals with returning individual RDF terms, the specific serialization formats for representing such query results need to be extended so that the new <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-31">quoted triple</a> RDF term can be represented. In this section, we propose extensions for the two most common formats for this purpose: <cite><a href="https://www.w3.org/TR/sparql11-results-json/">SPARQL 1.1 Query Results JSON Format</a></cite>, and <cite><a href="https://www.w3.org/TR/rdf-sparql-XMLres/">SPARQL Query Results XML Format (Second Edition)</a></cite>.</p>

      <section id="sparql-star-query-results-json-format">
        <h4 id="x4-7-1-sparql-star-query-results-json-format"><bdi class="secno">4.7.1 </bdi>SPARQL-star Query Results JSON Format<a class="self-link" href="#sparql-star-query-results-json-format" aria-label="Permalink for Section 4.7.1"></a></h4>
        <p>
        The result of a SPARQL SELECT query is serialized in JSON as defined in <cite><a href="https://www.w3.org/TR/sparql11-results-json/">SPARQL 1.1 Query Results JSON Format</a></cite>, which specifies a JSON representation of variable bindings to RDF terms (see [<a href="https://www.w3.org/TR/sparql11-results-json/#select-results">sparql11-results-json, Section 3.2</a>]). To accommodate the new RDF term for <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-32">quoted triples</a> that RDF-star introduces, the table of RDF term JSON representations in  <a href="https://www.w3.org/TR/sparql11-results-json/#select-encode-terms">sparql11-results-json, Section 3.2.2</a> is extended with the following entry:
        </p>
        <dl>
            <dt>A <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-33">quoted triple</a> with subject RDF term <code>S</code>, predicate RDF term <code>P</code> and object RDF term <code>O</code></dt>
            <dd>
              <pre aria-busy="false"><code class="hljs json">{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"triple"</span>,
  <span class="hljs-attr">"value"</span>: {
     <span class="hljs-attr">"subject"</span>: S,
     <span class="hljs-attr">"predicate"</span>: P,
     <span class="hljs-attr">"object"</span>: O
  }
}</code></pre>
              where <code>S</code>, <code>P</code> and <code>O</code> are encoded using the same format, recursively.
            </dd>
          </dl>
        <aside class="example" id="example-24"><div class="marker">
    <a class="self-link" href="#example-24">Example<bdi> 24</bdi></a>
  </div>
            Consider the following RDF term, a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-34">quoted triple</a> in Turtle-star syntax:
          <pre data-content-type="text/turtle" class="nohighlight">&lt;&lt; &lt;http://example.org/alice&gt; &lt;http://example.org/name&gt; "Alice" &gt;&gt;</pre>
          This term is represented in JSON as follows:
          <pre aria-busy="false"><code class="hljs css">{
  "type": <span class="hljs-string">"triple"</span>,
  <span class="hljs-string">"value"</span>: {
     <span class="hljs-string">"subject"</span>: {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"uri"</span>,
        <span class="hljs-string">"value"</span> <span class="hljs-string">"http://example.org/alice"</span>
     },
     "predicate": {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"uri"</span>,
        <span class="hljs-string">"value"</span> <span class="hljs-string">"http://example.org/name"</span>
     },
     "<span class="hljs-selector-tag">object</span>": {
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"literal"</span>,
        <span class="hljs-string">"value"</span> <span class="hljs-string">"Alice"</span>,
        <span class="hljs-string">"datatype"</span>: <span class="hljs-string">"http://www.w3.org/2001/XMLSchema#string"</span>
     },
  }
}</code></pre>
        </aside>
      
      </section>

      <section id="sparql-star-query-results-xml-format">
        <h4 id="x4-7-2-sparql-star-query-results-xml-format"><bdi class="secno">4.7.2 </bdi>SPARQL-star Query Results XML Format<a class="self-link" href="#sparql-star-query-results-xml-format" aria-label="Permalink for Section 4.7.2"></a></h4>
       <p>
        The result of a SPARQL SELECT query is serialized in XML as defined in <cite><a href="https://www.w3.org/TR/rdf-sparql-XMLres/">SPARQL Query Results XML Format (Second Edition)</a></cite>. This format proposes an XML representation of variable bindings to RDF terms.
       </p>
       <p>To accommodate the new RDF term for <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-35">quoted triples</a> that RDF-star introduces, the list of RDF terms and their XML representations in [<a href="https://www.w3.org/TR/rdf-sparql-XMLres/#results">RDF-SPARQL-XMLRES Section 2.3.1</a>] is extended as follows:
        </p>
        <p>
        </p><dl>
            <dt>A <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-36">quoted triple</a> with subject term <code>S</code>, predicate term <code>P</code>, and object term <code>O</code></dt>
          <dd>
            <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">binding</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">triple</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">subject</span>&gt;</span>S<span class="hljs-tag">&lt;/<span class="hljs-name">subject</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">predicate</span>&gt;</span>P<span class="hljs-tag">&lt;/<span class="hljs-name">predicate</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">object</span>&gt;</span>O<span class="hljs-tag">&lt;/<span class="hljs-name">object</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">triple</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">binding</span>&gt;</span></code></pre>
            where <code>S</code>, <code>P</code> and <code>O</code> are encoded recursively, using the same format, without the enclosing <code>&lt;binding&gt;</code> tag.
          </dd>
        </dl>
        <aside class="example" id="example-25"><div class="marker">
    <a class="self-link" href="#example-25">Example<bdi> 25</bdi></a>
  </div>
            Consider the following RDF term, a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-37">quoted triple</a> in Turtle-star syntax:
          <pre data-content-type="text/turtle" class="nohighlight">&lt;&lt; &lt;http://example.org/alice&gt; &lt;http://example.org/name&gt; "Alice" &gt;&gt;</pre>
          This term is represented in XML as follows:
          <pre aria-busy="false"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">triple</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">subject</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">uri</span>&gt;</span>http://example.org/alice<span class="hljs-tag">&lt;/<span class="hljs-name">uri</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">subject</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">predicate</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">uri</span>&gt;</span>http://example.org/name<span class="hljs-tag">&lt;/<span class="hljs-name">uri</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">predicate</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">object</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">literal</span> <span class="hljs-attr">datatype</span>=<span class="hljs-string">'http://www.w3.org/2001/XMLSchema#string'</span>&gt;</span>Alice<span class="hljs-tag">&lt;/<span class="hljs-name">literal</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">object</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">triple</span>&gt;</span></code></pre>
        </aside>

        

      </section>

    </section>

  </section>

  <section id="sparql-star-update">
    <h2 id="x5-sparql-star-update"><bdi class="secno">5. </bdi>SPARQL-star Update<a class="self-link" href="#sparql-star-update" aria-label="Permalink for Section 5."></a></h2>

    <p>This section specifies SPARQL-star Update, an update language for RDF-star. This language extends SPARQL Update [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-update" title="SPARQL 1.1 Update">SPARQL11-UPDATE</a></cite>], the update language for RDF, by adding RDF-star-specific features and semantics.</p>

    <section class="informative" id="informal-description">
      <h3 id="x5-1-informal-description"><bdi class="secno">5.1 </bdi>Informal Description<a class="self-link" href="#informal-description" aria-label="Permalink for Section 5.1"></a></h3><p><em>This section is non-normative.</em></p>

      <p>While SPARQL Update operates over a <a href="https://www.w3.org/TR/sparql11-update/#graphStore">graph store</a> that consists of RDF graphs, SPARQL-star Update extends the notion of graph store to contain RDF-star graphs instead of RDF graphs. That is, a <a href="https://www.w3.org/TR/sparql11-update/#defn_graphStore">graph store</a> in the context of SPARQL-star Update contains one (unnamed) slot holding an RDF-star graph, referred to as the default graph, and zero or more named slots holding other RDF-star graphs, referred to as named graphs. Then, all <a href="https://www.w3.org/TR/sparql11-update/#graphManagement">graph management operations</a> in SPARQL Update (<a href="https://www.w3.org/TR/sparql11-update/#create">CREATE</a>, <a href="https://www.w3.org/TR/sparql11-update/#drop">DROP</a>, <a href="https://www.w3.org/TR/sparql11-update/#copy">COPY</a>, <a href="https://www.w3.org/TR/sparql11-update/#move">MOVE</a>, <a href="https://www.w3.org/TR/sparql11-update/#add">ADD</a>) carry over directly to SPARQL-star Update with the only difference being that in SPARQL-star Update these operations manage RDF-star graphs. For instance, the <a href="https://www.w3.org/TR/sparql11-update/#create">CREATE</a> operation in SPARQL-star Update creates an RDF-star graph rather than a pure RDF graph. Similarly, the <a href="https://www.w3.org/TR/sparql11-update/#graphUpdate">graph update operations</a> <a href="https://www.w3.org/TR/sparql11-update/#load">LOAD</a> and <a href="https://www.w3.org/TR/sparql11-update/#clear">CLEAR</a> in SPARQL-star Update operate with RDF-star graphs in the same way as their SPARQL Update counterparts operate with RDF graphs.</p>

      <p>The only operations that SPARQL-star Update actually extends are the graph update operations <a href="https://www.w3.org/TR/sparql11-update/#insertData">INSERT DATA</a>, <a href="https://www.w3.org/TR/sparql11-update/#deleteData">DELETE DATA</a>, and <a href="https://www.w3.org/TR/sparql11-update/#deleteInsert">DELETE/INSERT</a>. This section describes these extensions informally. While this description focuses mainly on updates to the default graph, the operations can also be applied to the named graphs.</p>

      <section id="insert-data">
        <h4 id="x5-1-1-insert-data"><bdi class="secno">5.1.1 </bdi>INSERT DATA<a class="self-link" href="#insert-data" aria-label="Permalink for Section 5.1.1"></a></h4>

        <p>The <a href="https://www.w3.org/TR/sparql11-update/#insertData">INSERT DATA</a> operation can be used to add a given set of triples into the graph store. In the context of SPARQL-star Update, these triples may be <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-36">RDF-star triples</a>. As an example, consider the following INSERT DATA operation.</p>

        <div class="example" id="example-26">
        <div class="marker">
    <a class="self-link" href="#example-26">Example<bdi> 26</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

INSERT DATA {
  :alice :claims &lt;&lt; :bob :age 23 &gt;&gt; .
}</pre>
      </div>

        <p>Suppose this INSERT DATA operation is executed over a graph store with an empty default graph. After executing this operation, the default graph contains the given (nested) RDF-star triple. Now, it is possible to query for this triple. For instance, the following SPARQL-star query returns a single solution mapping in which the variables ?p and ?a are mapped to the IRI <code>:alice</code> and the literal <code>23</code>, respectively.</p>

        <div class="example" id="example-27">
        <div class="marker">
    <a class="self-link" href="#example-27">Example<bdi> 27</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

SELECT ?p ?a WHERE {
  ?p :claims &lt;&lt; :bob :age ?a &gt;&gt; .
}</pre>
      </div>

        <p>Notice that inserting a nested triple does not automatically also insert its <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-38">quoted</a> triple(s) as <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-13">asserted</a> triple(s) into the graph. Hence, in the previous example, after executing the given INSERT DATA operation, the default graph does <em>not</em> contain the triple <code>:bob :age 23</code>. In other words, a query such as the following would have an empty result.</p>

        <div class="example" id="example-28">
        <div class="marker">
    <a class="self-link" href="#example-28">Example<bdi> 28</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

SELECT ?a WHERE {
  :bob :age ?a .
}</pre>
      </div>

        <p>For a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-39">quoted triple</a> to be present in the graph as an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-14">asserted triple</a>, it needs to be inserted as such. For instance, the INSERT DATA operation in the example above may be modified as follows in order to insert not only the nested triple but also the triple <code>:bob :age 23</code>.</p>

        <div class="example" id="example-29">
        <div class="marker">
    <a class="self-link" href="#example-29">Example<bdi> 29</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

INSERT DATA {
  :bob :age 23 .
  :alice :claims &lt;&lt; :bob :age 23 &gt;&gt; .
}</pre>
      </div>

      </section>

      <section id="delete-data">
        <h4 id="x5-1-2-delete-data"><bdi class="secno">5.1.2 </bdi>DELETE DATA<a class="self-link" href="#delete-data" aria-label="Permalink for Section 5.1.2"></a></h4>

        <p>The <a href="https://www.w3.org/TR/sparql11-update/#deleteData">DELETE DATA</a> operation can be used to remove a given set of triples from the graph store. In the context of SPARQL-star Update, this may include removing nested RDF-star triples as demonstrated in the following example.</p>

        <div class="example" id="example-30">
        <div class="marker">
    <a class="self-link" href="#example-30">Example<bdi> 30</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

DELETE DATA {
  :alice :claims &lt;&lt; :bob :age 23 &gt;&gt; .
}</pre>
      </div>

        <p>After executing this DELETE DATA operation over a graph store with a default graph that contains the given nested triple, the graph will not contain this triple any longer. If the graph did not contain that nested triple in the first place, the graph will remain unchanged by the given DELETE DATA operation.</p>

        <p>Notice that deleting triples by using the DELETE DATA operation does not affect any other triples in the corresponding graphs. For instance, for a default graph that contains the triple <code>:bob :age 23</code> as an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-15">asserted triple</a>, the DELETE DATA operation given above does <em>not</em> delete this <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-16">asserted triple</a>. In contrast, the following operation would delete this <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-17">asserted triple</a> but it would <em>not</em> delete any nested triple that contains the given triple as a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-40">quoted triple</a>.</p>

        <div class="example" id="example-31">
        <div class="marker">
    <a class="self-link" href="#example-31">Example<bdi> 31</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

DELETE DATA {
  :bob :age 23 .
}</pre>
      </div>

      </section>

      <section id="delete-insert">
        <h4 id="x5-1-3-delete-insert"><bdi class="secno">5.1.3 </bdi>DELETE/INSERT<a class="self-link" href="#delete-insert" aria-label="Permalink for Section 5.1.3"></a></h4>

        <p>The <a href="https://www.w3.org/TR/sparql11-update/#deleteInsert">DELETE/INSERT</a> operation can be used to remove or add triples based on variable bindings obtained by evaluating a given WHERE clause. As an example, the following DELETE/INSERT operation replaces all nested triples in which <code>:alice</code> is the subject by nested triples in which <code>:carol</code> is the subject.</p>

        <div class="example" id="example-32">
        <div class="marker">
    <a class="self-link" href="#example-32">Example<bdi> 32</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

DELETE { :alice ?pp &lt;&lt;?s ?p ?o&gt;&gt; . }
INSERT { :carol ?pp &lt;&lt;?s ?p ?o&gt;&gt; . }
WHERE {  :alice ?pp &lt;&lt;?s ?p ?o&gt;&gt; . }</pre>
      </div>

        <p>As in SPARQL Update, in SPARQL-star Update it is possible to use variations of the DELETE/INSERT operations in which either the DELETE clause or the INSERT clause are omitted.</p>

        <p>When removing triples via the DELETE clause (irrespective of whether the INSERT clause is omitted or not), the effects with respect to nested triples must be the same as described above for the DELETE DATA operation; i.e., only the triples that are explicitly identified to be deleted are deleted. Similarly, inserting triples via the INSERT clause has the same effects as described above for the INSERT DATA operation; i.e., inserting nested triples does not automatically also insert their <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-41">quoted triples</a> as <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-18">asserted triples</a> into the graph. Of course, it is possible to request such inserts explicitly as demonstrated in the following example.</p>

        <div class="example" id="example-33">
        <div class="marker">
    <a class="self-link" href="#example-33">Example<bdi> 33</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

DELETE { :alice ?pp &lt;&lt;?s ?p ?o&gt;&gt; . }
INSERT { :carol ?pp &lt;&lt;?s ?p ?o&gt;&gt; .  ?s ?p ?o .}
WHERE {  :alice ?pp &lt;&lt;?s ?p ?o&gt;&gt; . }</pre>
      </div>

        <p>While all SPARQL-star Update examples above focus only on the default graph of a graph store, SPARQL-star Update can also be used to update the named graphs of a graph store, which works in exactly the same way as in SPARQL Update. As a possible example consider the following INSERT operation which retrieves all <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-42">quoted triples</a> found in nested triples in the default graph and inserts them as <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-19">asserted triples</a> into the named graph with IRI&nbsp;<code>:graph2</code>.</p>

        <div class="example" id="example-34">
        <div class="marker">
    <a class="self-link" href="#example-34">Example<bdi> 34</bdi></a>
  </div> <pre data-content-type="application/sparql-query" class="nohighlight">PREFIX : &lt;http://www.example.org/&gt;

INSERT {
  GRAPH :graph2 { ?s ?p ?o }
}
WHERE {
  { &lt;&lt;?s ?p ?o&gt;&gt; ?pp ?oo }
  UNION
  { ?ss ?pp &lt;&lt;?s ?p ?o&gt;&gt; }
}</pre>
      </div>

      </section>

    </section>



    <section id="grammar">
      <h3 id="x5-2-grammar"><bdi class="secno">5.2 </bdi>Grammar<a class="self-link" href="#grammar" aria-label="Permalink for Section 5.2"></a></h3>

      <p>SPARQL-star Update is an extension of the SPARQL Update language [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-update" title="SPARQL 1.1 Update">SPARQL11-UPDATE</a></cite>]. As mentioned in <a href="https://www.w3.org/TR/sparql11-update/#grammar">SPARQL&nbsp;1.1 Update, Appendix&nbsp;C</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-update" title="SPARQL 1.1 Update">SPARQL11-UPDATE</a></cite>], the grammar of the latter is provided as part of the <a href="https://www.w3.org/TR/sparql11-query/#sparqlGrammar">SPARQL&nbsp;1.1 Query grammar</a>. Similarly, the grammar of SPARQL-star Update is provided as part of the grammar of the SPARQL-star query language, which is defined by the SPARQL&nbsp;1.1 Query grammar with the extensions specified in <a href="#sparql-star-grammar" class="sec-ref">§&nbsp;<bdi class="secno">4.2 </bdi>Grammar</a>. As a result of these extensions, the production rules <a href="https://www.w3.org/TR/sparql11-query/#rQuadData">QuadData</a> and <a href="https://www.w3.org/TR/sparql11-query/#rQuadPattern">QuadPattern</a>, which are used in the definition of SPARQL Update [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-update" title="SPARQL 1.1 Update">SPARQL11-UPDATE</a></cite>], are extended to capture nested triples and nested triple patterns as demonstrated in the examples above.</p>

    </section>

    <section id="semantics">
      <h3 id="x5-3-semantics"><bdi class="secno">5.3 </bdi>Semantics<a class="self-link" href="#semantics" aria-label="Permalink for Section 5.3"></a></h3>

      <p>The semantics of SPARQL-star Update operations can also be defined by a simple extension of <a href="https://www.w3.org/TR/sparql11-update/#formalModel">the formalization of SPARQL Update</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-update" title="SPARQL 1.1 Update">SPARQL11-UPDATE</a></cite>]. This extension assumes that any mention of "RDF triple" or "triple" in the formalization of SPARQL Update is understood as an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-37">RDF-star triple</a>. Similarly, "RDF graph" and "solution mapping" are understood as <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-17">RDF-star graph</a> and <a href="#dfn-solution-star-mapping" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-solution-star-mapping-10">SPARQL-star solution mapping</a>, respectively. Any mention of the "evaluation function eval()" is understood as the eval function for SPARQL-star as defined in <a href="#evaluation-semantics" class="sec-ref">§&nbsp;<bdi class="secno">4.6 </bdi>Evaluation Semantics</a>.</p>

    </section>

  </section>

  <section id="rdf-star-semantics">
    <h2 id="x6-rdf-star-semantics"><bdi class="secno">6. </bdi>RDF-star Semantics<a class="self-link" href="#rdf-star-semantics" aria-label="Permalink for Section 6."></a></h2>

    <p>In this section, we provide a model-theoretic semantics for RDF-star, based on the one defined in <cite><a href="https://www.w3.org/TR/rdf11-mt/">RDF 1.1 Semantics</a></cite>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-mt" title="RDF 1.1 Semantics">RDF11-MT</a></cite>]. More precisely, we define a mapping from RDF-star's abstract syntax into standard RDF's abstract syntax, and define the semantics of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-18">RDF-star graphs</a> in terms of the semantics of the mapped <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graphs</a>.</p>

    <p>In the following, we will use abbreviated <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRIs</a> using the prefix <code>unstar:</code> which is an alias for the namespace <code>https://w3c.github.io/rdf-star/unstar#</code>.</p>

    <p>We also introduce a number of definitions specific to RDF-star, which rely on the following notions, defined in <cite><a href="https://www.w3.org/TR/rdf11-concepts/">RDF 1.1 Concepts and Abstract Syntax</a></cite>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-concepts" title="RDF 1.1 Concepts and Abstract Syntax">RDF11-CONCEPTS</a></cite>] and <cite><a href="https://www.w3.org/TR/rdf11-mt/">RDF 1.1 Semantics</a></cite>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-mt" title="RDF 1.1 Semantics">RDF11-MT</a></cite>]:
      <dfn id="dfn-datatype" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-datatype">datatype</a></dfn>,
      <dfn id="dfn-lexical-form" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-lexical-form">lexical form</a></dfn>,
      <dfn id="dfn-ill-typed" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-mt/#dfn-ill-typed">ill-typed</a></dfn>,
      <dfn data-lt="merge" id="dfn-merge" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-mt/#dfn-merging">merging</a></dfn>,
      <dfn data-lt="satisfiable" id="dfn-satisfiable" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiability</a></dfn>,
      <dfn data-lt="unsatisfiable" id="dfn-unsatisfiable" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-mt/#dfn-unsatisfiable">unsatisfiability</a></dfn>,
      <dfn data-lt="entail|entailed" data-plurals="entails" id="dfn-entail" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailment</a></dfn>,
      and <dfn data-lt="equivalent" id="dfn-equivalent" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-mt/#dfn-equivalent">equivalence</a></dfn>.
    </p>

    <section id="mapping">
      <h3 id="x6-1-mapping-rdf-star-abstract-syntax-to-rdf"><bdi class="secno">6.1 </bdi>Mapping RDF-star abstract syntax to RDF<a class="self-link" href="#mapping" aria-label="Permalink for Section 6.1"></a></h3>

      <p>We define a mapping <var>L</var> that maps any <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> or <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-literal">literal</a> <var>t</var> to a literal with:</p>
      <ul>
        <li><code>xsd:string</code> as its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-datatype">datatype</a>, and</li>
        <li>the <a href="https://www.w3.org/TR/n-triples/#canonical-ntriples">canonical N-Triples</a> representation of <var>t</var> as its <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-lexical-form">lexical form</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-n-triples" title="RDF 1.1 N-Triples">N-TRIPLES</a></cite>]. If <var>t</var> is itself a literal with the <code>xsd:string</code> <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-datatype">datatype</a>, the representation <em class="rfc2119">MUST</em> simply match the <a href="https://www.w3.org/TR/n-triples/#grammar-production-STRING_LITERAL_QUOTE"><code>STRING_LITERAL_QUOTE</code></a> production (i.e., without an explicit <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-datatype">datatype</a> <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a>).</li>
      </ul>

      <p>Given an <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-19">RDF-star graph</a> <var>G</var>, the following steps define the <dfn data-lt="unstar|unstar mapping" id="dfn-unstar" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">unstar mapping</dfn>, which transform <var>G</var> into an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a> that we call <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-1">unstar</a>(<var>G</var>).</p>

      <div class="algorithm">
      <ol>
        <li id="unstar-replace-unstar-IRIs">For each <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> <var>i</var> in the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-5">constituents</a> of <var>G</var> starting with <code>https://w3c.github.io/rdf-star/unstar#</code>: <ol>
          <li>Mint a new <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> <var>j</var> by appending an underscore (<code>_</code>) to <var>i</var>.</li>
          <li>Replace with <var>j</var> all occurrences of <var>i</var> in the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a>, <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-predicate">predicate</a>, or <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a> position of an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-20">asserted</a> or <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-43">quoted</a> triple of <var>G</var>.</li>
        </ol></li>
        <li id="unstar-loop">While <var>G</var> contains <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-44">quoted triples</a>:<ol>
          <li>Pick an <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-38">RDF-star triple</a> (<var>s</var>, <var>p</var>, <var>o</var>) in the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-6">constituents</a> of <var>G</var> such that neither <var>s</var> nor <var>o</var> is a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-45">quoted triple</a>.</li>
          <li>Mint a fresh blank node <var>b</var> (i.e., such that <var>b</var> is not in the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-7">constituents</a> of <var>G</var>).</li>
          <li>Replace with <var>b</var> all occurrences of (<var>s</var>, <var>p</var>, <var>o</var>) in the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-subject">subject</a> or <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-object">object</a> position of an <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-21">asserted</a> or <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-46">quoted</a> triple of <var>G</var>.</li>
          <li id="unstar-add-triples">Add the following <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-22">asserted triples</a> to <var>G</var>:<ul>
            <li>(<var>b</var>, <code>unstar:subject</code>,<code>&nbsp;&nbsp;&nbsp;</code><var>s</var>)</li>
            <li>(<var>b</var>, <code>unstar:predicate</code>,<code>&nbsp;</code><var>p</var>)</li>
            <li>(<var>b</var>, <code>unstar:object</code>,<code>&nbsp;&nbsp;&nbsp;&nbsp;</code><var>o</var>) unless <var>o</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-ill-typed">ill-typed</a> literal</li>
            <li>(<var>b</var>, <code>unstar:subjectLexical</code>,<code>&nbsp;&nbsp;&nbsp;</code><var>L</var>(<var>s</var>)) unless <var>s</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a></li>
            <li>(<var>b</var>, <code>unstar:predicateLexical</code>,<code>&nbsp;</code><var>L</var>(<var>p</var>))</li>
            <li>(<var>b</var>, <code>unstar:objectLexical</code>,<code>&nbsp;&nbsp;&nbsp;&nbsp;</code><var>L</var>(<var>o</var>)) unless <var>o</var> is a <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a></li>
          </ul></li>
        </ol></li>
      </ol>
      </div>
      <p>After these steps, <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-2">unstar</a>(<var>G</var>) is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a>, as it contains no <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-47">quoted triples</a>. Note that if <var>G</var> contains no <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-48">quoted triple</a> and no <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> in the <code>unstar:</code> namespace, then <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-3">unstar</a>(<var>G</var>)&nbsp;=&nbsp;<var>G</var>.</p>

    </section>

    <section id="entailment-of-rdf-star-graphs">
      <h3 id="x6-2-entailment-of-rdf-star-graphs"><bdi class="secno">6.2 </bdi>Entailment of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-20">RDF-star graphs</a><a class="self-link" href="#entailment-of-rdf-star-graphs" aria-label="Permalink for Section 6.2"></a></h3>

      <p>Following <cite><a href="https://www.w3.org/TR/rdf11-mt/">RDF 1.1 Semantics</a></cite>, we define the notions of <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiability</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailment</a> for <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-21">RDF-star graphs</a>. Given two <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-22">RDF-star graphs</a> <var>G</var> and <var>H</var>:</p><p>
      </p><ul>
        <li>We say that <var>G</var> is star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiable</a> (resp. star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-unsatisfiable">unsatisfiable</a>) if and only if <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-4">unstar</a>(<var>G</var>) is simply <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiable</a> (resp. simply <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-unsatisfiable">unsatisfiable</a>).</li>
        <li>We say that <var>H</var> is star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailed</a> by (resp. star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-equivalent">equivalent</a> to) <var>G</var> if and only if <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-5">unstar</a>(<var>H</var>) is simply <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailed</a> by (resp. simply <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-equivalent">equivalent</a> to) <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-6">unstar</a>(<var>G</var>).</li>
      </ul>

      <p>It is easy to see that, in the special case of <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graphs</a> <var>G</var> and <var>H</var> (i.e. <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-23">RDF-star graphs</a> containing no <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-49">quoted triple</a>), <var>G</var> is star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiable</a> if and only if <var>G</var> is simply <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiable</a>, and <var>G</var> star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entails</a> <var>H</var> if and only if <var>G</var> simply <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entails</a> <var>H</var>. This is trivially true if <var>G</var> and <var>H</var> do not contain any <code>unstar:</code> <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a> (in which case they are left unchanged by the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-7">unstar mapping</a>). But this is also true if they do contain such <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRIs</a> (as the renaming performed by the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-8">unstar mapping</a> has no significant impact on the semantic relationships between the two graphs). Star-<a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailment</a> can therefore be considered as a natural <em>extension</em> of simple <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailment</a> to <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-24">RDF-star graphs</a>.</p>

      <div class="note" role="note" id="issue-container-generatedID-13"><div role="heading" class="note-title marker" id="h-note-13" aria-level="4"><span>Note</span></div><p class="">Other notions of <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiability</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailment</a>, such as <a href="https://www.w3.org/TR/rdf11-mt/#rdf-entailment">RDF entailment</a> or <a href="https://www.w3.org/TR/rdf11-mt/#rdfs-entailment">RDFS entailment</a>, can be extended in the same way for <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-25">RDF-star graphs</a>.</p></div>    
    </section>

    <section id="merging">
      <h3 id="x6-3-merging-rdf-star-graphs"><bdi class="secno">6.3 </bdi>Merging RDF-star graphs<a class="self-link" href="#merging" aria-label="Permalink for Section 6.3"></a></h3>

      <p><cite><a href="https://www.w3.org/TR/rdf11-mt/">RDF 1.1 Semantics</a></cite>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf11-mt" title="RDF 1.1 Semantics">RDF11-MT</a></cite>] defines the <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-merging">merging</a> of two or more <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graphs</a> as "[taking their] union after forcing any shared blank nodes, which occur in more than one graph, to be distinct in each graph." Note that, in the case of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-26">RDF-star graphs</a>, any <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node">blank node</a> in the <a href="#dfn-constituent" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-constituent-8">constituent terms</a> of that graph is governed by the definition above, <em>not</em> only those in the subject or object position of some <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-23">asserted triple</a>.</p>

      <div class="example" id="merging-example">
        <div class="marker">
    <a class="self-link" href="#merging-example">Example<bdi> 35</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">#### graph #1
:alice :says
  &lt;&lt; _:x :name "bob" &gt;&gt;,
  &lt;&lt; _:x :likes :alice &gt;&gt;.

#### graph #2
:bob :says
  &lt;&lt; :alice :hates _:x &gt;&gt;.

#### Merge of graphs #1 and #2 →
:alice :says
  &lt;&lt; _:y :name "bob" &gt;&gt;,
  &lt;&lt; _:y :likes :alice &gt;&gt;.
:bob :says
  &lt;&lt; :alice :hates _:z &gt;&gt;.</pre>
      </div>

      </section>


    <section class="informative" id="remarks">
      <h3 id="x6-4-remarks"><bdi class="secno">6.4 </bdi>Remarks<a class="self-link" href="#remarks" aria-label="Permalink for Section 6.4"></a></h3><p><em>This section is non-normative.</em></p>

      <section id="implementing-the-rdf-star-semantics">
        <h4 id="x6-4-1-implementing-the-rdf-star-semantics"><bdi class="secno">6.4.1 </bdi>Implementing the RDF-star semantics<a class="self-link" href="#implementing-the-rdf-star-semantics" aria-label="Permalink for Section 6.4.1"></a></h4>

        <p>It is important to notice that the definitions given <a href="#entailment-of-rdf-star-graphs">above</a> for <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-satisfiable">satisfiability</a> and <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-entail">entailment</a> of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-27">RDF-star graphs</a> do not mandate that implementations actually transform <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-28">RDF-star graphs</a> using the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-9">unstar mapping</a> defined above. It should be possible to implement the semantics by directly handling RDF-star's <a href="#concepts">abstract syntax</a>.</p>

      </section>

      <section id="combining-rdf-star-graphs">
        <h4 id="x6-4-2-combining-rdf-star-graphs"><bdi class="secno">6.4.2 </bdi>Combining RDF-star graphs<a class="self-link" href="#combining-rdf-star-graphs" aria-label="Permalink for Section 6.4.2"></a></h4>

        <p>Care must be taken when implementations that rely on the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-10">unstar mapping</a> combine the resulting <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graphs</a> through union or <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-merging">merge</a>. Given two <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-29">RDF-star graphs</a> <var>G</var> and <var>H</var>, it may be the case that <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-11">unstar</a>(<var>G</var>&nbsp;∪&nbsp;<var>H</var>) ≠ <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-12">unstar</a>(<var>G</var>)&nbsp;∪&nbsp;<a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-13">unstar</a>(<var>H</var>).</p>

        <p>In particular, if <var>G</var> and <var>H</var> contain the same <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-50">quoted triple</a>, this triple will be mapped to a single blank node in <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-14">unstar</a>(<var>G</var>&nbsp;∪&nbsp;<var>H</var>), but in two potentially different blank nodes in <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-15">unstar</a>(<var>G</var>)&nbsp;∪&nbsp;<a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-16">unstar</a>(<var>H</var>). These blank nodes will need to be unified in order to reconstruct <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-17">unstar</a>(<var>G</var>&nbsp;∪&nbsp;<var>H</var>).</p>

        <p>Conversely, nothing in the definition of the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-18">unstar mapping</a> prevents it from generating the same blank node <var>b</var> for a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-51">quoted triple</a> of <var>G</var>, and for a <em>different</em> <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-52">quoted triple</a> of <var>H</var> (provided that <var>b</var> is not present in either <var>G</var> nor <var>H</var>). In that case, not only would <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-19">unstar</a>(<var>G</var>)&nbsp;∪&nbsp;<a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-20">unstar</a>(<var>H</var>) be different from <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-21">unstar</a>(<var>G</var>&nbsp;∪&nbsp;<var>H</var>), but it would lose some information by mixing the descriptions of the two <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-53">quoted triples</a>.</p>

      </section>

      <section id="other-uses-of-the-unstar-mapping">
        <h4 id="x6-4-3-other-uses-of-the-unstar-mapping"><bdi class="secno">6.4.3 </bdi>Other uses of the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-22">unstar mapping</a><a class="self-link" href="#other-uses-of-the-unstar-mapping" aria-label="Permalink for Section 6.4.3"></a></h4>

        <p>Since the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-23">unstar mapping</a> transforms any <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-30">RDF-star graph</a> into a standard ("non-star") <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a>, it might be tempting to use this mapping for conveying <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-31">RDF-star graphs</a> to legacy RDF systems. However, this has a number of caveats.</p>

        <p>First, the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-24">unstar mapping</a> alters the semantics of the graph: in general, a graph <var>G</var> is <em>not</em> <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-mt/#dfn-equivalent">equivalent</a> to its "unstarred" version <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-25">unstar</a>(<var>G</var>), even if <var>G</var> is a standard <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a> containing no <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-54">quoted triples</a>. (More precisely, they are equivalent only if <var>G</var> contains no <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-55">quoted triples</a> and no IRIs from the <code>unstar:</code> namespace.)</p>

        <p>Second, when a legacy RDF system communicates an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-graph">RDF graph</a> to an RDF-star-aware system, there is no means by which the latter can determine with certainty whether the graph is the result of applying the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-26">unstar mapping</a>, and thus needs to be transformed back. (The presence of <code>unstar:</code> IRIs in the graph can be used as a hint, but such IRIs can also be used independently of the mapping.) Additional metadata should therefore be attached to unstarred graphs, so that RDF-star systems know whether or not they need to apply the inverse transformation of <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-27">unstar</a>.</p>

        <p>Finally, legacy RDF systems may alter unstarred graphs in ways that prevent their transformation back to the original <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-32">RDF-star graph</a>. For example, it has been <a href="#combining-rdf-star-graphs">pointed out above</a> how combining several unstarred graphs may not yield the expected result. Another example is the removal of some arcs, such that a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-56">quoted triple</a> is not completely described anymore, and can not be reconstructed.</p>

      </section>

      <section id="ref-opacity">
        <h4 id="x6-4-4-referential-opacity"><bdi class="secno">6.4.4 </bdi>Referential opacity<a class="self-link" href="#ref-opacity" aria-label="Permalink for Section 6.4.4"></a></h4>

        <p>The way the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-28">unstar mapping</a> is defined, the denotation of a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-57">quoted triple</a> does not only depend on the denotation of its component terms, but also on their syntactical form (for IRIs and literals). This behavior is referred to as <a href="https://en.wikipedia.org/wiki/Opaque_context">referential opacity</a>. A consequence is that two different triples, that would be semantically equivalent if asserted, are not automatically considered to denote the same thing when <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-58">quoted</a>. In the example below, assuming <a href="https://www.w3.org/TR/rdf11-mt/#datatype-entailment">D-entailment</a>: while <code>"104232"^^xsd:nonNegativeInteger</code> and <code>"000104232"^^xsd:nonNegativeInteger</code> denote the same thing (namely, the number 104232), the two <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-59">quoted triples</a> are allowed to have different denotations, and so the entailment does not hold.</p>

        <div class="example" id="ref-opacity-d-entailment">
        <div class="marker">
    <a class="self-link" href="#ref-opacity-d-entailment">Example<bdi> 36</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">#### under D-entailment

&lt;&lt; dbr:Linköping dbo:populationTotal "104232"^^xsd::nonNegativeInteger &gt;&gt;
    :source &lt;https://dbpedia.org/data/Linköping&gt;.

#### does NOT entail

&lt;&lt; dbr:Linköping dbo:populationTotal "000104232"^^xsd::nonNegativeInteger &gt;&gt;
    :source &lt;https://dbpedia.org/data/Linköping&gt;.

# (notice the leading zeros in the literal)</pre>
      </div>

        <p>Similarly, in the example below and under <a href="https://www.w3.org/TR/owl2-overview/">OWL entailment</a>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-owl2-overview" title="OWL 2 Web Ontology Language Document Overview (Second Edition)">OWL2-Overview</a></cite>], while <code>:superman</code> and <code>:clark</code> are inferred to denote one and the same person (because of the <code>owl:sameAs</code> relationship between them), the two <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-60">quoted triples</a> are not automatically considered to denote the same thing.</p>

        <div class="example" id="ref-opacity-owl-entailment">
        <div class="marker">
    <a class="self-link" href="#ref-opacity-owl-entailment">Example<bdi> 37</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">#### under OWL-entailment

:superman owl:sameAs :clark.
&lt;&lt; :superman :can :fly &gt;&gt; :reportedBy :clark.

#### does NOT entail

&lt;&lt; :clark :can :fly &gt;&gt; :reportedBy :clark.</pre>
      </div>

        <p>Note that this may lead to counter-intuitive results when the <a href="#annotation-syntax">annotation syntax</a> is used, as illustrated in the example below.</p>

        <div class="example" id="ref-opacity-annotation">
        <div class="marker">
    <a class="self-link" href="#ref-opacity-annotation">Example<bdi> 38</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">#### under D-entailment

dbr:Linköping dbo:populationTotal "104232"^^xsd::nonNegativeInteger
    {| :source &lt;https://dbpedia.org/data/Linköping&gt; |}.

#### does NOT entail

dbr:Linköping dbo:populationTotal "000104232"^^xsd::nonNegativeInteger
    {| :source &lt;https://dbpedia.org/data/Linköping&gt; |}.

# (notice the leading zeros in the literal)

#### more precisely, it DOES entail

dbr:Linköping dbo:populationTotal "000104232"^^xsd::nonNegativeInteger.

#### but it does NOT entail

&lt;&lt; dbr:Linköping dbo:populationTotal "000104232"^^xsd::nonNegativeInteger &gt;&gt;
    :source &lt;https://dbpedia.org/data/Linköping&gt;.</pre>
      </div>

      </section>

      <section id="selective-ref-transparency">
        <h4 id="x6-4-5-selective-referential-transparency"><bdi class="secno">6.4.5 </bdi>Selective referential transparency<a class="self-link" href="#selective-ref-transparency" aria-label="Permalink for Section 6.4.5"></a></h4>

        <p>Referencial opacity is well suited for use-cases where the syntactical form of the annotated statements may be significant (like <a href="../UCR/rdf-star-ucr.html#annotate-statements-from-other-named-graphs-and-datasets">annotating statements from other graphs</a> or <a href="../UCR/rdf-star-ucr.html#annotate-commit-deltas">annotating commit deltas</a>). On the other hand, other use-cases would expect some degree of referential transparency. Consider the case of <a href="../UCR/rdf-star-ucr.html#meta-properties-over-properties">attributed/evidenced triples</a>. The annotation is understood to be about the fact asserted by the triple rather than the triple itself. In this use case, one might then expect more inferences than provided by the base semantics. Consider the following example.</p>

        <div class="example" id="selective-ref-opacity">
        <div class="marker">
    <a class="self-link" href="#selective-ref-opacity">Example<bdi> 39</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight">&lt;&lt; dbr:Linköping dbo:populationTotal "104232"^^xsd::nonNegativeInteger &gt;&gt;
  :measuredOn "2010-12-31"^^xsd:date ;
  :source &lt;https://dbpedia.org/data/Linköping.ttl&gt; .

### Candidate entailment #1

&lt;&lt; dbr:Linköping dbo:populationTotal "000104232"^^xsd::nonNegativeInteger &gt;&gt;
  :measuredOn "2010-12-31"^^xsd:date .

### Candidate entailment #2

&lt;&lt; dbr:Linköping dbo:populationTotal "000104232"^^xsd::nonNegativeInteger &gt;&gt;
  :source &lt;https://dbpedia.org/data/Linköping.ttl&gt; .

# (notice the leading zeros in the literal in both candidate entailments)</pre>
      </div>

        <p>One could argue that the candidate entailment #1 is desirable because the property <code>:measuredOn</code> is understood to be about the <em>statement</em> made by the subject triple (that statement was true on the given date, regardless of its RDF expression, in this case using an object value equivalent to <code>104232</code>). On the other hand, the candidate entailment #2 may be considered not desirable because the predicate <code>:source</code> is about the triple itself (that specific triple was parsed from the given Turtle file).</p>

        <p>In Section&nbsp;<a href="#rdf-star-vocabulary" class="sec-ref">§&nbsp;<bdi class="secno">7. </bdi>RDF-star vocabulary</a>, we introduce the notion of <dfn data-lt="TEP|transparency-enabling property (TEP)" id="dfn-tep" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">transparency-enabling property (TEP)</dfn>, for selectively enabling this kind of entailment on specific properties. The basis of the idea is that each such property&nbsp;<var>p</var> is identified by adding to the RDF-star graph a triple of the form (<var>p</var>, <code>rdf:type</code>, <code>rdf-star:TransparencyEnablingProperty</code>); i.e., for the previous example, this triple would be (<code>:measuredOn</code>, <code>rdf:type</code>, <code>rdf-star:TransparencyEnablingProperty</code>).
        This would make candidate entailment #1 above valid. The semantics of such TEPs is formally defined in Section&nbsp;<a href="#vocabulary-semantics" class="sec-ref">§&nbsp;<bdi class="secno">7.3 </bdi>Vocabulary semantics</a>.</p>

        <p>Notice that enabling referential transparency based on such TEPs is only local to the RDF-star graph(s) in which the property is stated to be a TEP (or where this statement can be inferred as per the entailment regime considered). In other words, for every graph&nbsp;<var>G</var> in which a property is <em>not</em> stated to be transparency enabling, all quoted triples appearing in <var>G</var> as subject or object of that property are stilled considered as referentially opaque, even if there may exist some other graph in which the property is stated to be transparency enabling.</p>

        <div class="note" role="note" id="issue-container-generatedID-14"><div role="heading" class="note-title marker" id="h-note-14" aria-level="5"><span>Note</span></div><p class="">This proposal for TEPs makes no distinction regarding the position (subject or object) of the <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-61">quoted triples</a>. The group did consider a finer-grained alternative, where selective transparency could also be enabled only for the subjects (resp. objects) of the TEP. This was however ruled out as overly complex for a limited added value.</p></div>
      </section>

      <section id="other-alternatives-to-referential-opacity">
        <h4 id="x6-4-6-other-alternatives-to-referential-opacity"><bdi class="secno">6.4.6 </bdi>Other alternatives to referential opacity<a class="self-link" href="#other-alternatives-to-referential-opacity" aria-label="Permalink for Section 6.4.6"></a></h4>

        <p>Given the potential drawbacks of the referential opacity provided by the current semantics, as described in the beginning of Section&nbsp;<a href="#selective-ref-transparency" class="sec-ref">§&nbsp;<bdi class="secno">6.4.5 </bdi>Selective referential transparency</a> above, the group has considered other alternative semantics. No clear consensus was reached, however, to decide whether these alternatives should be used as a replacement, or as a <a href="https://www.w3.org/TR/rdf11-mt/#dfn-semantic-extension">semantic extension</a>, of the current semantics.</p>

        <p>A fully referentially transparent semantics can be achieved by changing the <a href="#unstar-add-triples">step 2.4</a> of the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-29">unstar mapping</a> algorithm as follows:</p>

        <ul>
          <li> Add the following <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-24">asserted triples</a> to <var>G</var>:
            <ul>
              <li>(<var>b</var>, <code>unstar:subject</code>,<code>&nbsp;&nbsp;&nbsp;</code><var>s</var>)</li>
              <li>(<var>b</var>, <code>unstar:predicate</code>,<code>&nbsp;</code><var>p</var>)</li>
              <li>(<var>b</var>, <code>unstar:object</code>,<code>&nbsp;&nbsp;&nbsp;&nbsp;</code><var>o</var>)</li>
            </ul>
          </li>
        </ul>

        <p>In the examples above (<a href="#ref-opacity-d-entailment" class="box-ref">Example<bdi> 36</bdi></a>, <a href="#ref-opacity-owl-entailment" class="box-ref">Example<bdi> 37</bdi></a>, <a href="#ref-opacity-annotation" class="box-ref">Example<bdi> 38</bdi></a>, <a href="#selective-ref-opacity" class="box-ref">Example<bdi> 39</bdi></a>), all the entailments would now hold automatically. This could be a problem in some use-cases, as such inferences could then not be cancelled, given the <a href="https://www.w3.org/TR/rdf11-mt/#dfn-monotonic">monotonic semantics</a> of RDF.</p>

        <p>An intermediate alternative would be to make <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-62">quoted triples</a> referentially opaque for IRIs only, keeping it transparent for literals (and for blank nodes, as is already the case). This can be achieved by changing the <a href="#unstar-add-triples">step 2.4</a> of the <a href="#dfn-unstar" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-unstar-30">unstar mapping</a> algorithm as follows:</p>

        <ul>
          <li> Add the following <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-25">asserted triples</a> to <var>G</var>:
            <ul>
              <li>(<var>b</var>, <code>unstar:subject</code>,<code>&nbsp;&nbsp;&nbsp;</code><var>s</var>)</li>
              <li>(<var>b</var>, <code>unstar:predicate</code>,<code>&nbsp;</code><var>p</var>)</li>
              <li>(<var>b</var>, <code>unstar:object</code>,<code>&nbsp;&nbsp;&nbsp;&nbsp;</code><var>o</var>)</li>
              <li>(<var>b</var>, <code>unstar:subjectLexical</code>,<code>&nbsp;&nbsp;&nbsp;</code><var>L</var>(<var>s</var>)) if <var>s</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a></li>
              <li>(<var>b</var>, <code>unstar:predicateLexical</code>,<code>&nbsp;</code><var>L</var>(<var>p</var>))</li>
              <li>(<var>b</var>, <code>unstar:objectLexical</code>,<code>&nbsp;&nbsp;&nbsp;&nbsp;</code><var>L</var>(<var>o</var>)) if <var>o</var> is an <a data-link-type="dfn" href="https://www.w3.org/TR/rdf11-concepts/#dfn-iri">IRI</a></li>
              </ul>
          </li>
        </ul>

        <div class="note" role="note" id="issue-container-generatedID-15"><div role="heading" class="note-title marker" id="h-note-15" aria-level="5"><span>Note</span></div><div class="">Other design choices for the semantics have also been discussed by the community group; these have been <a href="https://github.com/w3c/rdf-star/issues/95">summarized in a Github issue</a>.</div></div>

      </section>

    </section>

  </section>

  <section class="informative" id="rdf-star-vocabulary">
    <h2 id="x7-rdf-star-vocabulary"><bdi class="secno">7. </bdi>RDF-star vocabulary<a class="self-link" href="#rdf-star-vocabulary" aria-label="Permalink for Section 7."></a></h2><p><em>This section is non-normative.</em></p>

    <p>In this section, we propose a minimal vocabulary that can be useful when working with RDF-star, especially when describing other vocabularies meant to be used with RDF-star triples and graphs.</p>

    <section id="core-vocabulary">
      <h3 id="x7-1-core-vocabulary"><bdi class="secno">7.1 </bdi>Core vocabulary<a class="self-link" href="#core-vocabulary" aria-label="Permalink for Section 7.1"></a></h3>

      <p>In this section we define IRIs for the concepts defined in other normative parts of this document.</p>

      <dl>
        <dt><code>rdf-star:Triple</code></dt>
        <dd>This term identifies the class of all <a href="#dfn-triple" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-triple-39">RDF-star triples</a>. It is expected to serve, among other things, as the <code>rdfs:domain</code> or <code>rdfs:range</code> of properties meant to apply to <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-63">quoted triples</a>.</dd>

        <dt><code>rdf-star:Graph</code></dt>
        <dd>This term identifies the class of all <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-33">RDF-star graphs</a>.</dd>

        <dt><code>rdf-star:Source</code></dt>
        <dd>This term identifies the class of all RDF-star sources, an extension of the notion of <dfn id="dfn-rdf-source" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/rdf11-concepts/#dfn-rdf-source">RDF source</a></dfn>: a persistent yet mutable source or container of <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-34">RDF-star graphs</a>.</dd>

        <dt><code>rdf-star:SPARQLStarQuery</code></dt>
        <dd>This term identifies the extension of the SPARQL query language defined in Section&nbsp;<a href="#sparql-star" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>SPARQL-star Query Language</a>. It is expected to serve as the value of <code>sd:supportedLanguage</code> in SPARQL service descriptions [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-service-description" title="SPARQL 1.1 Service Description">SPARQL11-SERVICE-DESCRIPTION</a></cite>].</dd>

        <dt><code>rdf-star:SPARQLStarUpdate</code></dt>
        <dd>This term identifies the extension of the SPARQL update language defined in Section&nbsp;<a href="#sparql-star-update" class="sec-ref">§&nbsp;<bdi class="secno">5. </bdi>SPARQL-star Update</a>. It is expected to value as the domain of <code>sd:supportedLanguage</code> in SPARQL service descriptions [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-service-description" title="SPARQL 1.1 Service Description">SPARQL11-SERVICE-DESCRIPTION</a></cite>].</dd>
      </dl>

      <p>Below is a Turtle description of that vocabulary.</p>

      <div class="defn">
        <pre aria-busy="false"><code class="hljs css">## RDF-star core vocabulary
PREFIX rdf:       &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;
PREFIX rdfs:      &lt;http://www.w3.org/<span class="hljs-number">2000</span>/<span class="hljs-number">01</span>/rdf-schema#&gt;
PREFIX rdf-star:  &lt;http://www.w3.org/ns/rdf-star#&gt;
PREFIX sd:        &lt;http://www.w3.org/ns/sparql-service-description#&gt;

rdf-star:Triple      a rdfs:Class ;
    rdfs<span class="hljs-selector-pseudo">:is</span>DefinedBy   &lt;http://www.w3.org/ns/rdf-star#&gt; ;
    rdfs:label         <span class="hljs-string">"RDF-star Triple"</span> ;
    rdfs:comment       <span class="hljs-string">"The class of RDF-star triples."</span> ;
    rdfs:subClassOf    rdfs:Resource .

rdf-star:Graph       a rdfs:Class ;
    rdfs<span class="hljs-selector-pseudo">:is</span>DefinedBy   &lt;http://www.w3.org/ns/rdf-star#&gt; ;
    rdfs:label         <span class="hljs-string">"RDF-star Graph"</span> ;
    rdfs:comment       <span class="hljs-string">"The class of RDF-star graphs."</span> ;
    rdfs:subClassOf    rdfs:Resource .

rdf-star:Source      a rdfs:Class ;
    rdfs<span class="hljs-selector-pseudo">:is</span>DefinedBy   &lt;http://www.w3.org/ns/rdf-star#&gt; ;
    rdfs:label         <span class="hljs-string">"RDF-star Source"</span> ;
    rdfs:seeAlso       &lt;https://www.w3.org/TR/rdf11-concepts/#h3_change-over-time&gt; ;
    rdfs:comment       <span class="hljs-string">"The class of RDF-star sources."</span> ;
    rdfs:subClassOf    rdfs:Resource .

rdf-star:SPARQLStarQuery a sd:Language ;
    rdfs<span class="hljs-selector-pseudo">:is</span>DefinedBy   &lt;http://www.w3.org/ns/rdf-star#&gt; ;
    rdfs:label         <span class="hljs-string">"SPARQL-star"</span> ;
    rdfs:comment       <span class="hljs-string">"The SPARQL-star query language"</span> .

rdf-star:SPARQLStarUpdate a sd:Language ;
    rdfs<span class="hljs-selector-pseudo">:is</span>DefinedBy   &lt;http://www.w3.org/ns/rdf-star#&gt; ;
    rdfs:label         <span class="hljs-string">"SPARQL-star Update"</span> ;
    rdfs:comment       <span class="hljs-string">"The SPARQL-star update language"</span> .</code></pre>
      </div>
    </section>

    <section id="extended-vocabulary">
      <h3 id="x7-2-extended-vocabulary"><bdi class="secno">7.2 </bdi>Extended vocabulary<a class="self-link" href="#extended-vocabulary" aria-label="Permalink for Section 7.2"></a></h3>

      <p>In this section we define IRIs for the concepts defined in other non-normative parts of this document.</p>

      <dl>
        <dt><code>rdf-star:TransparencyEnablingProperty</code></dt>
        <dd>A special kind of property that, when applied to a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-64">quoted triple</a>, also holds for any semantically equivalent triple, as discussed in <a href="#selective-ref-transparency" class="sec-ref">§&nbsp;<bdi class="secno">6.4.5 </bdi>Selective referential transparency</a>.</dd>
      </dl>

      <p>Below is a Turtle description of that vocabulary.</p>

      <div class="defn">
        <pre aria-busy="false"><code class="hljs css">## RDF-star extended vocabulary
PREFIX rdf:       &lt;http://www.w3.org/<span class="hljs-number">1999</span>/<span class="hljs-number">02</span>/<span class="hljs-number">22</span>-rdf-syntax-ns#&gt;
PREFIX rdfs:      &lt;http://www.w3.org/<span class="hljs-number">2000</span>/<span class="hljs-number">01</span>/rdf-schema#&gt;
PREFIX rdf-star:  &lt;http://www.w3.org/ns/rdf-star#&gt;

rdf-star:TransparencyEnablingProperty a rdfs:Class ;
    rdfs<span class="hljs-selector-pseudo">:is</span>DefinedBy   &lt;http://www.w3.org/ns/rdf-star#&gt; ;
    rdfs:label         <span class="hljs-string">"RDF-star Source"</span> ;
    rdfs:comment       <span class="hljs-string">"The class of transparency-enabling properties."</span> ;
    rdfs:subClassOf    rdf:Property .</code></pre>
      </div>
    </section>

    <section id="vocabulary-semantics">
      <h3 id="x7-3-vocabulary-semantics"><bdi class="secno">7.3 </bdi>Vocabulary semantics<a class="self-link" href="#vocabulary-semantics" aria-label="Permalink for Section 7.3"></a></h3>

      <p>We now describe a <a href="https://www.w3.org/TR/rdf11-mt/#dfn-semantic-extension">semantic extension</a> of RDF-star, embedding the inherent semantics of the RDF-star vocabulary (RSV) described above (core and extended). A <dfn data-lt="RSV-interpretation|simple RSV-interpretation" data-plurals="rsv-interpretations" id="dfn-rsv-interpretation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">simple RSV-interpretation</dfn> is a <a href="https://www.w3.org/TR/rdf11-mt/#simple-interpretations">simple interpretation</a> <var>I</var> that satisfies the following additional conditions:</p>

      <ol>
        <li><em>Ensure that all quoted triples in this interpretations are instances of <code>rdf-star:Triple</code>.</em><ul>
          <li>For all <var>t</var>, <var>x</var> in the domain IR such that either<ul>
            <li>(<var>t</var>, <var>x</var>) ∈ IEXT(IS(<code>unstar:subject</code>)),
            </li><li>(<var>t</var>, <var>x</var>) ∈ IEXT(IS(<code>unstar:predicate</code>)),
            </li><li>(<var>t</var>, <var>x</var>) ∈ IEXT(IS(<code>unstar:object</code>)),
            </li><li>(<var>t</var>, <var>x</var>) ∈ IEXT(IS(<code>unstar:subjectLexical</code>)),
            </li><li>(<var>t</var>, <var>x</var>) ∈ IEXT(IS(<code>unstar:predicateLexical</code>)),
            </li><li>(<var>t</var>, <var>x</var>) ∈ IEXT(IS(<code>unstar:objectLexical</code>)),
          </li></ul>
          </li><li>then (<var>t</var>, IS(<code>rdf-star:Triple</code>)) must be an element of IEXT(IS(<code>rdf:type</code>)).
        </li></ul>

          
        </li><li><em>Ensure that, for all quoted triples in this interpretation, all "equivalent" triples also exist in the interpretation.</em><ul>
          <li>For all <var>t</var>, <var>s</var>, <var>p</var>, <var>o</var> in the domain IR such that<ul>
            <li>(<var>t</var>, <var>s</var>) ∈ IEXT(IS(<code>unstar:subject</code>)),
            </li><li>(<var>t</var>, <var>p</var>) ∈ IEXT(IS(<code>unstar:predicate</code>)),
            </li><li>(<var>t</var>, <var>o</var>) ∈ IEXT(IS(<code>unstar:object</code>)),
          </li></ul>
          </li><li>and for all terms <var>s</var>', <var>p</var>', and <var>o</var>' such that <ul>
            <li><var>I</var>(<var>s</var>') = <var>s</var>,
            </li><li><var>I</var>(<var>p</var>') = <var>p</var>,
            </li><li><var>I</var>(<var>o</var>') = <var>o</var>,
          </li></ul>
          </li><li>there must exist <var>t</var>' in IR such that<ul>
            <li>(<var>t</var>', <var>s</var>) ∈ IEXT(IS(<code>unstar:subject</code>)),
            </li><li>(<var>t</var>', <var>p</var>) ∈ IEXT(IS(<code>unstar:predicate</code>)),
            </li><li>(<var>t</var>', <var>o</var>) ∈ IEXT(IS(<code>unstar:object</code>)),
            </li><li>(<var>t</var>', <var>I</var>(L(<var>s</var>'))) ∈ IEXT(IS(<code>unstar:subjectLexical</code>)),
            </li><li>(<var>t</var>', <var>I</var>(L(<var>p</var>'))) ∈ IEXT(IS(<code>unstar:predicateLexical</code>)), and
            </li><li>(<var>t</var>', <var>I</var>(L(<var>o</var>'))) ∈ IEXT(IS(<code>unstar:objectLexical</code>)).
          </li></ul>
        </li></ul>

        </li><li><em>Ensure that TEPs that hold for a triple also hold for all "equivalent" triples.</em>
        <ul><li>For all <var>p</var> such that (<var>p</var>,IS(<code>rdf-star:TransparencyEnablingProperty</code>)) ∈ IEXT(IS(<code>rdf:type</code>))
          </li><li>then <var>p</var> must be an element of IP, and<ul>

            <li>For all <var>t</var>, <var>u</var>, <var>s</var>', <var>p</var>', <var>o</var>', <var>t</var>' in IR such that<ul>
              <li>(<var>t</var>, <var>u</var>) ∈ IEXT(<code>p</code>)
              </li><li>(<var>t</var>, <var>s</var>') ∈ IEXT(IS(<code>unstar:subject</code>)),
              </li><li>(<var>t</var>, <var>p</var>') ∈ IEXT(IS(<code>unstar:predicate</code>)),
              </li><li>(<var>t</var>, <var>o</var>') ∈ IEXT(IS(<code>unstar:object</code>)),
              </li><li>(<var>t</var>', <var>s</var>') ∈ IEXT(IS(<code>unstar:subject</code>)),
              </li><li>(<var>t</var>', <var>p</var>') ∈ IEXT(IS(<code>unstar:predicate</code>)),
              </li><li>(<var>t</var>', <var>o</var>') ∈ IEXT(IS(<code>unstar:object</code>))
            </li></ul>
            then (<var>t</var>', <var>u</var>) must also be an element of IEXT(<var>p</var>).

            </li><li>For all <var>t</var>, <var>u</var>, <var>s</var>', <var>p</var>', <var>o</var>', <var>t</var>' in IR such that<ul>
              <li>(<var>u</var>, <var>t</var>) ∈ IEXT(<code>p</code>)
              </li><li>(<var>t</var>, <var>s</var>') ∈ IEXT(IS(<code>unstar:subject</code>)),
              </li><li>(<var>t</var>, <var>p</var>') ∈ IEXT(IS(<code>unstar:predicate</code>)),
              </li><li>(<var>t</var>, <var>o</var>') ∈ IEXT(IS(<code>unstar:object</code>)),
              </li><li>(<var>t</var>', <var>s</var>') ∈ IEXT(IS(<code>unstar:subject</code>)),
              </li><li>(<var>t</var>', <var>p</var>') ∈ IEXT(IS(<code>unstar:predicate</code>)),
              </li><li>(<var>t</var>', <var>o</var>') ∈ IEXT(IS(<code>unstar:object</code>))
            </li></ul>
            then (<var>u</var>, <var>t</var>') must also be an element of IEXT(<var>p</var>).
          </li></ul>
        </li></ul>
      </li></ol>

      <p>Given two <a href="#dfn-graph" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-graph-35">RDF-star graphs</a> <var>G</var> and <var>H</var>, and following standard terminology, we say that a simple RSV-interpretation <var>I</var> satisfies <var>G</var> if <var>I</var>(<var>G</var>) = true, and that <var>G</var> is (simply) RSV-satisfiable if a simple RSV-interpretation exists that satisfies <var>G</var>; otherwise, <var>G</var> is (simply) RSV-unsatisfiable. We say that <var>G</var> simply RSV-entails <var>H</var> if every simple RSV-interpretation that satisfies <var>G</var> also satisfies <var>H</var>. If <var>G</var> and <var>H</var> each RSV-entail the other, they are RSV-equivalent.</p>

      <p>RSV-entailment is defined here as an extension of <a href="https://www.w3.org/TR/rdf11-mt/#simpleentailment">simple entailment</a>, but other entailment regimes (such as <a href="https://www.w3.org/TR/rdf11-mt/#rdf-entailment">RDF entailment</a> or <a href="https://www.w3.org/TR/rdf11-mt/#rdfs-entailment">RDFS entailment</a>) can be extended in the exact same way (i.e., by extending their respective notion of interpretation with the aforementioned conditions).</p>

      <div class="note" role="note" id="issue-container-generatedID-16"><div role="heading" class="note-title marker" id="h-note-16" aria-level="4"><span>Note</span></div><p class="">Some terms of the RDF-star vocabulary have no associated constraint in <a href="#dfn-rsv-interpretation" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-rsv-interpretation-1">RSV-interpretations</a> (for instance, <code>rdf-star:Graph</code>). The reason is that the intended meaning of these terms leads to no particular inference <em>with this vocabulary</em>.</p></div>

    </section>

    <div class="issue" id="issue-container-number-169"><div role="heading" class="issue-title marker" id="h-issue" aria-level="3"><a href="https://github.com/w3c/rdf-star/issues/169"><span class="issue-number">Issue 169</span></a><span class="issue-label">: Occurrences vocabulary <a class="respec-gh-label" style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);" href="https://github.com/w3c/rdf-star/issues/?q=is%3Aissue+is%3Aopen+label%3A%22later%22" aria-label="GitHub label: later">later</a><a class="respec-gh-label" style="background-color: rgb(223, 225, 72); color: rgb(0, 0, 0);" href="https://github.com/w3c/rdf-star/issues/?q=is%3Aissue+is%3Aopen+label%3A%22vocabulary%22" aria-label="GitHub label: vocabulary">vocabulary</a></span></div><div class="">
      This issue discusses the relevance of introducing a standard property to link a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-65">quoted triple</a> to its occurrences (as illustrated in <a href="#occurrences-example" class="box-ref">Example<bdi> 8</bdi></a>), as well as other related properties and classes.
    </div></div>
  </section>

  <section class="appendix informative" id="iana-considerations">
    <h2 id="a-iana-considerations"><bdi class="secno">A. </bdi>IANA Considerations<a class="self-link" href="#iana-considerations" aria-label="Permalink for Appendix A."></a></h2><p><em>This section is non-normative.</em></p>

    <p>In <a href="#concrete-syntaxes" class="sec-ref">§&nbsp;<bdi class="secno">3. </bdi>Concrete Syntaxes</a>, we have proposed extensions to four existing media types, namely <code>text/turtle</code>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-turtle" title="RDF 1.1 Turtle">TURTLE</a></cite>], <code>application/trig</code>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-trig" title="RDF 1.1 TriG">TRIG</a></cite>], <code>application/n-triples</code>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-n-triples" title="RDF 1.1 N-Triples">N-TRIPLES</a></cite>] and <code>application/n-quads</code>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-n-quads" title="RDF 1.1 N-Quads">N-QUADS</a></cite>]. In <a href="#sparql-star" class="sec-ref">§&nbsp;<bdi class="secno">4. </bdi>SPARQL-star Query Language</a>, we have proposed extensions to three more existing media types, namely <code>application/sparql-query</code> [<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-query" title="SPARQL 1.1 Query Language">SPARQL11-QUERY</a></cite>], <code>application/sparql-results+json</code>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-sparql11-results-json" title="SPARQL 1.1 Query Results JSON Format">SPARQL11-RESULTS-JSON</a></cite>], and <code>application/sparql-result+xml</code>&nbsp;[<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf-sparql-xmlres" title="SPARQL Query Results XML Format (Second Edition)">RDF-SPARQL-XMLRES</a></cite>]. While the <a href="https://www.w3.org/community/rdf-dev/">RDF-DEV Community Group</a> has no authority to officially update these media-types, we hope that a future working group with such authority will consider doing so, and include extensions proposed in this report.</p>

    <p>In the meantime, implementers of RDF-star are faced with a dilemma: use the standard media-type identifiers as if their definition had been already updated (optimistic approach); or make it explicit that they are prone to produce or consume <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-66">quoted triples</a>&nbsp;(pessimistic approach), perhaps by using a different temporary media-type, or custom HTTP headers.</p>

    <p>The optimistic approach raises the risk of breaking the expectations of other applications that are not RDF-star-aware. For example, if a SPARQL-star endpoint responds to a CONSTRUCT query with the <code>text/turtle</code> media-type, and includes a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-67">quoted triple</a> in the response, a legacy client will fail to parse that response. On the other hand, if the same server applies the pessimistic approach, it may simply reject any query requiring <code>text/turtle</code>, <em>just in case</em> the result contain <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-68">quoted triples</a>. Note that it is not always feasible for the server to decide beforehand whether the result is plain Turtle or Turtle-star, because the result is often produced in a streamed manner, after the headers containing the media-type have been sent to the client.</p>

    <p>Another problem with the pessimistic approach is that "temporary" media-types are known to actually become permanent. Old applications keep using them long after their intended expiration date. This a burden on all other implementations, which must handle the "temporary" media-types along the permanent one, as aliases, in order to maintain backward compatibility.</p>

    <p>The W3C Recommendation 
      <a href="https://www.w3.org/TR/dx-prof-conneg/#introduction">Content Negotiation by Profile</a>
      [<cite><a class="bibref" data-link-type="biblio" href="#bib-dx-prof-conneg" title="Content Negotiation by Profile">DX-PROF-CONNEG</a></cite>] describes a mechanism that separates content-type
      negotiation from requesting a response conforming to a specific information model,
      whether that model is a specific standard, specification or profile.
      The <a href="https://www.w3.org/TR/dx-prof-conneg/#requestsandresonses">operations of the abstract model</a> 
      are "list profiles" and "get resource by profile".
      The "get resource" operation can provide the profile requests with HTTP
      header <code>Accept-Profile</code> and responses use <code>Content-Profile</code>, or
      alternatively the request can use HTTP Query String parameters.
    </p>

    <p>
      This may be useful when the information is available in RDF-star or in non-RDF-star
      RDF 1.1 form, whether using reification, or by omitting information expressed with
      the RDF-star data model and responding with a restricted response. By lifting the
      issue up to the information model, away from being purely about syntax, restricted
      responses can be requested and returned which do not use RDF-star features.
      However, it assumes both requestor and receiver adhere to the defined profile
      negotiation and therefore does not address the dilemma of optimistic or pessimistic
      approaches.
    </p>

    <div class="issue" id="issue-container-number-43"><div role="heading" class="issue-title marker" id="h-issue-0" aria-level="3"><a href="https://github.com/w3c/rdf-star/issues/43"><span class="issue-number">Issue 43</span></a><span class="issue-label">: New mime types for RDF-star serializations (inc. SPARQL results) <a class="respec-gh-label" style="background-color: rgb(194, 224, 198); color: rgb(0, 0, 0);" href="https://github.com/w3c/rdf-star/issues/?q=is%3Aissue+is%3Aopen+label%3A%22sparql-star%22" aria-label="GitHub label: sparql-star">sparql-star</a><a class="respec-gh-label" style="background-color: rgb(254, 242, 192); color: rgb(0, 0, 0);" href="https://github.com/w3c/rdf-star/issues/?q=is%3Aissue+is%3Aopen+label%3A%22concrete-syntax%22" aria-label="GitHub label: concrete-syntax">concrete-syntax</a><a class="respec-gh-label" style="background-color: rgb(170, 170, 170); color: rgb(0, 0, 0);" href="https://github.com/w3c/rdf-star/issues/?q=is%3Aissue+is%3Aopen+label%3A%22later%22" aria-label="GitHub label: later">later</a></span></div><p class="">Although the examples in this document, and the tests in <a href="../tests/">the test suite</a>, adopt the optimistic approach, it should be noted that no clear consensus emerged from the group on which approach is the best.</p></div>

  </section>

  <section class="appendix informative" id="historical-remarks">
    <h2 id="b-historical-remarks"><bdi class="secno">B. </bdi>Historical remarks<a class="self-link" href="#historical-remarks" aria-label="Permalink for Appendix B."></a></h2><p><em>This section is non-normative.</em></p>

    <section id="sa-mode-and-pg-mode">
      <h3 id="b-1-sa-mode-and-pg-mode"><bdi class="secno">B.1 </bdi>SA-mode and PG-mode<a class="self-link" href="#sa-mode-and-pg-mode" aria-label="Permalink for Appendix B.1"></a></h3>

      <p>A lot of discussions on the <a href="https://lists.w3.org/Archives/Public/public-rdf-star/">RDF-star mailing list</a> and <a href="https://github.com/w3c/rdf-star">GitHub repository</a> refer to SA-mode and PG-mode. Those abbreviations stand for "Separate Assertion mode" and "Property Graph mode". They originate in the fact that different versions of RDF-star have been published over the years, with different designs. In PG-mode, any <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-69">quoted triple</a> was also considered <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-26">asserted</a>. SA-mode, on the other hand, allowed the use of <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-70">quoted triples</a> without those triples being automatically <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-27">asserted</a>, requiring that they be <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-28">asserted</a> separately when that was intended. SA-mode was more flexible, but induced redundancy in the use-cases that PG-mode was designed to address.</p>

      <p>The notion of <a href="#grammar-production-annotation">annotations</a> in the <a href="#turtle-star">Turtle-star</a> syntax was introduced to remove the need for different modes. Rather than interpret the same syntax differently in each mode, which would have caused interoperability problems and required a switch for those modes, it was decided to provide a different syntax for each use case.</p>

      <ul>
        <li>The <code>&lt;&lt; ... &gt;&gt;</code> syntax represents a triple that is <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-71">quoted</a> without being <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-29">asserted</a>, satisfying the need formerly filled by SA-mode.</li>
        <li>The <code>:a :b :c {| :p :o ... |}</code> annotation syntax creates triples where the subject is a <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-72">quoted</a> version of the triple <a href="#dfn-asserted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-asserted-30">asserted</a> just before the annotation (here, <code>:a :b :c</code>), without the need to repeat it, satisfying the need formerly filled by PG-mode.</li>
      </ul>
    </section>

    <section id="the-seminal-example">
      <h3 id="b-2-the-seminal-example"><bdi class="secno">B.2 </bdi>The seminal example<a class="self-link" href="#the-seminal-example" aria-label="Permalink for Appendix B.2"></a></h3>

      <p>The motivating example in the original RDF-star paper [<cite><a class="bibref" data-link-type="biblio" href="#bib-rdf-star-foundation" title="Foundations of RDF* and SPARQL* - An Alternative Approach to Statement-Level Metadata in RDF.">RDF-STAR-FOUNDATION</a></cite>] was on a provenance use-case, and is repeated below.</p>

      <div class="example" id="example-40">
        <div class="marker">
    <a class="self-link" href="#example-40">Example<bdi> 40</bdi></a>
  </div> <pre data-content-type="text/turtle" class="nohighlight"># the controversial seminal example
:bob foaf:name "Bob".
&lt;&lt;:bob foaf:age 23&gt;&gt; dct:creator &lt;http://example.com/crawlers#c1&gt; ;
                     dct:source &lt;http://example.net/listing.html&gt; .</pre>
      </div>

      <p>This example was further debated on the <a href="https://lists.w3.org/Archives/Public/public-rdf-star/">RDF-star mailing list</a>, as it appears to have set wrong expectations about what <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-73">quoted triples</a> represent. More precisely, from this example, one may wrongly assume that <code>&lt;&lt;:bob foaf:age 23&gt;&gt;</code> represents the <em>occurrence</em> of the given triple at the address <code>http://example.net/listing.html</code> (see <a href="#occurrences" class="sec-ref">§&nbsp;<bdi class="secno">2.3 </bdi>Triples and occurrences</a>). This impression may be reinforced by the use of <code>dct:creator</code>: arguably, a triple (as a unique abstract entity) is not "created" by anyone, while an occurrence thereof can be said to be created or authored.</p>

      <p>The problem with this interpretation is that it will break as soon as other creators and sources are added for the triple: one could not tell which source corresponds to which creator. Correctly capturing this information would require additional nodes to explicitly represent triple occurrences, as in <a href="#occurrences-example" class="box-ref">Example<bdi> 8</bdi></a>. In summary, although RDF-star can be used for provenance, the seminal example does not work as stated and can lead to the fundamentally incorrect interpretation that RDF-star can represent multiple distinct <a href="#dfn-quoted" class="internalDFN" data-link-type="dfn" id="ref-for-dfn-quoted-74">quoted triples</a> with the same subject, predicate, and object.</p>

    </section>

  </section>

  <section class="appendix" id="complete-ebnf-grammars">
    <h2 id="c-complete-ebnf-grammars"><bdi class="secno">C. </bdi>Complete <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammars<a class="self-link" href="#complete-ebnf-grammars" aria-label="Permalink for Appendix C."></a></h2>

  <section class="appendix informative" id="turtle-star-ebnf">
    <h3 id="c-1-turtle-star-ebnf-grammar"><bdi class="secno">C.1 </bdi>Turtle-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar<a class="self-link" href="#turtle-star-ebnf" aria-label="Permalink for Appendix C.1"></a></h3><p><em>This section is non-normative.</em></p>
    <p>The following is a complete grammar for Turtle-Star.
      The <abbr title="Extended Backus-Naur Form">EBNF</abbr> used here is defined in XML 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ebnf-notation" title="EBNF NOTATION">EBNF-NOTATION</a></cite>].</p>

    <div>
<table class="grammar">
  <tbody id="tu-grammar-productions" class="ebnf">
    <tr id="tu-grammar-production-turtleDoc">
      <td>[1]</td>
      <td><code>turtleDoc</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-statement">statement</a><code>*</code> </td>
    </tr>
    <tr id="tu-grammar-production-statement">
      <td>[2]</td>
      <td><code>statement</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-directive">directive</a> <code>|</code> <code>(</code> <a href="#tu-grammar-production-triples">triples</a> "<code class="grammar-literal">.</code>"<code>)</code> </td>
    </tr>
    <tr id="tu-grammar-production-directive">
      <td>[3]</td>
      <td><code>directive</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-prefixID">prefixID</a> <code>|</code> <a href="#tu-grammar-production-base">base</a> <code>|</code> <a href="#tu-grammar-production-sparqlPrefix">sparqlPrefix</a> <code>|</code> <a href="#tu-grammar-production-sparqlBase">sparqlBase</a></td>
    </tr>
    <tr id="tu-grammar-production-prefixID">
      <td>[4]</td>
      <td><code>prefixID</code></td>
      <td>::=</td>
      <td>"@prefix" <a href="#tu-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#tu-grammar-production-IRIREF">IRIREF</a> "<code class="grammar-literal">.</code>"<code>?</code> </td>
    </tr>
    <tr id="tu-grammar-production-base">
      <td>[5]</td>
      <td><code>base</code></td>
      <td>::=</td>
      <td>"@base" <a href="#tu-grammar-production-IRIREF">IRIREF</a> "<code class="grammar-literal">.</code>"<code>?</code> </td>
    </tr>
    <tr id="tu-grammar-production-sparqlPrefix">
      <td>[5s]</td>
      <td><code>sparqlPrefix</code></td>
      <td>::=</td>
      <td>"PREFIX" <a href="#tu-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#tu-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="tu-grammar-production-sparqlBase">
      <td>[6s]</td>
      <td><code>sparqlBase</code></td>
      <td>::=</td>
      <td>"BASE" <a href="#tu-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="tu-grammar-production-triples">
      <td>[6]</td>
      <td><code>triples</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tu-grammar-production-subject">subject</a> <a href="#tu-grammar-production-predicateObjectList">predicateObjectList</a><code>)</code>  <code>|</code> <code>(</code> <a href="#tu-grammar-production-blankNodePropertyList">blankNodePropertyList</a> <a href="#tu-grammar-production-predicateObjectList">predicateObjectList</a><code>?</code> <code>)</code> </td>
    </tr>
    <tr id="tu-grammar-production-predicateObjectList">
      <td>[7]</td>
      <td><code>predicateObjectList</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-verb">verb</a> <a href="#tu-grammar-production-objectList">objectList</a> <code>(</code> "<code class="grammar-literal">;</code>" <code>(</code> <a href="#tu-grammar-production-verb">verb</a> <a href="#tu-grammar-production-objectList">objectList</a><code>)</code> <code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tu-grammar-production-objectList">
      <td>[8]</td>
      <td><code>objectList</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-object">object</a> <a href="#tu-grammar-production-annotation">annotation</a><code>?</code>  <code>(</code> "<code class="grammar-literal">,</code>" <a href="#tu-grammar-production-object">object</a> <a href="#tu-grammar-production-annotation">annotation</a><code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tu-grammar-production-verb">
      <td>[9]</td>
      <td><code>verb</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-predicate">predicate</a> <code>|</code> "<code class="grammar-literal">a</code>"</td>
    </tr>
    <tr id="tu-grammar-production-subject">
      <td>[10]</td>
      <td><code>subject</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-iri">iri</a> <code>|</code> <a href="#tu-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tu-grammar-production-collection">collection</a> <code>|</code> <a href="#tu-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tu-grammar-production-predicate">
      <td>[11]</td>
      <td><code>predicate</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-iri">iri</a></td>
    </tr>
    <tr id="tu-grammar-production-object">
      <td>[12]</td>
      <td><code>object</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-iri">iri</a> <code>|</code> <a href="#tu-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tu-grammar-production-collection">collection</a> <code>|</code> <a href="#tu-grammar-production-blankNodePropertyList">blankNodePropertyList</a> <code>|</code> <a href="#tu-grammar-production-literal">literal</a> <code>|</code> <a href="#tu-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tu-grammar-production-literal">
      <td>[13]</td>
      <td><code>literal</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#tu-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#tu-grammar-production-BooleanLiteral">BooleanLiteral</a></td>
    </tr>
    <tr id="tu-grammar-production-blankNodePropertyList">
      <td>[14]</td>
      <td><code>blankNodePropertyList</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#tu-grammar-production-predicateObjectList">predicateObjectList</a> "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="tu-grammar-production-collection">
      <td>[15]</td>
      <td><code>collection</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#tu-grammar-production-object">object</a><code>*</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="tu-grammar-production-NumericLiteral">
      <td>[16]</td>
      <td><code>NumericLiteral</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-INTEGER">INTEGER</a> <code>|</code> <a href="#tu-grammar-production-DECIMAL">DECIMAL</a> <code>|</code> <a href="#tu-grammar-production-DOUBLE">DOUBLE</a></td>
    </tr>
    <tr id="tu-grammar-production-RDFLiteral">
      <td>[128s]</td>
      <td><code>RDFLiteral</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-String">String</a> <code>(</code> <a href="#tu-grammar-production-LANGTAG">LANGTAG</a> <code>|</code> <code>(</code> "^^" <a href="#tu-grammar-production-iri">iri</a><code>)</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tu-grammar-production-BooleanLiteral">
      <td>[133s]</td>
      <td><code>BooleanLiteral</code></td>
      <td>::=</td>
      <td>"true" <code>|</code> "false"</td>
    </tr>
    <tr id="tu-grammar-production-String">
      <td>[17]</td>
      <td><code>String</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-STRING_LITERAL_QUOTE">STRING_LITERAL_QUOTE</a> <code>|</code> <a href="#tu-grammar-production-STRING_LITERAL_SINGLE_QUOTE">STRING_LITERAL_SINGLE_QUOTE</a> <code>|</code> <a href="#tu-grammar-production-STRING_LITERAL_LONG_SINGLE_QUOTE">STRING_LITERAL_LONG_SINGLE_QUOTE</a> <code>|</code> <a href="#tu-grammar-production-STRING_LITERAL_LONG_QUOTE">STRING_LITERAL_LONG_QUOTE</a></td>
    </tr>
    <tr id="tu-grammar-production-iri">
      <td>[135s]</td>
      <td><code>iri</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#tu-grammar-production-PrefixedName">PrefixedName</a></td>
    </tr>
    <tr id="tu-grammar-production-PrefixedName">
      <td>[136s]</td>
      <td><code>PrefixedName</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PNAME_LN">PNAME_LN</a> <code>|</code> <a href="#tu-grammar-production-PNAME_NS">PNAME_NS</a></td>
    </tr>
    <tr id="tu-grammar-production-BlankNode">
      <td>[137s]</td>
      <td><code>BlankNode</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#tu-grammar-production-ANON">ANON</a></td>
    </tr>
    <tr id="tu-grammar-production-quotedTriple">
      <td>[27]</td>
      <td><code>quotedTriple</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#tu-grammar-production-qtSubject">qtSubject</a> <a href="#tu-grammar-production-predicate">predicate</a> <a href="#tu-grammar-production-qtObject">qtObject</a> "&gt;&gt;"</td>
    </tr>
    <tr id="tu-grammar-production-qtSubject">
      <td>[28]</td>
      <td><code>qtSubject</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-iri">iri</a> <code>|</code> <a href="#tu-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tu-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tu-grammar-production-qtObject">
      <td>[29]</td>
      <td><code>qtObject</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-iri">iri</a> <code>|</code> <a href="#tu-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tu-grammar-production-literal">literal</a> <code>|</code> <a href="#tu-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tu-grammar-production-annotation">
      <td>[30]</td>
      <td><code>annotation</code></td>
      <td>::=</td>
      <td>"{|" <a href="#tu-grammar-production-predicateObjectList">predicateObjectList</a> "|}"</td>
    </tr>
    <tr>
      <td colspan="2">@terminals</td>
      <td></td>
      <td><strong># Productions for terminals</strong></td>
    </tr>
    <tr id="tu-grammar-production-IRIREF">
      <td>[18]</td>
      <td><code>IRIREF</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">&lt;</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="null">#x00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code><code class="grammar-literal">&lt;&gt;"{}|^`\</code><code>]</code>  <code>|</code> <a href="#tu-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">&gt;</code>"</td>
    </tr>
    <tr id="tu-grammar-production-PNAME_NS">
      <td>[139s]</td>
      <td><code>PNAME_NS</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PN_PREFIX">PN_PREFIX</a><code>?</code>  "<code class="grammar-literal">:</code>"</td>
    </tr>
    <tr id="tu-grammar-production-PNAME_LN">
      <td>[140s]</td>
      <td><code>PNAME_LN</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#tu-grammar-production-PN_LOCAL">PN_LOCAL</a></td>
    </tr>
    <tr id="tu-grammar-production-BLANK_NODE_LABEL">
      <td>[141s]</td>
      <td><code>BLANK_NODE_LABEL</code></td>
      <td>::=</td>
      <td>"_:" <code>(</code> <a href="#tu-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <code>(</code> <a href="#tu-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#tu-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tu-grammar-production-LANGTAG">
      <td>[144s]</td>
      <td><code>LANGTAG</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">@</code>" <code>[</code> <code class="grammar-literal">a-zA-Z</code><code>]</code> <code>+</code>  <code>(</code> "<code class="grammar-literal">-</code>" <code>[</code> <code class="grammar-literal">a-zA-Z0-9</code><code>]</code> <code>+</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tu-grammar-production-INTEGER">
      <td>[19]</td>
      <td><code>INTEGER</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="tu-grammar-production-DECIMAL">
      <td>[20]</td>
      <td><code>DECIMAL</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>*</code>  "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> <code>)</code> </td>
    </tr>
    <tr id="tu-grammar-production-DOUBLE">
      <td>[21]</td>
      <td><code>DOUBLE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>(</code> <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>*</code>  <a href="#tu-grammar-production-EXPONENT">EXPONENT</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  <a href="#tu-grammar-production-EXPONENT">EXPONENT</a><code>)</code>  <code>|</code> <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  <a href="#tu-grammar-production-EXPONENT">EXPONENT</a><code>)</code> <code>)</code> </td>
    </tr>
    <tr id="tu-grammar-production-EXPONENT">
      <td>[154s]</td>
      <td><code>EXPONENT</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">eE</code><code>]</code>  <code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="tu-grammar-production-STRING_LITERAL_QUOTE">
      <td>[22]</td>
      <td><code>STRING_LITERAL_QUOTE</code></td>
      <td>::=</td>
      <td>'<code class="grammar-literal">"</code>' <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="quot">&gt;"</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#tu-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tu-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  '<code class="grammar-literal">"</code>'</td>
    </tr>
    <tr id="tu-grammar-production-STRING_LITERAL_SINGLE_QUOTE">
      <td>[23]</td>
      <td><code>STRING_LITERAL_SINGLE_QUOTE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">'</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="ascii '''">#x27</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#tu-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tu-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">'</code>"</td>
    </tr>
    <tr id="tu-grammar-production-STRING_LITERAL_LONG_SINGLE_QUOTE">
      <td>[24]</td>
      <td><code>STRING_LITERAL_LONG_SINGLE_QUOTE</code></td>
      <td>::=</td>
      <td>"'''" <code>(</code> <code>(</code> "<code class="grammar-literal">'</code>" <code>|</code> "''"<code>)</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">^'\</code><code>]</code>  <code>|</code> <a href="#tu-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tu-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>)</code> <code>*</code>  "'''"</td>
    </tr>
    <tr id="tu-grammar-production-STRING_LITERAL_LONG_QUOTE">
      <td>[25]</td>
      <td><code>STRING_LITERAL_LONG_QUOTE</code></td>
      <td>::=</td>
      <td>'"""' <code>(</code> <code>(</code> '<code class="grammar-literal">"</code>' <code>|</code> '""'<code>)</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">^"\</code><code>]</code>  <code>|</code> <a href="#tu-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tu-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>)</code> <code>*</code>  '"""'</td>
    </tr>
    <tr id="tu-grammar-production-UCHAR">
      <td>[26]</td>
      <td><code>UCHAR</code></td>
      <td>::=</td>
      <td><code>(</code> "\u" <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a><code>)</code>  <code>|</code> <code>(</code> "\U" <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a><code>)</code> </td>
    </tr>
    <tr id="tu-grammar-production-ECHAR">
      <td>[159s]</td>
      <td><code>ECHAR</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>[</code> <code class="grammar-literal">tbnrf\"'</code><code>]</code> </td>
    </tr>
    <tr id="tu-grammar-production-WS">
      <td>[161s]</td>
      <td><code>WS</code></td>
      <td>::=</td>
      <td><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="horizontal tab">#x09</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code></td>
    </tr>
    <tr id="tu-grammar-production-ANON">
      <td>[162s]</td>
      <td><code>ANON</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#tu-grammar-production-WS">WS</a><code>*</code>  "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="tu-grammar-production-PN_CHARS_BASE">
      <td>[163s]</td>
      <td><code>PN_CHARS_BASE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">A-Z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-literal">a-z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xC0'">#xC0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xD6'">#xD6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xD8'">#xD8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xF6'">#xF6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xF8'">#xF8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x02FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0370</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x1FFF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200C</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2070</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x218F</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2C00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x2FEF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x3001</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#xD7FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xF900</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDCF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDF0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFFFD</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x00010000</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Noncharacter'">#x000EFFFF</abbr></code><code>]</code> </td>
    </tr>
    <tr id="tu-grammar-production-PN_CHARS_U">
      <td>[164s]</td>
      <td><code>PN_CHARS_U</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>|</code> "<code class="grammar-literal">_</code>"</td>
    </tr>
    <tr id="tu-grammar-production-PN_CHARS">
      <td>[166s]</td>
      <td><code>PN_CHARS</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xB7'">#xB7</abbr></code> <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0300</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x036F</abbr></code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x203F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2040</abbr></code><code>]</code> </td>
    </tr>
    <tr id="tu-grammar-production-PN_PREFIX">
      <td>[167s]</td>
      <td><code>PN_PREFIX</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>(</code> <code>(</code> <a href="#tu-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#tu-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tu-grammar-production-PN_LOCAL">
      <td>[168s]</td>
      <td><code>PN_LOCAL</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tu-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">:</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <a href="#tu-grammar-production-PLX">PLX</a><code>)</code>  <code>(</code> <code>(</code> <a href="#tu-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>" <code>|</code> "<code class="grammar-literal">:</code>" <code>|</code> <a href="#tu-grammar-production-PLX">PLX</a><code>)</code> <code>*</code>  <code>(</code> <a href="#tu-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">:</code>" <code>|</code> <a href="#tu-grammar-production-PLX">PLX</a><code>)</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tu-grammar-production-PLX">
      <td>[169s]</td>
      <td><code>PLX</code></td>
      <td>::=</td>
      <td><a href="#tu-grammar-production-PERCENT">PERCENT</a> <code>|</code> <a href="#tu-grammar-production-PN_LOCAL_ESC">PN_LOCAL_ESC</a></td>
    </tr>
    <tr id="tu-grammar-production-PERCENT">
      <td>[170s]</td>
      <td><code>PERCENT</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">%</code>" <a href="#tu-grammar-production-HEX">HEX</a> <a href="#tu-grammar-production-HEX">HEX</a></td>
    </tr>
    <tr id="tu-grammar-production-HEX">
      <td>[171s]</td>
      <td><code>HEX</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">A-F</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">a-f</code><code>]</code> </td>
    </tr>
    <tr id="tu-grammar-production-PN_LOCAL_ESC">
      <td>[172s]</td>
      <td><code>PN_LOCAL_ESC</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>(</code> "<code class="grammar-literal">_</code>" <code>|</code> "<code class="grammar-literal">~</code>" <code>|</code> "<code class="grammar-literal">.</code>" <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> "<code class="grammar-literal">!</code>" <code>|</code> "<code class="grammar-literal">$</code>" <code>|</code> "<code class="grammar-literal">&amp;</code>" <code>|</code> "<code class="grammar-literal">'</code>" <code>|</code> "<code class="grammar-literal">(</code>" <code>|</code> "<code class="grammar-literal">)</code>" <code>|</code> "<code class="grammar-literal">*</code>" <code>|</code> "<code class="grammar-literal">+</code>" <code>|</code> "<code class="grammar-literal">,</code>" <code>|</code> "<code class="grammar-literal">;</code>" <code>|</code> "<code class="grammar-literal">=</code>" <code>|</code> "<code class="grammar-literal">/</code>" <code>|</code> "<code class="grammar-literal">?</code>" <code>|</code> "<code class="grammar-literal">#</code>" <code>|</code> "<code class="grammar-literal">@</code>" <code>|</code> "<code class="grammar-literal">%</code>"<code>)</code> </td>
    </tr>
  </tbody>
</table>
    
</div>
  </section>

  <section class="appendix informative" id="trig-star-ebnf">
    <h3 id="c-2-trig-star-ebnf-grammar"><bdi class="secno">C.2 </bdi>TriG-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar<a class="self-link" href="#trig-star-ebnf" aria-label="Permalink for Appendix C.2"></a></h3><p><em>This section is non-normative.</em></p>
    <p>The following is a complete grammar for TriG-Star.
      The <abbr title="Extended Backus-Naur Form">EBNF</abbr> used here is defined in XML 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ebnf-notation" title="EBNF NOTATION">EBNF-NOTATION</a></cite>].</p>

    <div>
<table class="grammar">
  <tbody id="tg-grammar-productions" class="ebnf">
    <tr id="tg-grammar-production-trigDoc">
      <td>[1g]</td>
      <td><code>trigDoc</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tg-grammar-production-directive">directive</a> <code>|</code> <a href="#tg-grammar-production-block">block</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tg-grammar-production-block">
      <td>[2g]</td>
      <td><code>block</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-triplesOrGraph">triplesOrGraph</a> <code>|</code> <a href="#tg-grammar-production-wrappedGraph">wrappedGraph</a> <code>|</code> <a href="#tg-grammar-production-triples2">triples2</a> <code>|</code> <code>(</code> "GRAPH" <a href="#tg-grammar-production-labelOrSubject">labelOrSubject</a> <a href="#tg-grammar-production-wrappedGraph">wrappedGraph</a><code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-triplesOrGraph">
      <td>[3g]</td>
      <td><code>triplesOrGraph</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tg-grammar-production-labelOrSubject">labelOrSubject</a> <code>(</code> <a href="#tg-grammar-production-wrappedGraph">wrappedGraph</a> <code>|</code> <code>(</code> <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a> "<code class="grammar-literal">.</code>"<code>)</code> <code>)</code> <code>)</code>  <code>|</code> <code>(</code> <a href="#tg-grammar-production-quotedTriple">quotedTriple</a> <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a> "<code class="grammar-literal">.</code>"<code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-triples2">
      <td>[4g]</td>
      <td><code>triples2</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tg-grammar-production-blankNodePropertyList">blankNodePropertyList</a> <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a><code>?</code>  "<code class="grammar-literal">.</code>"<code>)</code>  <code>|</code> <code>(</code> <a href="#tg-grammar-production-collection">collection</a> <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a> "<code class="grammar-literal">.</code>"<code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-wrappedGraph">
      <td>[5g]</td>
      <td><code>wrappedGraph</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">{</code>" <a href="#tg-grammar-production-triplesBlock">triplesBlock</a><code>?</code>  "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="tg-grammar-production-triplesBlock">
      <td>[6g]</td>
      <td><code>triplesBlock</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-triples">triples</a> <code>(</code> "<code class="grammar-literal">.</code>" <a href="#tg-grammar-production-triplesBlock">triplesBlock</a><code>?</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-labelOrSubject">
      <td>[7g]</td>
      <td><code>labelOrSubject</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-iri">iri</a> <code>|</code> <a href="#tg-grammar-production-BlankNode">BlankNode</a></td>
    </tr>
    <tr id="tg-grammar-production-directive">
      <td>[3]</td>
      <td><code>directive</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-prefixID">prefixID</a> <code>|</code> <a href="#tg-grammar-production-base">base</a> <code>|</code> <a href="#tg-grammar-production-sparqlPrefix">sparqlPrefix</a> <code>|</code> <a href="#tg-grammar-production-sparqlBase">sparqlBase</a></td>
    </tr>
    <tr id="tg-grammar-production-prefixID">
      <td>[4]</td>
      <td><code>prefixID</code></td>
      <td>::=</td>
      <td>"@prefix" <a href="#tg-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#tg-grammar-production-IRIREF">IRIREF</a> "<code class="grammar-literal">.</code>"<code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-base">
      <td>[5]</td>
      <td><code>base</code></td>
      <td>::=</td>
      <td>"@base" <a href="#tg-grammar-production-IRIREF">IRIREF</a> "<code class="grammar-literal">.</code>"<code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-sparqlPrefix">
      <td>[5s]</td>
      <td><code>sparqlPrefix</code></td>
      <td>::=</td>
      <td>"PREFIX" <a href="#tg-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#tg-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="tg-grammar-production-sparqlBase">
      <td>[6s]</td>
      <td><code>sparqlBase</code></td>
      <td>::=</td>
      <td>"BASE" <a href="#tg-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="tg-grammar-production-triples">
      <td>[6]</td>
      <td><code>triples</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tg-grammar-production-subject">subject</a> <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a><code>)</code>  <code>|</code> <code>(</code> <a href="#tg-grammar-production-blankNodePropertyList">blankNodePropertyList</a> <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a><code>?</code> <code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-predicateObjectList">
      <td>[7]</td>
      <td><code>predicateObjectList</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-verb">verb</a> <a href="#tg-grammar-production-objectList">objectList</a> <code>(</code> "<code class="grammar-literal">;</code>" <code>(</code> <a href="#tg-grammar-production-verb">verb</a> <a href="#tg-grammar-production-objectList">objectList</a><code>)</code> <code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tg-grammar-production-objectList">
      <td>[8]</td>
      <td><code>objectList</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-object">object</a> <a href="#tg-grammar-production-annotation">annotation</a><code>?</code>  <code>(</code> "<code class="grammar-literal">,</code>" <a href="#tg-grammar-production-object">object</a> <a href="#tg-grammar-production-annotation">annotation</a><code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tg-grammar-production-verb">
      <td>[9]</td>
      <td><code>verb</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-predicate">predicate</a> <code>|</code> "<code class="grammar-literal">a</code>"</td>
    </tr>
    <tr id="tg-grammar-production-subject">
      <td>[10]</td>
      <td><code>subject</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-iri">iri</a> <code>|</code> <a href="#tg-grammar-production-blank">blank</a> <code>|</code> <a href="#tg-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tg-grammar-production-predicate">
      <td>[11]</td>
      <td><code>predicate</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-iri">iri</a></td>
    </tr>
    <tr id="tg-grammar-production-object">
      <td>[12]</td>
      <td><code>object</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-iri">iri</a> <code>|</code> <a href="#tg-grammar-production-blank">blank</a> <code>|</code> <a href="#tg-grammar-production-blankNodePropertyList">blankNodePropertyList</a> <code>|</code> <a href="#tg-grammar-production-literal">literal</a> <code>|</code> <a href="#tg-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tg-grammar-production-literal">
      <td>[13]</td>
      <td><code>literal</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#tg-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#tg-grammar-production-BooleanLiteral">BooleanLiteral</a></td>
    </tr>
    <tr id="tg-grammar-production-blank">
      <td>[14]</td>
      <td><code>blank</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tg-grammar-production-collection">collection</a></td>
    </tr>
    <tr id="tg-grammar-production-blankNodePropertyList">
      <td>[15]</td>
      <td><code>blankNodePropertyList</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a> "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="tg-grammar-production-collection">
      <td>[16]</td>
      <td><code>collection</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#tg-grammar-production-object">object</a><code>*</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="tg-grammar-production-NumericLiteral">
      <td>[17]</td>
      <td><code>NumericLiteral</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-INTEGER">INTEGER</a> <code>|</code> <a href="#tg-grammar-production-DECIMAL">DECIMAL</a> <code>|</code> <a href="#tg-grammar-production-DOUBLE">DOUBLE</a></td>
    </tr>
    <tr id="tg-grammar-production-RDFLiteral">
      <td>[128s]</td>
      <td><code>RDFLiteral</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-String">String</a> <code>(</code> <a href="#tg-grammar-production-LANGTAG">LANGTAG</a> <code>|</code> <code>(</code> "^^" <a href="#tg-grammar-production-iri">iri</a><code>)</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-BooleanLiteral">
      <td>[133s]</td>
      <td><code>BooleanLiteral</code></td>
      <td>::=</td>
      <td>"true" <code>|</code> "false"</td>
    </tr>
    <tr id="tg-grammar-production-String">
      <td>[18]</td>
      <td><code>String</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-STRING_LITERAL_QUOTE">STRING_LITERAL_QUOTE</a> <code>|</code> <a href="#tg-grammar-production-STRING_LITERAL_SINGLE_QUOTE">STRING_LITERAL_SINGLE_QUOTE</a> <code>|</code> <a href="#tg-grammar-production-STRING_LITERAL_LONG_SINGLE_QUOTE">STRING_LITERAL_LONG_SINGLE_QUOTE</a> <code>|</code> <a href="#tg-grammar-production-STRING_LITERAL_LONG_QUOTE">STRING_LITERAL_LONG_QUOTE</a></td>
    </tr>
    <tr id="tg-grammar-production-iri">
      <td>[135s]</td>
      <td><code>iri</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#tg-grammar-production-PrefixedName">PrefixedName</a></td>
    </tr>
    <tr id="tg-grammar-production-PrefixedName">
      <td>[136s]</td>
      <td><code>PrefixedName</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PNAME_LN">PNAME_LN</a> <code>|</code> <a href="#tg-grammar-production-PNAME_NS">PNAME_NS</a></td>
    </tr>
    <tr id="tg-grammar-production-BlankNode">
      <td>[137s]</td>
      <td><code>BlankNode</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#tg-grammar-production-ANON">ANON</a></td>
    </tr>
    <tr id="tg-grammar-production-quotedTriple">
      <td>[27]</td>
      <td><code>quotedTriple</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#tg-grammar-production-qtSubject">qtSubject</a> <a href="#tg-grammar-production-predicate">predicate</a> <a href="#tg-grammar-production-qtObject">qtObject</a> "&gt;&gt;"</td>
    </tr>
    <tr id="tg-grammar-production-qtSubject">
      <td>[28]</td>
      <td><code>qtSubject</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-iri">iri</a> <code>|</code> <a href="#tg-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tg-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tg-grammar-production-qtObject">
      <td>[29]</td>
      <td><code>qtObject</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-iri">iri</a> <code>|</code> <a href="#tg-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#tg-grammar-production-literal">literal</a> <code>|</code> <a href="#tg-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="tg-grammar-production-annotation">
      <td>[30]</td>
      <td><code>annotation</code></td>
      <td>::=</td>
      <td>"{|" <a href="#tg-grammar-production-predicateObjectList">predicateObjectList</a> "|}"</td>
    </tr>
    <tr>
      <td colspan="2">@terminals</td>
      <td></td>
      <td><strong># Productions for terminals</strong></td>
    </tr>
    <tr id="tg-grammar-production-IRIREF">
      <td>[19]</td>
      <td><code>IRIREF</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">&lt;</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="null">#x00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code><code class="grammar-literal">&lt;&gt;"{}|^`\</code><code>]</code>  <code>|</code> <a href="#tg-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">&gt;</code>"</td>
    </tr>
    <tr id="tg-grammar-production-PNAME_NS">
      <td>[139s]</td>
      <td><code>PNAME_NS</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PN_PREFIX">PN_PREFIX</a><code>?</code>  "<code class="grammar-literal">:</code>"</td>
    </tr>
    <tr id="tg-grammar-production-PNAME_LN">
      <td>[140s]</td>
      <td><code>PNAME_LN</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#tg-grammar-production-PN_LOCAL">PN_LOCAL</a></td>
    </tr>
    <tr id="tg-grammar-production-BLANK_NODE_LABEL">
      <td>[141s]</td>
      <td><code>BLANK_NODE_LABEL</code></td>
      <td>::=</td>
      <td>"_:" <code>(</code> <a href="#tg-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <code>(</code> <a href="#tg-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#tg-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-LANGTAG">
      <td>[144s]</td>
      <td><code>LANGTAG</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">@</code>" <code>[</code> <code class="grammar-literal">a-zA-Z</code><code>]</code> <code>+</code>  <code>(</code> "<code class="grammar-literal">-</code>" <code>[</code> <code class="grammar-literal">a-zA-Z0-9</code><code>]</code> <code>+</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="tg-grammar-production-INTEGER">
      <td>[20]</td>
      <td><code>INTEGER</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="tg-grammar-production-DECIMAL">
      <td>[21]</td>
      <td><code>DECIMAL</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>*</code>  "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> <code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-DOUBLE">
      <td>[22]</td>
      <td><code>DOUBLE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>(</code> <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>*</code>  <a href="#tg-grammar-production-EXPONENT">EXPONENT</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  <a href="#tg-grammar-production-EXPONENT">EXPONENT</a><code>)</code>  <code>|</code> <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  <a href="#tg-grammar-production-EXPONENT">EXPONENT</a><code>)</code> <code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-EXPONENT">
      <td>[154s]</td>
      <td><code>EXPONENT</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">eE</code><code>]</code>  <code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="tg-grammar-production-STRING_LITERAL_QUOTE">
      <td>[23]</td>
      <td><code>STRING_LITERAL_QUOTE</code></td>
      <td>::=</td>
      <td>'<code class="grammar-literal">"</code>' <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="quot">&gt;"</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#tg-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tg-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  '<code class="grammar-literal">"</code>'</td>
    </tr>
    <tr id="tg-grammar-production-STRING_LITERAL_SINGLE_QUOTE">
      <td>[24]</td>
      <td><code>STRING_LITERAL_SINGLE_QUOTE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">'</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="ascii '''">#x27</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#tg-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tg-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">'</code>"</td>
    </tr>
    <tr id="tg-grammar-production-STRING_LITERAL_LONG_SINGLE_QUOTE">
      <td>[25]</td>
      <td><code>STRING_LITERAL_LONG_SINGLE_QUOTE</code></td>
      <td>::=</td>
      <td>"'''" <code>(</code> <code>(</code> "<code class="grammar-literal">'</code>" <code>|</code> "''"<code>)</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">^'\</code><code>]</code>  <code>|</code> <a href="#tg-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tg-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>)</code> <code>*</code>  "'''"</td>
    </tr>
    <tr id="tg-grammar-production-STRING_LITERAL_LONG_QUOTE">
      <td>[26]</td>
      <td><code>STRING_LITERAL_LONG_QUOTE</code></td>
      <td>::=</td>
      <td>'"""' <code>(</code> <code>(</code> '<code class="grammar-literal">"</code>' <code>|</code> '""'<code>)</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">^"\</code><code>]</code>  <code>|</code> <a href="#tg-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#tg-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>)</code> <code>*</code>  '"""'</td>
    </tr>
    <tr id="tg-grammar-production-UCHAR">
      <td>[27]</td>
      <td><code>UCHAR</code></td>
      <td>::=</td>
      <td><code>(</code> "\u" <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a><code>)</code>  <code>|</code> <code>(</code> "\U" <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a><code>)</code> </td>
    </tr>
    <tr id="tg-grammar-production-ECHAR">
      <td>[159s]</td>
      <td><code>ECHAR</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>[</code> <code class="grammar-literal">tbnrf\"'</code><code>]</code> </td>
    </tr>
    <tr id="tg-grammar-production-NIL">
      <td>[160s]</td>
      <td><code>NIL</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#tg-grammar-production-WS">WS</a><code>*</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="tg-grammar-production-WS">
      <td>[161s]</td>
      <td><code>WS</code></td>
      <td>::=</td>
      <td><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="horizontal tab">#x09</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code></td>
    </tr>
    <tr id="tg-grammar-production-ANON">
      <td>[162s]</td>
      <td><code>ANON</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#tg-grammar-production-WS">WS</a><code>*</code>  "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="tg-grammar-production-PN_CHARS_BASE">
      <td>[163s]</td>
      <td><code>PN_CHARS_BASE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">A-Z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-literal">a-z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xC0'">#xC0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xD6'">#xD6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xD8'">#xD8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xF6'">#xF6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xF8'">#xF8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x02FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0370</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x1FFF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200C</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2070</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x218F</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2C00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x2FEF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x3001</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#xD7FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xF900</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDCF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDF0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFFFD</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x00010000</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Noncharacter'">#x000EFFFF</abbr></code><code>]</code> </td>
    </tr>
    <tr id="tg-grammar-production-PN_CHARS_U">
      <td>[164s]</td>
      <td><code>PN_CHARS_U</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>|</code> "<code class="grammar-literal">_</code>"</td>
    </tr>
    <tr id="tg-grammar-production-PN_CHARS">
      <td>[166s]</td>
      <td><code>PN_CHARS</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xB7'">#xB7</abbr></code> <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0300</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x036F</abbr></code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x203F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2040</abbr></code><code>]</code> </td>
    </tr>
    <tr id="tg-grammar-production-PN_PREFIX">
      <td>[167s]</td>
      <td><code>PN_PREFIX</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>(</code> <code>(</code> <a href="#tg-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#tg-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-PN_LOCAL">
      <td>[168s]</td>
      <td><code>PN_LOCAL</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#tg-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">:</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <a href="#tg-grammar-production-PLX">PLX</a><code>)</code>  <code>(</code> <code>(</code> <a href="#tg-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>" <code>|</code> "<code class="grammar-literal">:</code>" <code>|</code> <a href="#tg-grammar-production-PLX">PLX</a><code>)</code> <code>*</code>  <code>(</code> <a href="#tg-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">:</code>" <code>|</code> <a href="#tg-grammar-production-PLX">PLX</a><code>)</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="tg-grammar-production-PLX">
      <td>[169s]</td>
      <td><code>PLX</code></td>
      <td>::=</td>
      <td><a href="#tg-grammar-production-PERCENT">PERCENT</a> <code>|</code> <a href="#tg-grammar-production-PN_LOCAL_ESC">PN_LOCAL_ESC</a></td>
    </tr>
    <tr id="tg-grammar-production-PERCENT">
      <td>[170s]</td>
      <td><code>PERCENT</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">%</code>" <a href="#tg-grammar-production-HEX">HEX</a> <a href="#tg-grammar-production-HEX">HEX</a></td>
    </tr>
    <tr id="tg-grammar-production-HEX">
      <td>[171s]</td>
      <td><code>HEX</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">A-F</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">a-f</code><code>]</code> </td>
    </tr>
    <tr id="tg-grammar-production-PN_LOCAL_ESC">
      <td>[172s]</td>
      <td><code>PN_LOCAL_ESC</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>(</code> "<code class="grammar-literal">_</code>" <code>|</code> "<code class="grammar-literal">~</code>" <code>|</code> "<code class="grammar-literal">.</code>" <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> "<code class="grammar-literal">!</code>" <code>|</code> "<code class="grammar-literal">$</code>" <code>|</code> "<code class="grammar-literal">&amp;</code>" <code>|</code> "<code class="grammar-literal">'</code>" <code>|</code> "<code class="grammar-literal">(</code>" <code>|</code> "<code class="grammar-literal">)</code>" <code>|</code> "<code class="grammar-literal">*</code>" <code>|</code> "<code class="grammar-literal">+</code>" <code>|</code> "<code class="grammar-literal">,</code>" <code>|</code> "<code class="grammar-literal">;</code>" <code>|</code> "<code class="grammar-literal">=</code>" <code>|</code> "<code class="grammar-literal">/</code>" <code>|</code> "<code class="grammar-literal">?</code>" <code>|</code> "<code class="grammar-literal">#</code>" <code>|</code> "<code class="grammar-literal">@</code>" <code>|</code> "<code class="grammar-literal">%</code>"<code>)</code> </td>
    </tr>
  </tbody>
</table>
    
</div>
  </section>

  <section class="appendix informative" id="n-triples-star-ebnf">
    <h3 id="c-3-n-triples-star-ebnf-grammar"><bdi class="secno">C.3 </bdi>N-Triples-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar<a class="self-link" href="#n-triples-star-ebnf" aria-label="Permalink for Appendix C.3"></a></h3><p><em>This section is non-normative.</em></p>
    <p>The following is a complete grammar for N-Triples-Star.
      The <abbr title="Extended Backus-Naur Form">EBNF</abbr> used here is defined in XML 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ebnf-notation" title="EBNF NOTATION">EBNF-NOTATION</a></cite>].</p>

    <div>
<table class="grammar">
  <tbody id="nt-grammar-productions" class="ebnf">
    <tr id="nt-grammar-production-ntriplesDoc">
      <td>[1]</td>
      <td><code>ntriplesDoc</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-triple">triple</a><code>?</code>  <code>(</code> <a href="#nt-grammar-production-EOL">EOL</a> <a href="#nt-grammar-production-triple">triple</a><code>)</code> <code>*</code>  <a href="#nt-grammar-production-EOL">EOL</a><code>?</code> </td>
    </tr>
    <tr id="nt-grammar-production-triple">
      <td>[2]</td>
      <td><code>triple</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-subject">subject</a> <a href="#nt-grammar-production-predicate">predicate</a> <a href="#nt-grammar-production-object">object</a> "<code class="grammar-literal">.</code>"</td>
    </tr>
    <tr id="nt-grammar-production-subject">
      <td>[3]</td>
      <td><code>subject</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#nt-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#nt-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="nt-grammar-production-predicate">
      <td>[4]</td>
      <td><code>predicate</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="nt-grammar-production-object">
      <td>[5]</td>
      <td><code>object</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#nt-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#nt-grammar-production-literal">literal</a> <code>|</code> <a href="#nt-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="nt-grammar-production-literal">
      <td>[6]</td>
      <td><code>literal</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-STRING_LITERAL_QUOTE">STRING_LITERAL_QUOTE</a> <code>(</code> <code>(</code> "^^" <a href="#nt-grammar-production-IRIREF">IRIREF</a><code>)</code>  <code>|</code> <a href="#nt-grammar-production-LANGTAG">LANGTAG</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="nt-grammar-production-quotedTriple">
      <td>[7t]</td>
      <td><code>quotedTriple</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#nt-grammar-production-subject">subject</a> <a href="#nt-grammar-production-predicate">predicate</a> <a href="#nt-grammar-production-object">object</a> "&gt;&gt;"</td>
    </tr>
    <tr>
      <td colspan="2">@terminals</td>
      <td></td>
      <td><strong># Productions for terminals</strong></td>
    </tr>
    <tr id="nt-grammar-production-LANGTAG">
      <td>[144s]</td>
      <td><code>LANGTAG</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">@</code>" <code>[</code> <code class="grammar-literal">a-zA-Z</code><code>]</code> <code>+</code>  <code>(</code> "<code class="grammar-literal">-</code>" <code>[</code> <code class="grammar-literal">a-zA-Z0-9</code><code>]</code> <code>+</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="nt-grammar-production-EOL">
      <td>[7]</td>
      <td><code>EOL</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="nt-grammar-production-IRIREF">
      <td>[8]</td>
      <td><code>IRIREF</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">&lt;</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="null">#x00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code><code class="grammar-literal">&lt;&gt;"{}|^`\</code><code>]</code>  <code>|</code> <a href="#nt-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">&gt;</code>"</td>
    </tr>
    <tr id="nt-grammar-production-STRING_LITERAL_QUOTE">
      <td>[9]</td>
      <td><code>STRING_LITERAL_QUOTE</code></td>
      <td>::=</td>
      <td>'<code class="grammar-literal">"</code>' <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="quot">&gt;"</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#nt-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#nt-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  '<code class="grammar-literal">"</code>'</td>
    </tr>
    <tr id="nt-grammar-production-BLANK_NODE_LABEL">
      <td>[141s]</td>
      <td><code>BLANK_NODE_LABEL</code></td>
      <td>::=</td>
      <td>"_:" <code>(</code> <a href="#nt-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <code>(</code> <a href="#nt-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#nt-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="nt-grammar-production-UCHAR">
      <td>[10]</td>
      <td><code>UCHAR</code></td>
      <td>::=</td>
      <td><code>(</code> "\u" <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a><code>)</code>  <code>|</code> <code>(</code> "\U" <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a> <a href="#nt-grammar-production-HEX">HEX</a><code>)</code> </td>
    </tr>
    <tr id="nt-grammar-production-ECHAR">
      <td>[153s]</td>
      <td><code>ECHAR</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>[</code> <code class="grammar-literal">tbnrf"'\</code><code>]</code> </td>
    </tr>
    <tr id="nt-grammar-production-PN_CHARS_BASE">
      <td>[157s]</td>
      <td><code>PN_CHARS_BASE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">A-Z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-literal">a-z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xC0'">#xC0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xD6'">#xD6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xD8'">#xD8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xF6'">#xF6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xF8'">#xF8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x02FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0370</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x1FFF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200C</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2070</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x218F</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2C00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x2FEF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x3001</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#xD7FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xF900</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDCF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDF0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFFFD</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x00010000</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Noncharacter'">#x000EFFFF</abbr></code><code>]</code> </td>
    </tr>
    <tr id="nt-grammar-production-PN_CHARS_U">
      <td>[158s]</td>
      <td><code>PN_CHARS_U</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>|</code> "<code class="grammar-literal">_</code>" <code>|</code> "<code class="grammar-literal">:</code>"</td>
    </tr>
    <tr id="nt-grammar-production-PN_CHARS">
      <td>[160s]</td>
      <td><code>PN_CHARS</code></td>
      <td>::=</td>
      <td><a href="#nt-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xB7'">#xB7</abbr></code> <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0300</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x036F</abbr></code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x203F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2040</abbr></code><code>]</code> </td>
    </tr>
    <tr id="nt-grammar-production-HEX">
      <td>[162s]</td>
      <td><code>HEX</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">A-F</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">a-f</code><code>]</code> </td>
    </tr>
  </tbody>
</table>
    
</div>
  </section>

  <section class="appendix informative" id="n-quads-star-ebnf">
    <h3 id="c-4-n-quads-star-ebnf-grammar"><bdi class="secno">C.4 </bdi>N-Quads-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar<a class="self-link" href="#n-quads-star-ebnf" aria-label="Permalink for Appendix C.4"></a></h3><p><em>This section is non-normative.</em></p>
    <p>The following is a complete grammar for N-Quads-Star.
      The <abbr title="Extended Backus-Naur Form">EBNF</abbr> used here is defined in XML 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ebnf-notation" title="EBNF NOTATION">EBNF-NOTATION</a></cite>].</p>

    <div>
<table class="grammar">
  <tbody id="nq-grammar-productions" class="ebnf">
    <tr id="nq-grammar-production-nquadsDoc">
      <td>[1]</td>
      <td><code>nquadsDoc</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-statement">statement</a><code>?</code>  <code>(</code> <a href="#nq-grammar-production-EOL">EOL</a> <a href="#nq-grammar-production-statement">statement</a><code>)</code> <code>*</code>  <a href="#nq-grammar-production-EOL">EOL</a><code>?</code> </td>
    </tr>
    <tr id="nq-grammar-production-statement">
      <td>[2]</td>
      <td><code>statement</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-subject">subject</a> <a href="#nq-grammar-production-predicate">predicate</a> <a href="#nq-grammar-production-object">object</a> <a href="#nq-grammar-production-graphLabel">graphLabel</a> "<code class="grammar-literal">.</code>"</td>
    </tr>
    <tr id="nq-grammar-production-subject">
      <td>[3]</td>
      <td><code>subject</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#nq-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#nq-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="nq-grammar-production-predicate">
      <td>[4]</td>
      <td><code>predicate</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="nq-grammar-production-object">
      <td>[5]</td>
      <td><code>object</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#nq-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#nq-grammar-production-literal">literal</a> <code>|</code> <a href="#nq-grammar-production-quotedTriple">quotedTriple</a></td>
    </tr>
    <tr id="nq-grammar-production-graphLabel">
      <td>[6]</td>
      <td><code>graphLabel</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#nq-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a></td>
    </tr>
    <tr id="nq-grammar-production-literal">
      <td>[7]</td>
      <td><code>literal</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-STRING_LITERAL_QUOTE">STRING_LITERAL_QUOTE</a> <code>(</code> <code>(</code> "^^" <a href="#nq-grammar-production-IRIREF">IRIREF</a><code>)</code>  <code>|</code> <a href="#nq-grammar-production-LANGTAG">LANGTAG</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="nq-grammar-production-quotedTriple">
      <td>[7t]</td>
      <td><code>quotedTriple</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#nq-grammar-production-subject">subject</a> <a href="#nq-grammar-production-predicate">predicate</a> <a href="#nq-grammar-production-object">object</a> "&gt;&gt;"</td>
    </tr>
    <tr>
      <td colspan="2">@terminals</td>
      <td></td>
      <td><strong># Productions for terminals</strong></td>
    </tr>
    <tr id="nq-grammar-production-LANGTAG">
      <td>[144s]</td>
      <td><code>LANGTAG</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">@</code>" <code>[</code> <code class="grammar-literal">a-zA-Z</code><code>]</code> <code>+</code>  <code>(</code> "<code class="grammar-literal">-</code>" <code>[</code> <code class="grammar-literal">a-zA-Z0-9</code><code>]</code> <code>+</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="nq-grammar-production-EOL">
      <td>[8]</td>
      <td><code>EOL</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="nq-grammar-production-IRIREF">
      <td>[10]</td>
      <td><code>IRIREF</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">&lt;</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="null">#x00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code><code class="grammar-literal">&lt;&gt;"{}|^`\</code><code>]</code>  <code>|</code> <a href="#nq-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">&gt;</code>"</td>
    </tr>
    <tr id="nq-grammar-production-STRING_LITERAL_QUOTE">
      <td>[11]</td>
      <td><code>STRING_LITERAL_QUOTE</code></td>
      <td>::=</td>
      <td>'<code class="grammar-literal">"</code>' <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="quot">&gt;"</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#nq-grammar-production-ECHAR">ECHAR</a> <code>|</code> <a href="#nq-grammar-production-UCHAR">UCHAR</a><code>)</code> <code>*</code>  '<code class="grammar-literal">"</code>'</td>
    </tr>
    <tr id="nq-grammar-production-BLANK_NODE_LABEL">
      <td>[141s]</td>
      <td><code>BLANK_NODE_LABEL</code></td>
      <td>::=</td>
      <td>"_:" <code>(</code> <a href="#nq-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <code>(</code> <a href="#nq-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#nq-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="nq-grammar-production-UCHAR">
      <td>[12]</td>
      <td><code>UCHAR</code></td>
      <td>::=</td>
      <td><code>(</code> "\u" <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a><code>)</code>  <code>|</code> <code>(</code> "\U" <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a> <a href="#nq-grammar-production-HEX">HEX</a><code>)</code> </td>
    </tr>
    <tr id="nq-grammar-production-ECHAR">
      <td>[153s]</td>
      <td><code>ECHAR</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>[</code> <code class="grammar-literal">tbnrf"'\</code><code>]</code> </td>
    </tr>
    <tr id="nq-grammar-production-PN_CHARS_BASE">
      <td>[157s]</td>
      <td><code>PN_CHARS_BASE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">A-Z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-literal">a-z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xC0'">#xC0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xD6'">#xD6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xD8'">#xD8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xF6'">#xF6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xF8'">#xF8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x02FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0370</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x1FFF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200C</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2070</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x218F</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2C00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x2FEF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x3001</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#xD7FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xF900</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDCF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDF0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFFFD</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x00010000</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Noncharacter'">#x000EFFFF</abbr></code><code>]</code> </td>
    </tr>
    <tr id="nq-grammar-production-PN_CHARS_U">
      <td>[158s]</td>
      <td><code>PN_CHARS_U</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>|</code> "<code class="grammar-literal">_</code>" <code>|</code> "<code class="grammar-literal">:</code>"</td>
    </tr>
    <tr id="nq-grammar-production-PN_CHARS">
      <td>[160s]</td>
      <td><code>PN_CHARS</code></td>
      <td>::=</td>
      <td><a href="#nq-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xB7'">#xB7</abbr></code> <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0300</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x036F</abbr></code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x203F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2040</abbr></code><code>]</code> </td>
    </tr>
    <tr id="nq-grammar-production-HEX">
      <td>[162s]</td>
      <td><code>HEX</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">A-F</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">a-f</code><code>]</code> </td>
    </tr>
  </tbody>
</table>
    
</div>
  </section>

  <section class="appendix informative" id="sparql-star-ebnf">
    <h3 id="c-5-sparql-star-ebnf-grammar"><bdi class="secno">C.5 </bdi>SPARQL-Star <abbr title="Extended Backus-Naur Form">EBNF</abbr> Grammar<a class="self-link" href="#sparql-star-ebnf" aria-label="Permalink for Appendix C.5"></a></h3><p><em>This section is non-normative.</em></p>
    <p>The following is a complete grammar for SPARQL-Star.
      The <abbr title="Extended Backus-Naur Form">EBNF</abbr> used here is defined in XML 1.0 [<cite><a class="bibref" data-link-type="biblio" href="#bib-ebnf-notation" title="EBNF NOTATION">EBNF-NOTATION</a></cite>].</p>

    <div>
<table class="grammar">
  <tbody id="sp-grammar-productions" class="ebnf">
    <tr id="sp-grammar-production-QueryUnit">
      <td>[1]</td>
      <td><code>QueryUnit</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Query">Query</a></td>
    </tr>
    <tr id="sp-grammar-production-Query">
      <td>[2]</td>
      <td><code>Query</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Prologue">Prologue</a> <code>(</code> <a href="#sp-grammar-production-SelectQuery">SelectQuery</a> <code>|</code> <a href="#sp-grammar-production-ConstructQuery">ConstructQuery</a> <code>|</code> <a href="#sp-grammar-production-DescribeQuery">DescribeQuery</a> <code>|</code> <a href="#sp-grammar-production-AskQuery">AskQuery</a><code>)</code>  <a href="#sp-grammar-production-ValuesClause">ValuesClause</a></td>
    </tr>
    <tr id="sp-grammar-production-UpdateUnit">
      <td>[3]</td>
      <td><code>UpdateUnit</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Update">Update</a></td>
    </tr>
    <tr id="sp-grammar-production-Prologue">
      <td>[4]</td>
      <td><code>Prologue</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-BaseDecl">BaseDecl</a> <code>|</code> <a href="#sp-grammar-production-PrefixDecl">PrefixDecl</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-BaseDecl">
      <td>[5]</td>
      <td><code>BaseDecl</code></td>
      <td>::=</td>
      <td>"BASE" <a href="#sp-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="sp-grammar-production-PrefixDecl">
      <td>[6]</td>
      <td><code>PrefixDecl</code></td>
      <td>::=</td>
      <td>"PREFIX" <a href="#sp-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#sp-grammar-production-IRIREF">IRIREF</a></td>
    </tr>
    <tr id="sp-grammar-production-SelectQuery">
      <td>[7]</td>
      <td><code>SelectQuery</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-SelectClause">SelectClause</a> <a href="#sp-grammar-production-DatasetClause">DatasetClause</a><code>*</code>  <a href="#sp-grammar-production-WhereClause">WhereClause</a> <a href="#sp-grammar-production-SolutionModifier">SolutionModifier</a></td>
    </tr>
    <tr id="sp-grammar-production-SubSelect">
      <td>[8]</td>
      <td><code>SubSelect</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-SelectClause">SelectClause</a> <a href="#sp-grammar-production-WhereClause">WhereClause</a> <a href="#sp-grammar-production-SolutionModifier">SolutionModifier</a> <a href="#sp-grammar-production-ValuesClause">ValuesClause</a></td>
    </tr>
    <tr id="sp-grammar-production-SelectClause">
      <td>[9]</td>
      <td><code>SelectClause</code></td>
      <td>::=</td>
      <td>"SELECT" <code>(</code> "DISTINCT" <code>|</code> "REDUCED"<code>)</code> <code>?</code>  <code>(</code> <code>(</code> <a href="#sp-grammar-production-Var">Var</a> <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "AS" <a href="#sp-grammar-production-Var">Var</a> "<code class="grammar-literal">)</code>"<code>)</code> <code>)</code> <code>+</code>  <code>|</code> "<code class="grammar-literal">*</code>"<code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-ConstructQuery">
      <td>[10]</td>
      <td><code>ConstructQuery</code></td>
      <td>::=</td>
      <td>"CONSTRUCT"</td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td></td>
      <td><code>(</code> <code>(</code> <a href="#sp-grammar-production-ConstructTemplate">ConstructTemplate</a> <a href="#sp-grammar-production-DatasetClause">DatasetClause</a><code>*</code>  <a href="#sp-grammar-production-WhereClause">WhereClause</a> <a href="#sp-grammar-production-SolutionModifier">SolutionModifier</a><code>)</code><code>(</code> <a href="#sp-grammar-production-DatasetClause">DatasetClause</a><code>*</code>  "WHERE" "<code class="grammar-literal">{</code>" <a href="#sp-grammar-production-TriplesTemplate">TriplesTemplate</a><code>?</code>  "<code class="grammar-literal">}</code>" <a href="#sp-grammar-production-SolutionModifier">SolutionModifier</a><code>)</code> <code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-DescribeQuery">
      <td>[11]</td>
      <td><code>DescribeQuery</code></td>
      <td>::=</td>
      <td>"DESCRIBE" <code>(</code> <a href="#sp-grammar-production-VarOrIri">VarOrIri</a><code>+</code>  <code>|</code> "<code class="grammar-literal">*</code>"<code>)</code>  <a href="#sp-grammar-production-DatasetClause">DatasetClause</a><code>*</code>  <a href="#sp-grammar-production-WhereClause">WhereClause</a><code>?</code>  <a href="#sp-grammar-production-SolutionModifier">SolutionModifier</a></td>
    </tr>
    <tr id="sp-grammar-production-AskQuery">
      <td>[12]</td>
      <td><code>AskQuery</code></td>
      <td>::=</td>
      <td>"ASK" <a href="#sp-grammar-production-DatasetClause">DatasetClause</a><code>*</code>  <a href="#sp-grammar-production-WhereClause">WhereClause</a> <a href="#sp-grammar-production-ValuesClause">ValuesClause</a></td>
    </tr>
    <tr id="sp-grammar-production-DatasetClause">
      <td>[13]</td>
      <td><code>DatasetClause</code></td>
      <td>::=</td>
      <td>"FROM" <code>(</code> <a href="#sp-grammar-production-DefaultGraphClause">DefaultGraphClause</a> <code>|</code> <a href="#sp-grammar-production-NamedGraphClause">NamedGraphClause</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-DefaultGraphClause">
      <td>[14]</td>
      <td><code>DefaultGraphClause</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-SourceSelector">SourceSelector</a></td>
    </tr>
    <tr id="sp-grammar-production-NamedGraphClause">
      <td>[15]</td>
      <td><code>NamedGraphClause</code></td>
      <td>::=</td>
      <td>"NAMED" <a href="#sp-grammar-production-SourceSelector">SourceSelector</a></td>
    </tr>
    <tr id="sp-grammar-production-SourceSelector">
      <td>[16]</td>
      <td><code>SourceSelector</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a></td>
    </tr>
    <tr id="sp-grammar-production-WhereClause">
      <td>[17]</td>
      <td><code>WhereClause</code></td>
      <td>::=</td>
      <td>"WHERE"<code>?</code>  <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-SolutionModifier">
      <td>[18]</td>
      <td><code>SolutionModifier</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-GroupClause">GroupClause</a><code>?</code>  <a href="#sp-grammar-production-HavingClause">HavingClause</a><code>?</code>  <a href="#sp-grammar-production-OrderClause">OrderClause</a><code>?</code>  <a href="#sp-grammar-production-LimitOffsetClauses">LimitOffsetClauses</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-GroupClause">
      <td>[19]</td>
      <td><code>GroupClause</code></td>
      <td>::=</td>
      <td>"GROUP" "BY" <a href="#sp-grammar-production-GroupCondition">GroupCondition</a><code>+</code> </td>
    </tr>
    <tr id="sp-grammar-production-GroupCondition">
      <td>[20]</td>
      <td><code>GroupCondition</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-BuiltInCall">BuiltInCall</a> <code>|</code> <a href="#sp-grammar-production-FunctionCall">FunctionCall</a> <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "AS" <a href="#sp-grammar-production-Var">Var</a><code>)</code> <code>?</code>  "<code class="grammar-literal">)</code>"<code>)</code>  <code>|</code> <a href="#sp-grammar-production-Var">Var</a></td>
    </tr>
    <tr id="sp-grammar-production-HavingClause">
      <td>[21]</td>
      <td><code>HavingClause</code></td>
      <td>::=</td>
      <td>"HAVING" <a href="#sp-grammar-production-HavingCondition">HavingCondition</a><code>+</code> </td>
    </tr>
    <tr id="sp-grammar-production-HavingCondition">
      <td>[22]</td>
      <td><code>HavingCondition</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Constraint">Constraint</a></td>
    </tr>
    <tr id="sp-grammar-production-OrderClause">
      <td>[23]</td>
      <td><code>OrderClause</code></td>
      <td>::=</td>
      <td>"ORDER" "BY" <a href="#sp-grammar-production-OrderCondition">OrderCondition</a><code>+</code> </td>
    </tr>
    <tr id="sp-grammar-production-OrderCondition">
      <td>[24]</td>
      <td><code>OrderCondition</code></td>
      <td>::=</td>
      <td><code>(</code> <code>(</code> "ASC" <code>|</code> "DESC"<code>)</code>  <a href="#sp-grammar-production-BrackettedExpression">BrackettedExpression</a><code>)</code>  <code>|</code> <code>(</code> <a href="#sp-grammar-production-Constraint">Constraint</a> <code>|</code> <a href="#sp-grammar-production-Var">Var</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-LimitOffsetClauses">
      <td>[25]</td>
      <td><code>LimitOffsetClauses</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-LimitClause">LimitClause</a> <a href="#sp-grammar-production-OffsetClause">OffsetClause</a><code>?</code> <code>)</code>  <code>|</code> <code>(</code> <a href="#sp-grammar-production-OffsetClause">OffsetClause</a> <a href="#sp-grammar-production-LimitClause">LimitClause</a><code>?</code> <code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-LimitClause">
      <td>[26]</td>
      <td><code>LimitClause</code></td>
      <td>::=</td>
      <td>"LIMIT" <a href="#sp-grammar-production-INTEGER">INTEGER</a></td>
    </tr>
    <tr id="sp-grammar-production-OffsetClause">
      <td>[27]</td>
      <td><code>OffsetClause</code></td>
      <td>::=</td>
      <td>"OFFSET" <a href="#sp-grammar-production-INTEGER">INTEGER</a></td>
    </tr>
    <tr id="sp-grammar-production-ValuesClause">
      <td>[28]</td>
      <td><code>ValuesClause</code></td>
      <td>::=</td>
      <td><code>(</code> "VALUES" <a href="#sp-grammar-production-DataBlock">DataBlock</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-Update">
      <td>[29]</td>
      <td><code>Update</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Prologue">Prologue</a> <code>(</code> <a href="#sp-grammar-production-Update1">Update1</a> <code>(</code> "<code class="grammar-literal">;</code>" <a href="#sp-grammar-production-Update">Update</a><code>)</code> <code>?</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-Update1">
      <td>[30]</td>
      <td><code>Update1</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Load">Load</a> <code>|</code> <a href="#sp-grammar-production-Clear">Clear</a> <code>|</code> <a href="#sp-grammar-production-Drop">Drop</a> <code>|</code> <a href="#sp-grammar-production-Add">Add</a> <code>|</code> <a href="#sp-grammar-production-Move">Move</a> <code>|</code> <a href="#sp-grammar-production-Copy">Copy</a> <code>|</code> <a href="#sp-grammar-production-Create">Create</a> <code>|</code> <a href="#sp-grammar-production-InsertData">InsertData</a> <code>|</code> <a href="#sp-grammar-production-DeleteData">DeleteData</a> <code>|</code> <a href="#sp-grammar-production-DeleteWhere">DeleteWhere</a> <code>|</code> <a href="#sp-grammar-production-Modify">Modify</a></td>
    </tr>
    <tr id="sp-grammar-production-Load">
      <td>[31]</td>
      <td><code>Load</code></td>
      <td>::=</td>
      <td>"LOAD" "SILENT"<code>?</code>  <a href="#sp-grammar-production-iri">iri</a> <code>(</code> "INTO" <a href="#sp-grammar-production-GraphRef">GraphRef</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-Clear">
      <td>[32]</td>
      <td><code>Clear</code></td>
      <td>::=</td>
      <td>"CLEAR" "SILENT"<code>?</code>  <a href="#sp-grammar-production-GraphRefAll">GraphRefAll</a></td>
    </tr>
    <tr id="sp-grammar-production-Drop">
      <td>[33]</td>
      <td><code>Drop</code></td>
      <td>::=</td>
      <td>"DROP" "SILENT"<code>?</code>  <a href="#sp-grammar-production-GraphRefAll">GraphRefAll</a></td>
    </tr>
    <tr id="sp-grammar-production-Create">
      <td>[34]</td>
      <td><code>Create</code></td>
      <td>::=</td>
      <td>"CREATE" "SILENT"<code>?</code>  <a href="#sp-grammar-production-GraphRef">GraphRef</a></td>
    </tr>
    <tr id="sp-grammar-production-Add">
      <td>[35]</td>
      <td><code>Add</code></td>
      <td>::=</td>
      <td>"ADD" "SILENT"<code>?</code>  <a href="#sp-grammar-production-GraphOrDefault">GraphOrDefault</a> "TO" <a href="#sp-grammar-production-GraphOrDefault">GraphOrDefault</a></td>
    </tr>
    <tr id="sp-grammar-production-Move">
      <td>[36]</td>
      <td><code>Move</code></td>
      <td>::=</td>
      <td>"MOVE" "SILENT"<code>?</code>  <a href="#sp-grammar-production-GraphOrDefault">GraphOrDefault</a> "TO" <a href="#sp-grammar-production-GraphOrDefault">GraphOrDefault</a></td>
    </tr>
    <tr id="sp-grammar-production-Copy">
      <td>[37]</td>
      <td><code>Copy</code></td>
      <td>::=</td>
      <td>"COPY" "SILENT"<code>?</code>  <a href="#sp-grammar-production-GraphOrDefault">GraphOrDefault</a> "TO" <a href="#sp-grammar-production-GraphOrDefault">GraphOrDefault</a></td>
    </tr>
    <tr id="sp-grammar-production-InsertData">
      <td>[38]</td>
      <td><code>InsertData</code></td>
      <td>::=</td>
      <td>"INSERT DATA" <a href="#sp-grammar-production-QuadData">QuadData</a></td>
    </tr>
    <tr id="sp-grammar-production-DeleteData">
      <td>[39]</td>
      <td><code>DeleteData</code></td>
      <td>::=</td>
      <td>"DELETE DATA" <a href="#sp-grammar-production-QuadData">QuadData</a></td>
    </tr>
    <tr id="sp-grammar-production-DeleteWhere">
      <td>[40]</td>
      <td><code>DeleteWhere</code></td>
      <td>::=</td>
      <td>"DELETE WHERE" <a href="#sp-grammar-production-QuadPattern">QuadPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-Modify">
      <td>[41]</td>
      <td><code>Modify</code></td>
      <td>::=</td>
      <td><code>(</code> "WITH" <a href="#sp-grammar-production-iri">iri</a><code>)</code> <code>?</code>  <code>(</code> <code>(</code> <a href="#sp-grammar-production-DeleteClause">DeleteClause</a> <a href="#sp-grammar-production-InsertClause">InsertClause</a><code>?</code> <code>)</code>  <code>|</code> <a href="#sp-grammar-production-InsertClause">InsertClause</a><code>)</code>  <a href="#sp-grammar-production-UsingClause">UsingClause</a><code>*</code>  "WHERE" <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-DeleteClause">
      <td>[42]</td>
      <td><code>DeleteClause</code></td>
      <td>::=</td>
      <td>"DELETE" <a href="#sp-grammar-production-QuadPattern">QuadPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-InsertClause">
      <td>[43]</td>
      <td><code>InsertClause</code></td>
      <td>::=</td>
      <td>"INSERT" <a href="#sp-grammar-production-QuadPattern">QuadPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-UsingClause">
      <td>[44]</td>
      <td><code>UsingClause</code></td>
      <td>::=</td>
      <td>"USING" <code>(</code> <a href="#sp-grammar-production-iri">iri</a> <code>|</code> <code>(</code> "NAMED" <a href="#sp-grammar-production-iri">iri</a><code>)</code> <code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-GraphOrDefault">
      <td>[45]</td>
      <td><code>GraphOrDefault</code></td>
      <td>::=</td>
      <td>"DEFAULT" <code>|</code> <code>(</code> "GRAPH"<code>?</code>  <a href="#sp-grammar-production-iri">iri</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-GraphRef">
      <td>[46]</td>
      <td><code>GraphRef</code></td>
      <td>::=</td>
      <td>"GRAPH" <a href="#sp-grammar-production-iri">iri</a></td>
    </tr>
    <tr id="sp-grammar-production-GraphRefAll">
      <td>[47]</td>
      <td><code>GraphRefAll</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-GraphRef">GraphRef</a> <code>|</code> "DEFAULT" <code>|</code> "NAMED" <code>|</code> "ALL"</td>
    </tr>
    <tr id="sp-grammar-production-QuadPattern">
      <td>[48]</td>
      <td><code>QuadPattern</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">{</code>" <a href="#sp-grammar-production-Quads">Quads</a> "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-QuadData">
      <td>[49]</td>
      <td><code>QuadData</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">{</code>" <a href="#sp-grammar-production-Quads">Quads</a> "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-Quads">
      <td>[50]</td>
      <td><code>Quads</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-TriplesTemplate">TriplesTemplate</a><code>?</code>  <code>(</code> <a href="#sp-grammar-production-QuadsNotTriples">QuadsNotTriples</a> "<code class="grammar-literal">.</code>"<code>?</code>  <a href="#sp-grammar-production-TriplesTemplate">TriplesTemplate</a><code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-QuadsNotTriples">
      <td>[51]</td>
      <td><code>QuadsNotTriples</code></td>
      <td>::=</td>
      <td>"GRAPH" <a href="#sp-grammar-production-VarOrIri">VarOrIri</a> "<code class="grammar-literal">{</code>" <a href="#sp-grammar-production-TriplesTemplate">TriplesTemplate</a><code>?</code>  "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-TriplesTemplate">
      <td>[52]</td>
      <td><code>TriplesTemplate</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-TriplesSameSubject">TriplesSameSubject</a> <code>(</code> "<code class="grammar-literal">.</code>" <a href="#sp-grammar-production-TriplesTemplate">TriplesTemplate</a><code>?</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-GroupGraphPattern">
      <td>[53]</td>
      <td><code>GroupGraphPattern</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">{</code>" <code>(</code> <a href="#sp-grammar-production-SubSelect">SubSelect</a> <code>|</code> <a href="#sp-grammar-production-GroupGraphPatternSub">GroupGraphPatternSub</a><code>)</code>  "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-GroupGraphPatternSub">
      <td>[54]</td>
      <td><code>GroupGraphPatternSub</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-TriplesBlock">TriplesBlock</a><code>?</code>  <code>(</code> <a href="#sp-grammar-production-GraphPatternNotTriples">GraphPatternNotTriples</a> "<code class="grammar-literal">.</code>"<code>?</code>  <a href="#sp-grammar-production-TriplesBlock">TriplesBlock</a><code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-TriplesBlock">
      <td>[55]</td>
      <td><code>TriplesBlock</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-TriplesSameSubjectPath">TriplesSameSubjectPath</a> <code>(</code> "<code class="grammar-literal">.</code>" <a href="#sp-grammar-production-TriplesBlock">TriplesBlock</a><code>?</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-GraphPatternNotTriples">
      <td>[56]</td>
      <td><code>GraphPatternNotTriples</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-GroupOrUnionGraphPattern">GroupOrUnionGraphPattern</a> <code>|</code> <a href="#sp-grammar-production-OptionalGraphPattern">OptionalGraphPattern</a> <code>|</code> <a href="#sp-grammar-production-MinusGraphPattern">MinusGraphPattern</a> <code>|</code> <a href="#sp-grammar-production-GraphGraphPattern">GraphGraphPattern</a> <code>|</code> <a href="#sp-grammar-production-ServiceGraphPattern">ServiceGraphPattern</a> <code>|</code> <a href="#sp-grammar-production-Filter">Filter</a> <code>|</code> <a href="#sp-grammar-production-Bind">Bind</a> <code>|</code> <a href="#sp-grammar-production-InlineData">InlineData</a></td>
    </tr>
    <tr id="sp-grammar-production-OptionalGraphPattern">
      <td>[57]</td>
      <td><code>OptionalGraphPattern</code></td>
      <td>::=</td>
      <td>"<em class="rfc2119">OPTIONAL</em>" <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-GraphGraphPattern">
      <td>[58]</td>
      <td><code>GraphGraphPattern</code></td>
      <td>::=</td>
      <td>"GRAPH" <a href="#sp-grammar-production-VarOrIri">VarOrIri</a> <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-ServiceGraphPattern">
      <td>[59]</td>
      <td><code>ServiceGraphPattern</code></td>
      <td>::=</td>
      <td>"SERVICE" "SILENT"<code>?</code>  <a href="#sp-grammar-production-VarOrIri">VarOrIri</a> <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-Bind">
      <td>[60]</td>
      <td><code>Bind</code></td>
      <td>::=</td>
      <td>"BIND" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "AS" <a href="#sp-grammar-production-Var">Var</a> "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-InlineData">
      <td>[61]</td>
      <td><code>InlineData</code></td>
      <td>::=</td>
      <td>"VALUES" <a href="#sp-grammar-production-DataBlock">DataBlock</a></td>
    </tr>
    <tr id="sp-grammar-production-DataBlock">
      <td>[62]</td>
      <td><code>DataBlock</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-InlineDataOneVar">InlineDataOneVar</a> <code>|</code> <a href="#sp-grammar-production-InlineDataFull">InlineDataFull</a></td>
    </tr>
    <tr id="sp-grammar-production-InlineDataOneVar">
      <td>[63]</td>
      <td><code>InlineDataOneVar</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Var">Var</a> "<code class="grammar-literal">{</code>" <a href="#sp-grammar-production-DataBlockValue">DataBlockValue</a><code>*</code>  "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-InlineDataFull">
      <td>[64]</td>
      <td><code>InlineDataFull</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-NIL">NIL</a> <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Var">Var</a><code>*</code>  "<code class="grammar-literal">)</code>"<code>)</code> <code>)</code>  "<code class="grammar-literal">{</code>" <code>(</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-DataBlockValue">DataBlockValue</a><code>*</code>  "<code class="grammar-literal">)</code>"<code>)</code>  <code>|</code> <a href="#sp-grammar-production-NIL">NIL</a><code>)</code> <code>*</code>  "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-DataBlockValue">
      <td>[65]</td>
      <td><code>DataBlockValue</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-QuotedTriple">QuotedTriple</a> <code>|</code> <a href="#sp-grammar-production-iri">iri</a> <code>|</code> <a href="#sp-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#sp-grammar-production-BooleanLiteral">BooleanLiteral</a> <code>|</code> "UNDEF"</td>
    </tr>
    <tr id="sp-grammar-production-MinusGraphPattern">
      <td>[66]</td>
      <td><code>MinusGraphPattern</code></td>
      <td>::=</td>
      <td>"MINUS" <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-GroupOrUnionGraphPattern">
      <td>[67]</td>
      <td><code>GroupOrUnionGraphPattern</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a> <code>(</code> "UNION" <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-Filter">
      <td>[68]</td>
      <td><code>Filter</code></td>
      <td>::=</td>
      <td>"FILTER" <a href="#sp-grammar-production-Constraint">Constraint</a></td>
    </tr>
    <tr id="sp-grammar-production-Constraint">
      <td>[69]</td>
      <td><code>Constraint</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-BrackettedExpression">BrackettedExpression</a> <code>|</code> <a href="#sp-grammar-production-BuiltInCall">BuiltInCall</a> <code>|</code> <a href="#sp-grammar-production-FunctionCall">FunctionCall</a></td>
    </tr>
    <tr id="sp-grammar-production-FunctionCall">
      <td>[70]</td>
      <td><code>FunctionCall</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <a href="#sp-grammar-production-ArgList">ArgList</a></td>
    </tr>
    <tr id="sp-grammar-production-ArgList">
      <td>[71]</td>
      <td><code>ArgList</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-NIL">NIL</a> <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a><code>)</code> <code>*</code>  "<code class="grammar-literal">)</code>"<code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-ExpressionList">
      <td>[72]</td>
      <td><code>ExpressionList</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-NIL">NIL</a> <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a><code>)</code> <code>*</code>  "<code class="grammar-literal">)</code>"<code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-ConstructTemplate">
      <td>[73]</td>
      <td><code>ConstructTemplate</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">{</code>" <a href="#sp-grammar-production-ConstructTriples">ConstructTriples</a><code>?</code>  "<code class="grammar-literal">}</code>"</td>
    </tr>
    <tr id="sp-grammar-production-ConstructTriples">
      <td>[74]</td>
      <td><code>ConstructTriples</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-TriplesSameSubject">TriplesSameSubject</a> <code>(</code> "<code class="grammar-literal">.</code>" <a href="#sp-grammar-production-ConstructTriples">ConstructTriples</a><code>?</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-TriplesSameSubject">
      <td>[75]</td>
      <td><code>TriplesSameSubject</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-VarOrTermOrQuotedTP">VarOrTermOrQuotedTP</a> <a href="#sp-grammar-production-PropertyListNotEmpty">PropertyListNotEmpty</a><code>)</code>  <code>|</code> <code>(</code> <a href="#sp-grammar-production-TriplesNode">TriplesNode</a> <a href="#sp-grammar-production-PropertyList">PropertyList</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-PropertyList">
      <td>[76]</td>
      <td><code>PropertyList</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PropertyListNotEmpty">PropertyListNotEmpty</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-PropertyListNotEmpty">
      <td>[77]</td>
      <td><code>PropertyListNotEmpty</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Verb">Verb</a> <a href="#sp-grammar-production-ObjectList">ObjectList</a> <code>(</code> "<code class="grammar-literal">;</code>" <code>(</code> <a href="#sp-grammar-production-Verb">Verb</a> <a href="#sp-grammar-production-ObjectList">ObjectList</a><code>)</code> <code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-Verb">
      <td>[78]</td>
      <td><code>Verb</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-VarOrIri">VarOrIri</a> <code>|</code> "<code class="grammar-literal">a</code>"</td>
    </tr>
    <tr id="sp-grammar-production-ObjectList">
      <td>[79]</td>
      <td><code>ObjectList</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Object">Object</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Object">Object</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-Object">
      <td>[80]</td>
      <td><code>Object</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-GraphNode">GraphNode</a> <a href="#sp-grammar-production-AnnotationPattern">AnnotationPattern</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-TriplesSameSubjectPath">
      <td>[81]</td>
      <td><code>TriplesSameSubjectPath</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-VarOrTermOrQuotedTP">VarOrTermOrQuotedTP</a> <a href="#sp-grammar-production-PropertyListPathNotEmpty">PropertyListPathNotEmpty</a><code>)</code>  <code>|</code> <code>(</code> <a href="#sp-grammar-production-TriplesNodePath">TriplesNodePath</a> <a href="#sp-grammar-production-PropertyListPath">PropertyListPath</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-PropertyListPath">
      <td>[82]</td>
      <td><code>PropertyListPath</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PropertyListPathNotEmpty">PropertyListPathNotEmpty</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-PropertyListPathNotEmpty">
      <td>[83]</td>
      <td><code>PropertyListPathNotEmpty</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-VerbPath">VerbPath</a> <code>|</code> <a href="#sp-grammar-production-VerbSimple">VerbSimple</a><code>)</code>  <a href="#sp-grammar-production-ObjectListPath">ObjectListPath</a> <code>(</code> "<code class="grammar-literal">;</code>" <code>(</code> <code>(</code> <a href="#sp-grammar-production-VerbPath">VerbPath</a> <code>|</code> <a href="#sp-grammar-production-VerbSimple">VerbSimple</a><code>)</code>  <a href="#sp-grammar-production-ObjectList">ObjectList</a><code>)</code> <code>?</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-VerbPath">
      <td>[84]</td>
      <td><code>VerbPath</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Path">Path</a></td>
    </tr>
    <tr id="sp-grammar-production-VerbSimple">
      <td>[85]</td>
      <td><code>VerbSimple</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Var">Var</a></td>
    </tr>
    <tr id="sp-grammar-production-ObjectListPath">
      <td>[86]</td>
      <td><code>ObjectListPath</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-ObjectPath">ObjectPath</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-ObjectPath">ObjectPath</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-ObjectPath">
      <td>[87]</td>
      <td><code>ObjectPath</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-GraphNodePath">GraphNodePath</a> <a href="#sp-grammar-production-AnnotationPatternPath">AnnotationPatternPath</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-Path">
      <td>[88]</td>
      <td><code>Path</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PathAlternative">PathAlternative</a></td>
    </tr>
    <tr id="sp-grammar-production-PathAlternative">
      <td>[89]</td>
      <td><code>PathAlternative</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PathSequence">PathSequence</a> <code>(</code> "<code class="grammar-literal">|</code>" <a href="#sp-grammar-production-PathSequence">PathSequence</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-PathSequence">
      <td>[90]</td>
      <td><code>PathSequence</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PathEltOrInverse">PathEltOrInverse</a> <code>(</code> "<code class="grammar-literal">/</code>" <a href="#sp-grammar-production-PathEltOrInverse">PathEltOrInverse</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-PathElt">
      <td>[91]</td>
      <td><code>PathElt</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PathPrimary">PathPrimary</a> <a href="#sp-grammar-production-PathMod">PathMod</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-PathEltOrInverse">
      <td>[92]</td>
      <td><code>PathEltOrInverse</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PathElt">PathElt</a> <code>|</code> <code>(</code> "<code class="grammar-literal">^</code>" <a href="#sp-grammar-production-PathElt">PathElt</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-PathMod">
      <td>[93]</td>
      <td><code>PathMod</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">*</code>" <code>|</code> "<code class="grammar-literal">?</code>" <code>|</code> "<code class="grammar-literal">+</code>"</td>
    </tr>
    <tr id="sp-grammar-production-PathPrimary">
      <td>[94]</td>
      <td><code>PathPrimary</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <code>|</code> "<code class="grammar-literal">a</code>" <code>|</code> <code>(</code> "<code class="grammar-literal">!</code>" <a href="#sp-grammar-production-PathNegatedPropertySet">PathNegatedPropertySet</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Path">Path</a> "<code class="grammar-literal">)</code>"<code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-PathNegatedPropertySet">
      <td>[95]</td>
      <td><code>PathNegatedPropertySet</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PathOneInPropertySet">PathOneInPropertySet</a> <code>|</code> <code>(</code> "<code class="grammar-literal">(</code>" <code>(</code> <a href="#sp-grammar-production-PathOneInPropertySet">PathOneInPropertySet</a> <code>(</code> "<code class="grammar-literal">|</code>" <a href="#sp-grammar-production-PathOneInPropertySet">PathOneInPropertySet</a><code>)</code> <code>*</code> <code>)</code> <code>?</code>  "<code class="grammar-literal">)</code>"<code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-PathOneInPropertySet">
      <td>[96]</td>
      <td><code>PathOneInPropertySet</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <code>|</code> "<code class="grammar-literal">a</code>" <code>|</code> <code>(</code> "<code class="grammar-literal">^</code>" <code>(</code> <a href="#sp-grammar-production-iri">iri</a> <code>|</code> "<code class="grammar-literal">a</code>"<code>)</code> <code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-Integer">
      <td>[97]</td>
      <td><code>Integer</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-INTEGER">INTEGER</a></td>
    </tr>
    <tr id="sp-grammar-production-TriplesNode">
      <td>[98]</td>
      <td><code>TriplesNode</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Collection">Collection</a> <code>|</code> <a href="#sp-grammar-production-BlankNodePropertyList">BlankNodePropertyList</a></td>
    </tr>
    <tr id="sp-grammar-production-BlankNodePropertyList">
      <td>[99]</td>
      <td><code>BlankNodePropertyList</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#sp-grammar-production-PropertyListNotEmpty">PropertyListNotEmpty</a> "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="sp-grammar-production-TriplesNodePath">
      <td>[100]</td>
      <td><code>TriplesNodePath</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-CollectionPath">CollectionPath</a> <code>|</code> <a href="#sp-grammar-production-BlankNodePropertyListPath">BlankNodePropertyListPath</a></td>
    </tr>
    <tr id="sp-grammar-production-BlankNodePropertyListPath">
      <td>[101]</td>
      <td><code>BlankNodePropertyListPath</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#sp-grammar-production-PropertyListPathNotEmpty">PropertyListPathNotEmpty</a> "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="sp-grammar-production-Collection">
      <td>[102]</td>
      <td><code>Collection</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-GraphNode">GraphNode</a><code>+</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-CollectionPath">
      <td>[103]</td>
      <td><code>CollectionPath</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-GraphNodePath">GraphNodePath</a><code>+</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-GraphNode">
      <td>[104]</td>
      <td><code>GraphNode</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-VarOrTermOrQuotedTP">VarOrTermOrQuotedTP</a> <code>|</code> <a href="#sp-grammar-production-TriplesNode">TriplesNode</a></td>
    </tr>
    <tr id="sp-grammar-production-GraphNodePath">
      <td>[105]</td>
      <td><code>GraphNodePath</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-VarOrTermOrQuotedTP">VarOrTermOrQuotedTP</a> <code>|</code> <a href="#sp-grammar-production-TriplesNodePath">TriplesNodePath</a></td>
    </tr>
    <tr id="sp-grammar-production-VarOrTerm">
      <td>[106]</td>
      <td><code>VarOrTerm</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Var">Var</a> <code>|</code> <a href="#sp-grammar-production-GraphTerm">GraphTerm</a></td>
    </tr>
    <tr id="sp-grammar-production-VarOrIri">
      <td>[107]</td>
      <td><code>VarOrIri</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Var">Var</a> <code>|</code> <a href="#sp-grammar-production-iri">iri</a></td>
    </tr>
    <tr id="sp-grammar-production-Var">
      <td>[108]</td>
      <td><code>Var</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-VAR1">VAR1</a> <code>|</code> <a href="#sp-grammar-production-VAR2">VAR2</a></td>
    </tr>
    <tr id="sp-grammar-production-GraphTerm">
      <td>[109]</td>
      <td><code>GraphTerm</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <code>|</code> <a href="#sp-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#sp-grammar-production-BooleanLiteral">BooleanLiteral</a> <code>|</code> <a href="#sp-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#sp-grammar-production-NIL">NIL</a></td>
    </tr>
    <tr id="sp-grammar-production-Expression">
      <td>[110]</td>
      <td><code>Expression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-ConditionalOrExpression">ConditionalOrExpression</a></td>
    </tr>
    <tr id="sp-grammar-production-ConditionalOrExpression">
      <td>[111]</td>
      <td><code>ConditionalOrExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-ConditionalAndExpression">ConditionalAndExpression</a> <code>(</code> "||" <a href="#sp-grammar-production-ConditionalAndExpression">ConditionalAndExpression</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-ConditionalAndExpression">
      <td>[112]</td>
      <td><code>ConditionalAndExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-ValueLogical">ValueLogical</a> <code>(</code> "&amp;&amp;" <a href="#sp-grammar-production-ValueLogical">ValueLogical</a><code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-ValueLogical">
      <td>[113]</td>
      <td><code>ValueLogical</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-RelationalExpression">RelationalExpression</a></td>
    </tr>
    <tr id="sp-grammar-production-RelationalExpression">
      <td>[114]</td>
      <td><code>RelationalExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-NumericExpression">NumericExpression</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td></td>
      <td><code>(</code> <code>(</code> "<code class="grammar-literal">=</code>" <a href="#sp-grammar-production-NumericExpression">NumericExpression</a><code>)</code><code>(</code> "!=" <a href="#sp-grammar-production-NumericExpression">NumericExpression</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">&lt;</code>" <a href="#sp-grammar-production-NumericExpression">NumericExpression</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">&gt;</code>" <a href="#sp-grammar-production-NumericExpression">NumericExpression</a><code>)</code>  <code>|</code> <code>(</code> "&lt;=" <a href="#sp-grammar-production-NumericExpression">NumericExpression</a><code>)</code>  <code>|</code> <code>(</code> "&gt;=" <a href="#sp-grammar-production-NumericExpression">NumericExpression</a><code>)</code>  <code>|</code> <code>(</code> "IN" <a href="#sp-grammar-production-ExpressionList">ExpressionList</a><code>)</code>  <code>|</code> <code>(</code> "NOT" "IN" <a href="#sp-grammar-production-ExpressionList">ExpressionList</a><code>)</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-NumericExpression">
      <td>[115]</td>
      <td><code>NumericExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-AdditiveExpression">AdditiveExpression</a></td>
    </tr>
    <tr id="sp-grammar-production-AdditiveExpression">
      <td>[116]</td>
      <td><code>AdditiveExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-MultiplicativeExpression">MultiplicativeExpression</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td></td>
      <td><code>(</code> <code>(</code> "<code class="grammar-literal">+</code>" <a href="#sp-grammar-production-MultiplicativeExpression">MultiplicativeExpression</a><code>)</code><code>(</code> "<code class="grammar-literal">-</code>" <a href="#sp-grammar-production-MultiplicativeExpression">MultiplicativeExpression</a><code>)</code>  <code>|</code> <code>(</code> <code>(</code> <a href="#sp-grammar-production-NumericLiteralPositive">NumericLiteralPositive</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteralNegative">NumericLiteralNegative</a><code>)</code>  <code>(</code> <code>(</code> "<code class="grammar-literal">*</code>" <a href="#sp-grammar-production-UnaryExpression">UnaryExpression</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">/</code>" <a href="#sp-grammar-production-UnaryExpression">UnaryExpression</a><code>)</code> <code>)</code> <code>?</code> <code>)</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-MultiplicativeExpression">
      <td>[117]</td>
      <td><code>MultiplicativeExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-UnaryExpression">UnaryExpression</a> <code>(</code> <code>(</code> "<code class="grammar-literal">*</code>" <a href="#sp-grammar-production-UnaryExpression">UnaryExpression</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">/</code>" <a href="#sp-grammar-production-UnaryExpression">UnaryExpression</a><code>)</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-UnaryExpression">
      <td>[118]</td>
      <td><code>UnaryExpression</code></td>
      <td>::=</td>
      <td><code>(</code> "<code class="grammar-literal">!</code>" <a href="#sp-grammar-production-PrimaryExpression">PrimaryExpression</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">+</code>" <a href="#sp-grammar-production-PrimaryExpression">PrimaryExpression</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">-</code>" <a href="#sp-grammar-production-PrimaryExpression">PrimaryExpression</a><code>)</code>  <code>|</code> <a href="#sp-grammar-production-PrimaryExpression">PrimaryExpression</a></td>
    </tr>
    <tr id="sp-grammar-production-PrimaryExpression">
      <td>[119]</td>
      <td><code>PrimaryExpression</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-BrackettedExpression">BrackettedExpression</a> <code>|</code> <a href="#sp-grammar-production-BuiltInCall">BuiltInCall</a> <code>|</code> <a href="#sp-grammar-production-iriOrFunction">iriOrFunction</a> <code>|</code> <a href="#sp-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#sp-grammar-production-BooleanLiteral">BooleanLiteral</a> <code>|</code> <a href="#sp-grammar-production-Var">Var</a> <code>|</code> <a href="#sp-grammar-production-ExprQuotedTP">ExprQuotedTP</a></td>
    </tr>
    <tr id="sp-grammar-production-BrackettedExpression">
      <td>[120]</td>
      <td><code>BrackettedExpression</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-BuiltInCall">
      <td>[121]</td>
      <td><code>BuiltInCall</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Aggregate">Aggregate</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STR" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "LANG" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "LANGMATCHES" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "DATATYPE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "BOUND" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Var">Var</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "IRI" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "URI" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "BNODE" <code>(</code> <code>(</code> "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code>  <code>|</code> <a href="#sp-grammar-production-NIL">NIL</a><code>)</code> <code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "RAND" <a href="#sp-grammar-production-NIL">NIL</a><code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "ABS" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "CEIL" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "FLOOR" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "ROUND" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "CONCAT" <a href="#sp-grammar-production-ExpressionList">ExpressionList</a><code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><a href="#sp-grammar-production-SubstringExpression">SubstringExpression</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRLEN" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><a href="#sp-grammar-production-StrReplaceExpression">StrReplaceExpression</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "UCASE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "LCASE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "ENCODE_FOR_URI" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "CONTAINS" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRSTARTS" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRENDS" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRBEFORE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRAFTER" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "YEAR" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "MONTH" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "DAY" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "HOURS" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "MINUTES" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SECONDS" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "TIMEZONE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "TZ" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "NOW" <a href="#sp-grammar-production-NIL">NIL</a><code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "UUID" <a href="#sp-grammar-production-NIL">NIL</a><code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRUUID" <a href="#sp-grammar-production-NIL">NIL</a><code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "MD5" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SHA1" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SHA224" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SHA256" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SHA384" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SHA512" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "COALESCE" <a href="#sp-grammar-production-ExpressionList">ExpressionList</a><code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "IF" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRLANG" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "STRDT" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "sameTerm" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "isIRI" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "isURI" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "isBLANK" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "isLITERAL" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "isNUMERIC" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "TRIPLE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SUBJECT" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "PREDICATE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "OBJECT" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "isTRIPLE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><a href="#sp-grammar-production-RegexExpression">RegexExpression</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><a href="#sp-grammar-production-ExistsFunc">ExistsFunc</a></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><a href="#sp-grammar-production-NotExistsFunc">NotExistsFunc</a></td>
    </tr>
    <tr id="sp-grammar-production-RegexExpression">
      <td>[122]</td>
      <td><code>RegexExpression</code></td>
      <td>::=</td>
      <td>"REGEX" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a><code>)</code> <code>?</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-SubstringExpression">
      <td>[123]</td>
      <td><code>SubstringExpression</code></td>
      <td>::=</td>
      <td>"SUBSTR" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a><code>)</code> <code>?</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-StrReplaceExpression">
      <td>[124]</td>
      <td><code>StrReplaceExpression</code></td>
      <td>::=</td>
      <td>"REPLACE" "<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "<code class="grammar-literal">,</code>" <a href="#sp-grammar-production-Expression">Expression</a><code>)</code> <code>?</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-ExistsFunc">
      <td>[125]</td>
      <td><code>ExistsFunc</code></td>
      <td>::=</td>
      <td>"EXISTS" <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-NotExistsFunc">
      <td>[126]</td>
      <td><code>NotExistsFunc</code></td>
      <td>::=</td>
      <td>"NOT" "EXISTS" <a href="#sp-grammar-production-GroupGraphPattern">GroupGraphPattern</a></td>
    </tr>
    <tr id="sp-grammar-production-Aggregate">
      <td>[127]</td>
      <td><code>Aggregate</code></td>
      <td>::=</td>
      <td><code>(</code> "COUNT" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <code>(</code> "<code class="grammar-literal">*</code>"<a href="#sp-grammar-production-Expression">Expression</a><code>)</code>  "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SUM" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "MIN" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "MAX" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "AVG" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "SAMPLE" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> "<code class="grammar-literal">)</code>"<code>)</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>(</code> "GROUP_CONCAT" "<code class="grammar-literal">(</code>" "DISTINCT"<code>?</code>  <a href="#sp-grammar-production-Expression">Expression</a> <code>(</code> "<code class="grammar-literal">;</code>" "SEPARATOR" "<code class="grammar-literal">=</code>" <a href="#sp-grammar-production-String">String</a><code>)</code> <code>?</code>  "<code class="grammar-literal">)</code>"<code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-iriOrFunction">
      <td>[128]</td>
      <td><code>iriOrFunction</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <a href="#sp-grammar-production-ArgList">ArgList</a><code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-RDFLiteral">
      <td>[129]</td>
      <td><code>RDFLiteral</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-String">String</a> <code>(</code> <a href="#sp-grammar-production-LANGTAG">LANGTAG</a> <code>|</code> <code>(</code> "^^" <a href="#sp-grammar-production-iri">iri</a><code>)</code> <code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-NumericLiteral">
      <td>[130]</td>
      <td><code>NumericLiteral</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-NumericLiteralUnsigned">NumericLiteralUnsigned</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteralPositive">NumericLiteralPositive</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteralNegative">NumericLiteralNegative</a></td>
    </tr>
    <tr id="sp-grammar-production-NumericLiteralUnsigned">
      <td>[131]</td>
      <td><code>NumericLiteralUnsigned</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-INTEGER">INTEGER</a> <code>|</code> <a href="#sp-grammar-production-DECIMAL">DECIMAL</a> <code>|</code> <a href="#sp-grammar-production-DOUBLE">DOUBLE</a></td>
    </tr>
    <tr id="sp-grammar-production-NumericLiteralPositive">
      <td>[132]</td>
      <td><code>NumericLiteralPositive</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-INTEGER_POSITIVE">INTEGER_POSITIVE</a> <code>|</code> <a href="#sp-grammar-production-DECIMAL_POSITIVE">DECIMAL_POSITIVE</a> <code>|</code> <a href="#sp-grammar-production-DOUBLE_POSITIVE">DOUBLE_POSITIVE</a></td>
    </tr>
    <tr id="sp-grammar-production-NumericLiteralNegative">
      <td>[133]</td>
      <td><code>NumericLiteralNegative</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-INTEGER_NEGATIVE">INTEGER_NEGATIVE</a> <code>|</code> <a href="#sp-grammar-production-DECIMAL_NEGATIVE">DECIMAL_NEGATIVE</a> <code>|</code> <a href="#sp-grammar-production-DOUBLE_NEGATIVE">DOUBLE_NEGATIVE</a></td>
    </tr>
    <tr id="sp-grammar-production-BooleanLiteral">
      <td>[134]</td>
      <td><code>BooleanLiteral</code></td>
      <td>::=</td>
      <td>"true" <code>|</code> "false"</td>
    </tr>
    <tr id="sp-grammar-production-String">
      <td>[135]</td>
      <td><code>String</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-STRING_LITERAL1">STRING_LITERAL1</a> <code>|</code> <a href="#sp-grammar-production-STRING_LITERAL2">STRING_LITERAL2</a> <code>|</code> <a href="#sp-grammar-production-STRING_LITERAL_LONG1">STRING_LITERAL_LONG1</a> <code>|</code> <a href="#sp-grammar-production-STRING_LITERAL_LONG2">STRING_LITERAL_LONG2</a></td>
    </tr>
    <tr id="sp-grammar-production-iri">
      <td>[136]</td>
      <td><code>iri</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-IRIREF">IRIREF</a> <code>|</code> <a href="#sp-grammar-production-PrefixedName">PrefixedName</a></td>
    </tr>
    <tr id="sp-grammar-production-PrefixedName">
      <td>[137]</td>
      <td><code>PrefixedName</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PNAME_LN">PNAME_LN</a> <code>|</code> <a href="#sp-grammar-production-PNAME_NS">PNAME_NS</a></td>
    </tr>
    <tr id="sp-grammar-production-BlankNode">
      <td>[138]</td>
      <td><code>BlankNode</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-BLANK_NODE_LABEL">BLANK_NODE_LABEL</a> <code>|</code> <a href="#sp-grammar-production-ANON">ANON</a></td>
    </tr>
    <tr id="sp-grammar-production-QuotedTP">
      <td>[174]</td>
      <td><code>QuotedTP</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#sp-grammar-production-qtSubjectOrObject">qtSubjectOrObject</a> <a href="#sp-grammar-production-Verb">Verb</a> <a href="#sp-grammar-production-qtSubjectOrObject">qtSubjectOrObject</a> "&gt;&gt;"</td>
    </tr>
    <tr id="sp-grammar-production-QuotedTriple">
      <td>[175]</td>
      <td><code>QuotedTriple</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#sp-grammar-production-DataValueTerm">DataValueTerm</a> <code>(</code> <a href="#sp-grammar-production-iri">iri</a> <code>|</code> "<code class="grammar-literal">a</code>"<code>)</code>  <a href="#sp-grammar-production-DataValueTerm">DataValueTerm</a> "&gt;&gt;"</td>
    </tr>
    <tr id="sp-grammar-production-qtSubjectOrObject">
      <td>[176]</td>
      <td><code>qtSubjectOrObject</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Var">Var</a> <code>|</code> <a href="#sp-grammar-production-BlankNode">BlankNode</a> <code>|</code> <a href="#sp-grammar-production-iri">iri</a> <code>|</code> <a href="#sp-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#sp-grammar-production-BooleanLiteral">BooleanLiteral</a> <code>|</code> <a href="#sp-grammar-production-QuotedTP">QuotedTP</a></td>
    </tr>
    <tr id="sp-grammar-production-DataValueTerm">
      <td>[177]</td>
      <td><code>DataValueTerm</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <code>|</code> <a href="#sp-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#sp-grammar-production-BooleanLiteral">BooleanLiteral</a> <code>|</code> <a href="#sp-grammar-production-QuotedTriple">QuotedTriple</a></td>
    </tr>
    <tr id="sp-grammar-production-VarOrTermOrQuotedTP">
      <td>[178]</td>
      <td><code>VarOrTermOrQuotedTP</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-Var">Var</a> <code>|</code> <a href="#sp-grammar-production-GraphTerm">GraphTerm</a> <code>|</code> <a href="#sp-grammar-production-QuotedTP">QuotedTP</a></td>
    </tr>
    <tr id="sp-grammar-production-AnnotationPattern">
      <td>[179]</td>
      <td><code>AnnotationPattern</code></td>
      <td>::=</td>
      <td>"{|" <a href="#sp-grammar-production-PropertyListNotEmpty">PropertyListNotEmpty</a> "|}"</td>
    </tr>
    <tr id="sp-grammar-production-AnnotationPatternPath">
      <td>[180]</td>
      <td><code>AnnotationPatternPath</code></td>
      <td>::=</td>
      <td>"{|" <a href="#sp-grammar-production-PropertyListPathNotEmpty">PropertyListPathNotEmpty</a> "|}"</td>
    </tr>
    <tr id="sp-grammar-production-ExprQuotedTP">
      <td>[181]</td>
      <td><code>ExprQuotedTP</code></td>
      <td>::=</td>
      <td>"&lt;&lt;" <a href="#sp-grammar-production-ExprVarOrTerm">ExprVarOrTerm</a> <a href="#sp-grammar-production-Verb">Verb</a> <a href="#sp-grammar-production-ExprVarOrTerm">ExprVarOrTerm</a> "&gt;&gt;"</td>
    </tr>
    <tr id="sp-grammar-production-ExprVarOrTerm">
      <td>[182]</td>
      <td><code>ExprVarOrTerm</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-iri">iri</a> <code>|</code> <a href="#sp-grammar-production-RDFLiteral">RDFLiteral</a> <code>|</code> <a href="#sp-grammar-production-NumericLiteral">NumericLiteral</a> <code>|</code> <a href="#sp-grammar-production-BooleanLiteral">BooleanLiteral</a> <code>|</code> <a href="#sp-grammar-production-Var">Var</a> <code>|</code> <a href="#sp-grammar-production-ExprQuotedTP">ExprQuotedTP</a></td>
    </tr>
    <tr>
      <td colspan="2">@terminals</td>
      <td></td>
      <td><strong># Productions for terminals</strong></td>
    </tr>
    <tr id="sp-grammar-production-IRIREF">
      <td>[139]</td>
      <td><code>IRIREF</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">&lt;</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^&lt;&gt;"{}|^`\</code><code>]</code>  <code>-</code> <code>[</code> <code class="grammar-char-escape"><abbr title="null">#x00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code><code>]</code> <code>)</code> <code>*</code>  "<code class="grammar-literal">&gt;</code>"</td>
    </tr>
    <tr id="sp-grammar-production-PNAME_NS">
      <td>[140]</td>
      <td><code>PNAME_NS</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PN_PREFIX">PN_PREFIX</a><code>?</code>  "<code class="grammar-literal">:</code>"</td>
    </tr>
    <tr id="sp-grammar-production-PNAME_LN">
      <td>[141]</td>
      <td><code>PNAME_LN</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PNAME_NS">PNAME_NS</a> <a href="#sp-grammar-production-PN_LOCAL">PN_LOCAL</a></td>
    </tr>
    <tr id="sp-grammar-production-BLANK_NODE_LABEL">
      <td>[142]</td>
      <td><code>BLANK_NODE_LABEL</code></td>
      <td>::=</td>
      <td>"_:" <code>(</code> <a href="#sp-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <code>(</code> <a href="#sp-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#sp-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-VAR1">
      <td>[143]</td>
      <td><code>VAR1</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">?</code>" <a href="#sp-grammar-production-VARNAME">VARNAME</a></td>
    </tr>
    <tr id="sp-grammar-production-VAR2">
      <td>[144]</td>
      <td><code>VAR2</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">$</code>" <a href="#sp-grammar-production-VARNAME">VARNAME</a></td>
    </tr>
    <tr id="sp-grammar-production-LANGTAG">
      <td>[145]</td>
      <td><code>LANGTAG</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">@</code>" <code>[</code> <code class="grammar-literal">a-zA-Z</code><code>]</code> <code>+</code>  <code>(</code> "<code class="grammar-literal">-</code>" <code>[</code> <code class="grammar-literal">a-zA-Z0-9</code><code>]</code> <code>+</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-INTEGER">
      <td>[146]</td>
      <td><code>INTEGER</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="sp-grammar-production-DECIMAL">
      <td>[147]</td>
      <td><code>DECIMAL</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>*</code>  "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="sp-grammar-production-DOUBLE">
      <td>[148]</td>
      <td><code>DOUBLE</code></td>
      <td>::=</td>
      <td><code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>*</code>  <a href="#sp-grammar-production-EXPONENT">EXPONENT</a><code>)</code>  <code>|</code> <code>(</code> "<code class="grammar-literal">.</code>" <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  <a href="#sp-grammar-production-EXPONENT">EXPONENT</a><code>)</code>  <code>|</code> <code>(</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code>  <a href="#sp-grammar-production-EXPONENT">EXPONENT</a><code>)</code> </td>
    </tr>
    <tr id="sp-grammar-production-INTEGER_POSITIVE">
      <td>[149]</td>
      <td><code>INTEGER_POSITIVE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">+</code>" <a href="#sp-grammar-production-INTEGER">INTEGER</a></td>
    </tr>
    <tr id="sp-grammar-production-DECIMAL_POSITIVE">
      <td>[150]</td>
      <td><code>DECIMAL_POSITIVE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">+</code>" <a href="#sp-grammar-production-DECIMAL">DECIMAL</a></td>
    </tr>
    <tr id="sp-grammar-production-DOUBLE_POSITIVE">
      <td>[151]</td>
      <td><code>DOUBLE_POSITIVE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">+</code>" <a href="#sp-grammar-production-DOUBLE">DOUBLE</a></td>
    </tr>
    <tr id="sp-grammar-production-INTEGER_NEGATIVE">
      <td>[152]</td>
      <td><code>INTEGER_NEGATIVE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">-</code>" <a href="#sp-grammar-production-INTEGER">INTEGER</a></td>
    </tr>
    <tr id="sp-grammar-production-DECIMAL_NEGATIVE">
      <td>[153]</td>
      <td><code>DECIMAL_NEGATIVE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">-</code>" <a href="#sp-grammar-production-DECIMAL">DECIMAL</a></td>
    </tr>
    <tr id="sp-grammar-production-DOUBLE_NEGATIVE">
      <td>[154]</td>
      <td><code>DOUBLE_NEGATIVE</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">-</code>" <a href="#sp-grammar-production-DOUBLE">DOUBLE</a></td>
    </tr>
    <tr id="sp-grammar-production-EXPONENT">
      <td>[155]</td>
      <td><code>EXPONENT</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">eE</code><code>]</code>  <code>[</code> <code class="grammar-literal">+-</code><code>]</code> <code>?</code>  <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>+</code> </td>
    </tr>
    <tr id="sp-grammar-production-STRING_LITERAL1">
      <td>[156]</td>
      <td><code>STRING_LITERAL1</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">'</code>" <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="ascii '''">#x27</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#sp-grammar-production-ECHAR">ECHAR</a><code>)</code> <code>*</code>  "<code class="grammar-literal">'</code>"</td>
    </tr>
    <tr id="sp-grammar-production-STRING_LITERAL2">
      <td>[157]</td>
      <td><code>STRING_LITERAL2</code></td>
      <td>::=</td>
      <td>'<code class="grammar-literal">"</code>' <code>(</code> <code>[</code> <code class="grammar-literal">^</code><code class="grammar-char-escape"><abbr title="quot">&gt;"</abbr></code><code class="grammar-char-escape"><abbr title="ascii '\'">#x5C</abbr></code><code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code><code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code><code>]</code>  <code>|</code> <a href="#sp-grammar-production-ECHAR">ECHAR</a><code>)</code> <code>*</code>  '<code class="grammar-literal">"</code>'</td>
    </tr>
    <tr id="sp-grammar-production-STRING_LITERAL_LONG1">
      <td>[158]</td>
      <td><code>STRING_LITERAL_LONG1</code></td>
      <td>::=</td>
      <td>"'''" <code>(</code> <code>(</code> "<code class="grammar-literal">'</code>" <code>|</code> "''"<code>)</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">^'\</code><code>]</code>  <code>|</code> <a href="#sp-grammar-production-ECHAR">ECHAR</a><code>)</code> <code>)</code> <code>*</code>  "'''"</td>
    </tr>
    <tr id="sp-grammar-production-STRING_LITERAL_LONG2">
      <td>[159]</td>
      <td><code>STRING_LITERAL_LONG2</code></td>
      <td>::=</td>
      <td>'"""' <code>(</code> <code>(</code> '<code class="grammar-literal">"</code>' <code>|</code> '""'<code>)</code> <code>?</code>  <code>(</code> <code>[</code> <code class="grammar-literal">^"\</code><code>]</code>  <code>|</code> <a href="#sp-grammar-production-ECHAR">ECHAR</a><code>)</code> <code>)</code> <code>*</code>  '"""'</td>
    </tr>
    <tr id="sp-grammar-production-ECHAR">
      <td>[160]</td>
      <td><code>ECHAR</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>[</code> <code class="grammar-literal">tbnrf\"'</code><code>]</code> </td>
    </tr>
    <tr id="sp-grammar-production-NIL">
      <td>[161]</td>
      <td><code>NIL</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">(</code>" <a href="#sp-grammar-production-WS">WS</a><code>*</code>  "<code class="grammar-literal">)</code>"</td>
    </tr>
    <tr id="sp-grammar-production-WS">
      <td>[162]</td>
      <td><code>WS</code></td>
      <td>::=</td>
      <td><code class="grammar-char-escape"><abbr title="space">#x20</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="horizontal tab">#x09</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="carriage return">#x0D</abbr></code> <code>|</code> <code class="grammar-char-escape"><abbr title="new line">#x0A</abbr></code></td>
    </tr>
    <tr id="sp-grammar-production-ANON">
      <td>[163]</td>
      <td><code>ANON</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">[</code>" <a href="#sp-grammar-production-WS">WS</a><code>*</code>  "<code class="grammar-literal">]</code>"</td>
    </tr>
    <tr id="sp-grammar-production-PN_CHARS_BASE">
      <td>[164]</td>
      <td><code>PN_CHARS_BASE</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">A-Z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-literal">a-z</code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xC0'">#xC0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xD6'">#xD6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xD8'">#xD8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="extended ascii '#xF6'">#xF6</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xF8'">#xF8</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x02FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0370</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x037F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x1FFF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200C</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Format'">#x200D</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2070</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x218F</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2C00</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#x2FEF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x3001</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Reserved'">#xD7FF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xF900</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDCF</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFDF0</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#xFFFD</abbr></code><code>]</code></td>
    </tr>
    <tr>
      <td colspan="2"></td>
      <td>|</td>
      <td><code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x00010000</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Noncharacter'">#x000EFFFF</abbr></code><code>]</code> </td>
    </tr>
    <tr id="sp-grammar-production-PN_CHARS_U">
      <td>[165]</td>
      <td><code>PN_CHARS_U</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>|</code> "<code class="grammar-literal">_</code>"</td>
    </tr>
    <tr id="sp-grammar-production-VARNAME">
      <td>[166]</td>
      <td><code>VARNAME</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <a href="#sp-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xB7'">#xB7</abbr></code> <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0300</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x036F</abbr></code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x203F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2040</abbr></code><code>]</code> <code>)</code> <code>*</code> </td>
    </tr>
    <tr id="sp-grammar-production-PN_CHARS">
      <td>[167]</td>
      <td><code>PN_CHARS</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code class="grammar-char-escape"><abbr title="extended ascii '#xB7'">#xB7</abbr></code> <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x0300</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x036F</abbr></code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x203F</abbr></code><code class="grammar-literal">-</code><code class="grammar-char-escape"><abbr title="unicode 'Graphic'">#x2040</abbr></code><code>]</code> </td>
    </tr>
    <tr id="sp-grammar-production-PN_PREFIX">
      <td>[168]</td>
      <td><code>PN_PREFIX</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PN_CHARS_BASE">PN_CHARS_BASE</a> <code>(</code> <code>(</code> <a href="#sp-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#sp-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-PN_LOCAL">
      <td>[169]</td>
      <td><code>PN_LOCAL</code></td>
      <td>::=</td>
      <td><code>(</code> <a href="#sp-grammar-production-PN_CHARS_U">PN_CHARS_U</a> <code>|</code> <code>[</code> <code class="grammar-literal">0-9</code><code>]</code> <code>)</code>  <code>(</code> <code>(</code> <a href="#sp-grammar-production-PN_CHARS">PN_CHARS</a> <code>|</code> "<code class="grammar-literal">.</code>"<code>)</code> <code>*</code>  <a href="#sp-grammar-production-PN_CHARS">PN_CHARS</a><code>)</code> <code>?</code> </td>
    </tr>
    <tr id="sp-grammar-production-PLX">
      <td>[170]</td>
      <td><code>PLX</code></td>
      <td>::=</td>
      <td><a href="#sp-grammar-production-PERCENT">PERCENT</a> <code>|</code> <a href="#sp-grammar-production-PN_LOCAL_ESC">PN_LOCAL_ESC</a></td>
    </tr>
    <tr id="sp-grammar-production-PERCENT">
      <td>[171]</td>
      <td><code>PERCENT</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">%</code>" <a href="#sp-grammar-production-HEX">HEX</a> <a href="#sp-grammar-production-HEX">HEX</a></td>
    </tr>
    <tr id="sp-grammar-production-HEX">
      <td>[172]</td>
      <td><code>HEX</code></td>
      <td>::=</td>
      <td><code>[</code> <code class="grammar-literal">0-9</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">A-F</code><code>]</code>  <code>|</code> <code>[</code> <code class="grammar-literal">a-f</code><code>]</code> </td>
    </tr>
    <tr id="sp-grammar-production-PN_LOCAL_ESC">
      <td>[173]</td>
      <td><code>PN_LOCAL_ESC</code></td>
      <td>::=</td>
      <td>"<code class="grammar-literal">\</code>" <code>(</code> "<code class="grammar-literal">_</code>" <code>|</code> "<code class="grammar-literal">~</code>" <code>|</code> "<code class="grammar-literal">.</code>" <code>|</code> "<code class="grammar-literal">-</code>" <code>|</code> "<code class="grammar-literal">!</code>" <code>|</code> "<code class="grammar-literal">$</code>" <code>|</code> "<code class="grammar-literal">&amp;</code>" <code>|</code> "<code class="grammar-literal">'</code>" <code>|</code> "<code class="grammar-literal">(</code>" <code>|</code> "<code class="grammar-literal">)</code>" <code>|</code> "<code class="grammar-literal">*</code>" <code>|</code> "<code class="grammar-literal">+</code>" <code>|</code> "<code class="grammar-literal">,</code>" <code>|</code> "<code class="grammar-literal">;</code>" <code>|</code> "<code class="grammar-literal">=</code>" <code>|</code> "<code class="grammar-literal">/</code>" <code>|</code> "<code class="grammar-literal">?</code>" <code>|</code> "<code class="grammar-literal">#</code>" <code>|</code> "<code class="grammar-literal">@</code>" <code>|</code> "<code class="grammar-literal">%</code>"<code>)</code> </td>
    </tr>
  </tbody>
</table>
    
</div>
  </section>
  </section>

  <section class="appendix informative" id="issue-summary"><h2 id="d-issue-summary"><bdi class="secno">D. </bdi>Issue Summary<a class="self-link" href="#issue-summary" aria-label="Permalink for Appendix D."></a></h2><p><em>This section is non-normative.</em></p>
    
  <ul><li><a href="#issue-container-number-169">Issue 169</a><span style="text-transform: none">: Occurrences vocabulary</span></li><li><a href="#issue-container-number-43">Issue 43</a><span style="text-transform: none">: New mime types for RDF-star serializations (inc. SPARQL results)</span></li></ul></section>


<section id="references" class="appendix"><h2 id="e-references"><bdi class="secno">E. </bdi>References<a class="self-link" href="#references" aria-label="Permalink for Appendix E."></a></h2><section id="normative-references">
    <h3 id="e-1-normative-references"><bdi class="secno">E.1 </bdi>Normative references<a class="self-link" href="#normative-references" aria-label="Permalink for Appendix E.1"></a></h3>
    <dl class="bibliography"><dt id="bib-n-quads">[N-QUADS]</dt><dd><a href="https://www.w3.org/TR/n-quads/"><cite>RDF 1.1 N-Quads</cite></a>. Gavin Carothers.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/n-quads/">https://www.w3.org/TR/n-quads/</a></dd><dt id="bib-n-triples">[N-TRIPLES]</dt><dd><a href="https://www.w3.org/TR/n-triples/"><cite>RDF 1.1 N-Triples</cite></a>. Gavin Carothers; Andy Seaborne.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/n-triples/">https://www.w3.org/TR/n-triples/</a></dd><dt id="bib-rdf-sparql-xmlres">[RDF-SPARQL-XMLRES]</dt><dd><a href="https://www.w3.org/TR/rdf-sparql-XMLres/"><cite>SPARQL Query Results XML Format (Second Edition)</cite></a>. Dave Beckett; Jeen Broekstra.  W3C. 21 March 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf-sparql-XMLres/">https://www.w3.org/TR/rdf-sparql-XMLres/</a></dd><dt id="bib-rdf11-concepts">[RDF11-CONCEPTS]</dt><dd><a href="https://www.w3.org/TR/rdf11-concepts/"><cite>RDF 1.1 Concepts and Abstract Syntax</cite></a>. Richard Cyganiak; David Wood; Markus Lanthaler.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf11-concepts/">https://www.w3.org/TR/rdf11-concepts/</a></dd><dt id="bib-rdf11-mt">[RDF11-MT]</dt><dd><a href="https://www.w3.org/TR/rdf11-mt/"><cite>RDF 1.1 Semantics</cite></a>. Patrick Hayes; Peter Patel-Schneider.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf11-mt/">https://www.w3.org/TR/rdf11-mt/</a></dd><dt id="bib-rfc2119">[RFC2119]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner.  IETF. March 1997. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a></dd><dt id="bib-rfc8174">[RFC8174]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc8174"><cite>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</cite></a>. B. Leiba.  IETF. May 2017. Best Current Practice. URL: <a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a></dd><dt id="bib-sparql11-query">[SPARQL11-QUERY]</dt><dd><a href="https://www.w3.org/TR/sparql11-query/"><cite>SPARQL 1.1 Query Language</cite></a>. Steven Harris; Andy Seaborne.  W3C. 21 March 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/sparql11-query/">https://www.w3.org/TR/sparql11-query/</a></dd><dt id="bib-sparql11-results-json">[SPARQL11-RESULTS-JSON]</dt><dd><a href="https://www.w3.org/TR/sparql11-results-json/"><cite>SPARQL 1.1 Query Results JSON Format</cite></a>. Andy Seaborne.  W3C. 21 March 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/sparql11-results-json/">https://www.w3.org/TR/sparql11-results-json/</a></dd><dt id="bib-sparql11-update">[SPARQL11-UPDATE]</dt><dd><a href="https://www.w3.org/TR/sparql11-update/"><cite>SPARQL 1.1 Update</cite></a>. Paula Gearon; Alexandre Passant; Axel Polleres.  W3C. 21 March 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/sparql11-update/">https://www.w3.org/TR/sparql11-update/</a></dd><dt id="bib-trig">[TRIG]</dt><dd><a href="https://www.w3.org/TR/trig/"><cite>RDF 1.1 TriG</cite></a>. Gavin Carothers; Andy Seaborne.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/trig/">https://www.w3.org/TR/trig/</a></dd><dt id="bib-turtle">[TURTLE]</dt><dd><a href="https://www.w3.org/TR/turtle/"><cite>RDF 1.1 Turtle</cite></a>. Eric Prud'hommeaux; Gavin Carothers.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/turtle/">https://www.w3.org/TR/turtle/</a></dd><dt id="bib-xml">[XML]</dt><dd><a href="https://www.w3.org/TR/xml/"><cite>Extensible Markup Language (XML) 1.0 (Fifth Edition)</cite></a>. Tim Bray; Jean Paoli; Michael Sperberg-McQueen; Eve Maler; François Yergeau et al.  W3C. 26 November 2008. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xml/">https://www.w3.org/TR/xml/</a></dd><dt id="bib-xpath-functions">[XPATH-FUNCTIONS]</dt><dd><a href="https://www.w3.org/TR/xpath-functions/"><cite>XQuery 1.0 and XPath 2.0 Functions and Operators (Second Edition)</cite></a>. Ashok Malhotra; Jim Melton; Norman Walsh; Michael Kay.  W3C. 14 December 2010. W3C Recommendation. URL: <a href="https://www.w3.org/TR/xpath-functions/">https://www.w3.org/TR/xpath-functions/</a></dd></dl>
  </section><section id="informative-references">
    <h3 id="e-2-informative-references"><bdi class="secno">E.2 </bdi>Informative references<a class="self-link" href="#informative-references" aria-label="Permalink for Appendix E.2"></a></h3>
    <dl class="bibliography"><dt id="bib-dx-prof-conneg">[DX-PROF-CONNEG]</dt><dd><a href="https://www.w3.org/TR/dx-prof-conneg/"><cite>Content Negotiation by Profile</cite></a>. Lars G. Svensson; Nicholas Car.  W3C. 26 November 2019. W3C Working Draft. URL: <a href="https://www.w3.org/TR/dx-prof-conneg/">https://www.w3.org/TR/dx-prof-conneg/</a></dd><dt id="bib-ebnf-notation">[EBNF-NOTATION]</dt><dd><a href="http://www.w3.org/TR/REC-xml/#sec-notation"><cite>EBNF NOTATION</cite></a>. Tim Bray; Jean Paoli; C. M. Sperberg-McQueen; Eve Maler; François Yergeau.  W3C. 26 November 2008. W3C Recommendation. URL: <a href="http://www.w3.org/TR/REC-xml/#sec-notation">http://www.w3.org/TR/REC-xml/#sec-notation</a></dd><dt id="bib-json-ld">[JSON-LD]</dt><dd><a href="https://www.w3.org/TR/json-ld/"><cite>JSON-LD 1.0</cite></a>. Manu Sporny; Gregg Kellogg; Markus Lanthaler.  W3C. 3 November 2020. W3C Recommendation. URL: <a href="https://www.w3.org/TR/json-ld/">https://www.w3.org/TR/json-ld/</a></dd><dt id="bib-owl2-overview">[OWL2-Overview]</dt><dd><a href="https://www.w3.org/TR/owl2-overview/"><cite>OWL 2 Web Ontology Language Document Overview (Second Edition)</cite></a>. W3C OWL Working Group.  W3C. 11 December 2012. W3C Recommendation. URL: <a href="https://www.w3.org/TR/owl2-overview/">https://www.w3.org/TR/owl2-overview/</a></dd><dt id="bib-rdf-star-foundation">[RDF-STAR-FOUNDATION]</dt><dd><a href="http://ceur-ws.org/Vol-1912/paper12.pdf"><cite>Foundations of RDF* and SPARQL* - An Alternative Approach to Statement-Level Metadata in RDF.</cite></a>. Olaf Hartig.  In Proceedings of the 11th Alberto Mendelzon International Workshop on Foundations of Data Management (AMW), Montevideo, Uruguay. June 2017. URL: <a href="http://ceur-ws.org/Vol-1912/paper12.pdf">http://ceur-ws.org/Vol-1912/paper12.pdf</a></dd><dt id="bib-rdf-syntax-grammar">[RDF-SYNTAX-GRAMMAR]</dt><dd><a href="https://www.w3.org/TR/rdf-syntax-grammar/"><cite>RDF 1.1 XML Syntax</cite></a>. Fabien Gandon; Guus Schreiber.  W3C. 25 February 2014. W3C Recommendation. URL: <a href="https://www.w3.org/TR/rdf-syntax-grammar/">https://www.w3.org/TR/rdf-syntax-grammar/</a></dd><dt id="bib-sparql11-service-description">[SPARQL11-SERVICE-DESCRIPTION]</dt><dd><a href="https://www.w3.org/TR/sparql11-service-description/"><cite>SPARQL 1.1 Service Description</cite></a>. Gregory Williams.  W3C. 21 March 2013. W3C Recommendation. URL: <a href="https://www.w3.org/TR/sparql11-service-description/">https://www.w3.org/TR/sparql11-service-description/</a></dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-graph" aria-label="Links in this document to definition: RDF-star graph" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-graph" aria-label="Permalink for definition: RDF-star graph. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-graph-1" title="§ 2. Concepts and Abstract Syntax">§ 2. Concepts and Abstract Syntax</a> <a href="#ref-for-dfn-graph-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-graph-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-graph-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-graph-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-graph-6" title="Reference 6">(6)</a> <a href="#ref-for-dfn-graph-7" title="Reference 7">(7)</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-8" title="§ 3.1 Annotation Syntax">§ 3.1 Annotation Syntax</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-9" title="§ 3.2 Turtle-star">§ 3.2 Turtle-star</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-10" title="§ 3.2.2 Parsing">§ 3.2.2 Parsing</a> <a href="#ref-for-dfn-graph-11" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-12" title="§ 3.3 TriG-star">§ 3.3 TriG-star</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-13" title="§ 3.4.2 Parsing">§ 3.4.2 Parsing</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-14" title="§ 3.5 N-Quads-star">§ 3.5 N-Quads-star</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-15" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-16" title="§ 4.6 Evaluation Semantics">§ 4.6 Evaluation Semantics</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-17" title="§ 5.3 Semantics">§ 5.3 Semantics</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-18" title="§ 6. RDF-star Semantics">§ 6. RDF-star Semantics</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-19" title="§ 6.1 Mapping RDF-star abstract syntax to RDF">§ 6.1 Mapping RDF-star abstract syntax to RDF</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-20" title="§ 6.2 Entailment of RDF-star graphs">§ 6.2 Entailment of RDF-star graphs</a> <a href="#ref-for-dfn-graph-21" title="Reference 2">(2)</a> <a href="#ref-for-dfn-graph-22" title="Reference 3">(3)</a> <a href="#ref-for-dfn-graph-23" title="Reference 4">(4)</a> <a href="#ref-for-dfn-graph-24" title="Reference 5">(5)</a> <a href="#ref-for-dfn-graph-25" title="Reference 6">(6)</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-26" title="§ 6.3 Merging RDF-star graphs">§ 6.3 Merging RDF-star graphs</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-27" title="§ 6.4.1 Implementing the RDF-star semantics">§ 6.4.1 Implementing the RDF-star semantics</a> <a href="#ref-for-dfn-graph-28" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-29" title="§ 6.4.2 Combining RDF-star graphs">§ 6.4.2 Combining RDF-star graphs</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-30" title="§ 6.4.3 Other uses of the unstar mapping">§ 6.4.3 Other uses of the unstar mapping</a> <a href="#ref-for-dfn-graph-31" title="Reference 2">(2)</a> <a href="#ref-for-dfn-graph-32" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-33" title="§ 7.1 Core vocabulary">§ 7.1 Core vocabulary</a> <a href="#ref-for-dfn-graph-34" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-graph-35" title="§ 7.3 Vocabulary semantics">§ 7.3 Vocabulary semantics</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-triple" aria-label="Links in this document to definition: RDF-star triple" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-triple" aria-label="Permalink for definition: RDF-star triple. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-triple-1" title="§ 1.2 Overview">§ 1.2 Overview</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-2" title="§ 2. Concepts and Abstract Syntax">§ 2. Concepts and Abstract Syntax</a> <a href="#ref-for-dfn-triple-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-triple-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-triple-5" title="Reference 4">(4)</a> <a href="#ref-for-dfn-triple-6" title="Reference 5">(5)</a> <a href="#ref-for-dfn-triple-7" title="Reference 6">(6)</a> <a href="#ref-for-dfn-triple-8" title="Reference 7">(7)</a> <a href="#ref-for-dfn-triple-9" title="Reference 8">(8)</a> <a href="#ref-for-dfn-triple-10" title="Reference 9">(9)</a> <a href="#ref-for-dfn-triple-11" title="Reference 10">(10)</a> <a href="#ref-for-dfn-triple-12" title="Reference 11">(11)</a> <a href="#ref-for-dfn-triple-13" title="Reference 12">(12)</a> <a href="#ref-for-dfn-triple-14" title="Reference 13">(13)</a> <a href="#ref-for-dfn-triple-15" title="Reference 14">(14)</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-16" title="§ 2.3 Triples and occurrences">§ 2.3 Triples and occurrences</a> <a href="#ref-for-dfn-triple-17" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-18" title="§ 3.2.2 Parsing">§ 3.2.2 Parsing</a> <a href="#ref-for-dfn-triple-19" title="Reference 2">(2)</a> <a href="#ref-for-dfn-triple-20" title="Reference 3">(3)</a> <a href="#ref-for-dfn-triple-21" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-22" title="§ 3.4 N-Triples-star">§ 3.4 N-Triples-star</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-23" title="§ 3.4.2 Parsing">§ 3.4.2 Parsing</a> <a href="#ref-for-dfn-triple-24" title="Reference 2">(2)</a> <a href="#ref-for-dfn-triple-25" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-26" title="§ 3.5 N-Quads-star">§ 3.5 N-Quads-star</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-27" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> <a href="#ref-for-dfn-triple-28" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-29" title="§ 4.2 Grammar">§ 4.2 Grammar</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-30" title="§ 4.4 Function and Operator Definitions">§ 4.4 Function and Operator Definitions</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-31" title="§ 4.4.1 TRIPLE">§ 4.4.1 TRIPLE</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-32" title="§ 4.4.2 SUBJECT">§ 4.4.2 SUBJECT</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-33" title="§ 4.4.3 PREDICATE">§ 4.4.3 PREDICATE</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-34" title="§ 4.4.4 OBJECT">§ 4.4.4 OBJECT</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-35" title="§ 4.4.5 isTRIPLE">§ 4.4.5 isTRIPLE</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-36" title="§ 5.1.1 INSERT DATA">§ 5.1.1 INSERT DATA</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-37" title="§ 5.3 Semantics">§ 5.3 Semantics</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-38" title="§ 6.1 Mapping RDF-star abstract syntax to RDF">§ 6.1 Mapping RDF-star abstract syntax to RDF</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-39" title="§ 7.1 Core vocabulary">§ 7.1 Core vocabulary</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-rdf-star-terms" aria-label="Links in this document to definition: RDF-star terms" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-rdf-star-terms" aria-label="Permalink for definition: RDF-star terms. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-rdf-star-terms-1" title="§ 2.3 Triples and occurrences">§ 2.3 Triples and occurrences</a> 
  </li><li>
    <a href="#ref-for-dfn-rdf-star-terms-2" title="§ 3.2.2 Parsing">§ 3.2.2 Parsing</a> <a href="#ref-for-dfn-rdf-star-terms-3" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-rdf-star-terms-4" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> <a href="#ref-for-dfn-rdf-star-terms-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-rdf-star-terms-6" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-rdf-star-terms-7" title="§ 4.4 Function and Operator Definitions">§ 4.4 Function and Operator Definitions</a> <a href="#ref-for-dfn-rdf-star-terms-8" title="Reference 2">(2)</a> <a href="#ref-for-dfn-rdf-star-terms-9" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-rdf-star-terms-10" title="§ 4.4.8 sparql-compare">§ 4.4.8 sparql-compare</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-constituent" aria-label="Links in this document to definition: constituent terms" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-constituent" aria-label="Permalink for definition: constituent terms. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-constituent-1" title="§ 2. Concepts and Abstract Syntax">§ 2. Concepts and Abstract Syntax</a> <a href="#ref-for-dfn-constituent-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-constituent-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-constituent-4" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-constituent-5" title="§ 6.1 Mapping RDF-star abstract syntax to RDF">§ 6.1 Mapping RDF-star abstract syntax to RDF</a> <a href="#ref-for-dfn-constituent-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-constituent-7" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-constituent-8" title="§ 6.3 Merging RDF-star graphs">§ 6.3 Merging RDF-star graphs</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-quoted" aria-label="Links in this document to definition: quoted triple" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-quoted" aria-label="Permalink for definition: quoted triple. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-quoted-1" title="§ 1.2 Overview">§ 1.2 Overview</a> <a href="#ref-for-dfn-quoted-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-3" title="§ 1.3 Common misconceptions">§ 1.3 Common misconceptions</a> <a href="#ref-for-dfn-quoted-4" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-5" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-6" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-7" title="§ 1.6 Conformance">§ 1.6 Conformance</a> <a href="#ref-for-dfn-quoted-8" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-9" title="§ 2. Concepts and Abstract Syntax">§ 2. Concepts and Abstract Syntax</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-10" title="§ 2.1 Quoted and Asserted Triples">§ 2.1 Quoted and Asserted Triples</a> <a href="#ref-for-dfn-quoted-11" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-12" title="§ 2.2 RDF-star Graph Examples">§ 2.2 RDF-star Graph Examples</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-13" title="§ 2.3 Triples and occurrences">§ 2.3 Triples and occurrences</a> <a href="#ref-for-dfn-quoted-14" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-15" title="§ 3.1 Annotation Syntax">§ 3.1 Annotation Syntax</a> <a href="#ref-for-dfn-quoted-16" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-17" title="§ 3.2.1 Grammar">§ 3.2.1 Grammar</a> <a href="#ref-for-dfn-quoted-18" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-19" title="§ 3.2.2 Parsing">§ 3.2.2 Parsing</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-20" title="§ 3.2.2.1 Discussion">§ 3.2.2.1 Discussion</a> <a href="#ref-for-dfn-quoted-21" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-22" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-23" title="§ 3.3 TriG-star">§ 3.3 TriG-star</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-24" title="§ 3.3.2 Parsing">§ 3.3.2 Parsing</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-25" title="§ 3.3.3 Discussion">§ 3.3.3 Discussion</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-26" title="§ 3.4 N-Triples-star">§ 3.4 N-Triples-star</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-27" title="§ 3.4.1 Grammar">§ 3.4.1 Grammar</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-28" title="§ 3.5 N-Quads-star">§ 3.5 N-Quads-star</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-29" title="§ 4.2 Grammar">§ 4.2 Grammar</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-30" title="§ 4.5 Examples and Discussion">§ 4.5 Examples and Discussion</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-31" title="§ 4.7 Query Result Formats">§ 4.7 Query Result Formats</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-32" title="§ 4.7.1 SPARQL-star Query Results JSON Format">§ 4.7.1 SPARQL-star Query Results JSON Format</a> <a href="#ref-for-dfn-quoted-33" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-34" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-35" title="§ 4.7.2 SPARQL-star Query Results XML Format">§ 4.7.2 SPARQL-star Query Results XML Format</a> <a href="#ref-for-dfn-quoted-36" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-37" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-38" title="§ 5.1.1 INSERT DATA">§ 5.1.1 INSERT DATA</a> <a href="#ref-for-dfn-quoted-39" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-40" title="§ 5.1.2 DELETE DATA">§ 5.1.2 DELETE DATA</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-41" title="§ 5.1.3 DELETE/INSERT">§ 5.1.3 DELETE/INSERT</a> <a href="#ref-for-dfn-quoted-42" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-43" title="§ 6.1 Mapping RDF-star abstract syntax to RDF">§ 6.1 Mapping RDF-star abstract syntax to RDF</a> <a href="#ref-for-dfn-quoted-44" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-45" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-46" title="Reference 4">(4)</a> <a href="#ref-for-dfn-quoted-47" title="Reference 5">(5)</a> <a href="#ref-for-dfn-quoted-48" title="Reference 6">(6)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-49" title="§ 6.2 Entailment of RDF-star graphs">§ 6.2 Entailment of RDF-star graphs</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-50" title="§ 6.4.2 Combining RDF-star graphs">§ 6.4.2 Combining RDF-star graphs</a> <a href="#ref-for-dfn-quoted-51" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-52" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-53" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-54" title="§ 6.4.3 Other uses of the unstar mapping">§ 6.4.3 Other uses of the unstar mapping</a> <a href="#ref-for-dfn-quoted-55" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-56" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-57" title="§ 6.4.4 Referential opacity">§ 6.4.4 Referential opacity</a> <a href="#ref-for-dfn-quoted-58" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-59" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-60" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-61" title="§ 6.4.5 Selective referential transparency">§ 6.4.5 Selective referential transparency</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-62" title="§ 6.4.6 Other alternatives to referential opacity">§ 6.4.6 Other alternatives to referential opacity</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-63" title="§ 7.1 Core vocabulary">§ 7.1 Core vocabulary</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-64" title="§ 7.2 Extended vocabulary">§ 7.2 Extended vocabulary</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-65" title="§ 7. RDF-star vocabulary">§ 7. RDF-star vocabulary</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-66" title="§ A. IANA Considerations">§ A. IANA Considerations</a> <a href="#ref-for-dfn-quoted-67" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-68" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-69" title="§ B.1 SA-mode and PG-mode">§ B.1 SA-mode and PG-mode</a> <a href="#ref-for-dfn-quoted-70" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-71" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-72" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-73" title="§ B.2 The seminal example">§ B.2 The seminal example</a> <a href="#ref-for-dfn-quoted-74" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-asserted" aria-label="Links in this document to definition: asserted triple" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-asserted" aria-label="Permalink for definition: asserted triple. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-asserted-1" title="§ 1.2 Overview">§ 1.2 Overview</a> <a href="#ref-for-dfn-asserted-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-asserted-3" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-4" title="§ 2. Concepts and Abstract Syntax">§ 2. Concepts and Abstract Syntax</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-5" title="§ 2.1 Quoted and Asserted Triples">§ 2.1 Quoted and Asserted Triples</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-6" title="§ 2.2 RDF-star Graph Examples">§ 2.2 RDF-star Graph Examples</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-7" title="§ 3.2.1 Grammar">§ 3.2.1 Grammar</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-8" title="§ 3.2.2.1 Discussion">§ 3.2.2.1 Discussion</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-9" title="§ 4.5 Examples and Discussion">§ 4.5 Examples and Discussion</a> <a href="#ref-for-dfn-asserted-10" title="Reference 2">(2)</a> <a href="#ref-for-dfn-asserted-11" title="Reference 3">(3)</a> <a href="#ref-for-dfn-asserted-12" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-13" title="§ 5.1.1 INSERT DATA">§ 5.1.1 INSERT DATA</a> <a href="#ref-for-dfn-asserted-14" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-15" title="§ 5.1.2 DELETE DATA">§ 5.1.2 DELETE DATA</a> <a href="#ref-for-dfn-asserted-16" title="Reference 2">(2)</a> <a href="#ref-for-dfn-asserted-17" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-18" title="§ 5.1.3 DELETE/INSERT">§ 5.1.3 DELETE/INSERT</a> <a href="#ref-for-dfn-asserted-19" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-20" title="§ 6.1 Mapping RDF-star abstract syntax to RDF">§ 6.1 Mapping RDF-star abstract syntax to RDF</a> <a href="#ref-for-dfn-asserted-21" title="Reference 2">(2)</a> <a href="#ref-for-dfn-asserted-22" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-23" title="§ 6.3 Merging RDF-star graphs">§ 6.3 Merging RDF-star graphs</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-24" title="§ 6.4.6 Other alternatives to referential opacity">§ 6.4.6 Other alternatives to referential opacity</a> <a href="#ref-for-dfn-asserted-25" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-asserted-26" title="§ B.1 SA-mode and PG-mode">§ B.1 SA-mode and PG-mode</a> <a href="#ref-for-dfn-asserted-27" title="Reference 2">(2)</a> <a href="#ref-for-dfn-asserted-28" title="Reference 3">(3)</a> <a href="#ref-for-dfn-asserted-29" title="Reference 4">(4)</a> <a href="#ref-for-dfn-asserted-30" title="Reference 5">(5)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-dataset" aria-label="Links in this document to definition: RDF-star dataset" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-dataset" aria-label="Permalink for definition: RDF-star dataset. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-dataset-1" title="§ 2. Concepts and Abstract Syntax">§ 2. Concepts and Abstract Syntax</a> <a href="#ref-for-dfn-dataset-2" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-dataset-3" title="§ 3.3 TriG-star">§ 3.3 TriG-star</a> 
  </li><li>
    <a href="#ref-for-dfn-dataset-4" title="§ 3.5 N-Quads-star">§ 3.5 N-Quads-star</a> 
  </li><li>
    <a href="#ref-for-dfn-dataset-5" title="§ 4.5 Examples and Discussion">§ 4.5 Examples and Discussion</a> <a href="#ref-for-dfn-dataset-6" title="Reference 2">(2)</a> <a href="#ref-for-dfn-dataset-7" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-dataset-8" title="§ 4.6 Evaluation Semantics">§ 4.6 Evaluation Semantics</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-annotation-syntax" aria-label="Links in this document to definition: annotation syntax" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-annotation-syntax" aria-label="Permalink for definition: annotation syntax. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-annotation-syntax-1" title="§ 1.2 Overview">§ 1.2 Overview</a> 
  </li><li>
    <a href="#ref-for-dfn-annotation-syntax-2" title="§ 3.2.2.1 Discussion">§ 3.2.2.1 Discussion</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-turtle-star-document" aria-label="Links in this document to definition: Turtle-star document" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-turtle-star-document" aria-label="Permalink for definition: Turtle-star document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-turtle-star-document-1" title="§ 3.2.2.1 Discussion">§ 3.2.2.1 Discussion</a> 
  </li><li>
    <a href="#ref-for-dfn-turtle-star-document-2" title="§ 3.3.2 Parsing">§ 3.3.2 Parsing</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-trig-star-document" aria-label="Links in this document to definition: TriG-star document" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-trig-star-document" aria-label="Permalink for definition: TriG-star document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-n-triples-star-document" aria-label="Links in this document to definition: N-Triples-star document" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-n-triples-star-document" aria-label="Permalink for definition: N-Triples-star document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-n-quads-star-document" aria-label="Links in this document to definition: N-Quads-star document" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-n-quads-star-document" aria-label="Permalink for definition: N-Quads-star document. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-triple-star-pattern" aria-label="Links in this document to definition: SPARQL-star triple pattern" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-triple-star-pattern" aria-label="Permalink for definition: SPARQL-star triple pattern. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-triple-star-pattern-1" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> <a href="#ref-for-dfn-triple-star-pattern-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-triple-star-pattern-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-triple-star-pattern-4" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-star-pattern-5" title="§ 4.2 Grammar">§ 4.2 Grammar</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-star-pattern-6" title="§ 4.3.2 Expand Syntax Forms">§ 4.3.2 Expand Syntax Forms</a> 
  </li><li>
    <a href="#ref-for-dfn-triple-star-pattern-7" title="§ 4.3.3 Translate Property Path Patterns">§ 4.3.3 Translate Property Path Patterns</a> <a href="#ref-for-dfn-triple-star-pattern-8" title="Reference 2">(2)</a> <a href="#ref-for-dfn-triple-star-pattern-9" title="Reference 3">(3)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-bgp-star" aria-label="Links in this document to definition: SPARQL-star basic graph pattern" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-bgp-star" aria-label="Permalink for definition: SPARQL-star basic graph pattern. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-bgp-star-1" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> <a href="#ref-for-dfn-bgp-star-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-bgp-star-3" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-bgp-star-4" title="§ 4.3.1 Variable Scope">§ 4.3.1 Variable Scope</a> 
  </li><li>
    <a href="#ref-for-dfn-bgp-star-5" title="§ 4.3.4 Translate Basic Graph Patterns">§ 4.3.4 Translate Basic Graph Patterns</a> 
  </li><li>
    <a href="#ref-for-dfn-bgp-star-6" title="§ 4.6 Evaluation Semantics">§ 4.6 Evaluation Semantics</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-ppp-star" aria-label="Links in this document to definition: SPARQL-star property path pattern" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-ppp-star" aria-label="Permalink for definition: SPARQL-star property path pattern. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-ppp-star-1" title="§ 4.2 Grammar">§ 4.2 Grammar</a> 
  </li><li>
    <a href="#ref-for-dfn-ppp-star-2" title="§ 4.3.3 Translate Property Path Patterns">§ 4.3.3 Translate Property Path Patterns</a> <a href="#ref-for-dfn-ppp-star-3" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-solution-star-mapping" aria-label="Links in this document to definition: SPARQL-star solution mapping" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-solution-star-mapping" aria-label="Permalink for definition: SPARQL-star solution mapping. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-solution-star-mapping-1" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> <a href="#ref-for-dfn-solution-star-mapping-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-solution-star-mapping-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-solution-star-mapping-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-solution-star-mapping-5" title="Reference 5">(5)</a> 
  </li><li>
    <a href="#ref-for-dfn-solution-star-mapping-6" title="§ 4.5 Examples and Discussion">§ 4.5 Examples and Discussion</a> <a href="#ref-for-dfn-solution-star-mapping-7" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-solution-star-mapping-8" title="§ 4.6 Evaluation Semantics">§ 4.6 Evaluation Semantics</a> <a href="#ref-for-dfn-solution-star-mapping-9" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dfn-solution-star-mapping-10" title="§ 5.3 Semantics">§ 5.3 Semantics</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-rdf-star-instance-mapping" aria-label="Links in this document to definition: RDF-star instance mapping" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-rdf-star-instance-mapping" aria-label="Permalink for definition: RDF-star instance mapping. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-rdf-star-instance-mapping-1" title="§ 4.1 Initial Definitions">§ 4.1 Initial Definitions</a> 
  </li><li>
    <a href="#ref-for-dfn-rdf-star-instance-mapping-2" title="§ 4.6 Evaluation Semantics">§ 4.6 Evaluation Semantics</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-bgp-star-solution" aria-label="Links in this document to definition: solution for the BGP-star" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-bgp-star-solution" aria-label="Permalink for definition: solution for the BGP-star. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-bgp-star-solution-1" title="§ 4.6 Evaluation Semantics">§ 4.6 Evaluation Semantics</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-quoted-triple-patterns" aria-label="Links in this document to definition: quoted triple patterns" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-quoted-triple-patterns" aria-label="Permalink for definition: quoted triple patterns. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-quoted-triple-patterns-1" title="§ 4.3.1 Variable Scope">§ 4.3.1 Variable Scope</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-triple-patterns-2" title="§ 4.3.2 Expand Syntax Forms">§ 4.3.2 Expand Syntax Forms</a> <a href="#ref-for-dfn-quoted-triple-patterns-3" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-triple-patterns-4" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-triple-patterns-5" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-triple-patterns-6" title="§ 4.3.3 Translate Property Path Patterns">§ 4.3.3 Translate Property Path Patterns</a> <a href="#ref-for-dfn-quoted-triple-patterns-7" title="Reference 2">(2)</a> <a href="#ref-for-dfn-quoted-triple-patterns-8" title="Reference 3">(3)</a> <a href="#ref-for-dfn-quoted-triple-patterns-9" title="Reference 4">(4)</a> 
  </li><li>
    <a href="#ref-for-dfn-quoted-triple-patterns-10" title="§ 4.3.4 Translate Basic Graph Patterns">§ 4.3.4 Translate Basic Graph Patterns</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-annotation-pattern" aria-label="Links in this document to definition: annotation pattern" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-annotation-pattern" aria-label="Permalink for definition: annotation pattern. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-annotation-pattern-1" title="§ 4.3.2 Expand Syntax Forms">§ 4.3.2 Expand Syntax Forms</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-defn-rdfStarSameTerm" aria-label="Links in this document to definition: sameTerm" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#defn-rdfStarSameTerm" aria-label="Permalink for definition: sameTerm. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-defn-sparql-compare" aria-label="Links in this document to definition: sparql-compare" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#defn-sparql-compare" aria-label="Permalink for definition: sparql-compare. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-defn-sparql-compare-1" title="§ 4.4.10 Operator Mappings">§ 4.4.10 Operator Mappings</a> <a href="#ref-for-defn-sparql-compare-2" title="Reference 2">(2)</a> <a href="#ref-for-defn-sparql-compare-3" title="Reference 3">(3)</a> <a href="#ref-for-defn-sparql-compare-4" title="Reference 4">(4)</a> <a href="#ref-for-defn-sparql-compare-5" title="Reference 5">(5)</a> <a href="#ref-for-defn-sparql-compare-6" title="Reference 6">(6)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-defn-rdfStarTermEqual" aria-label="Links in this document to definition: RDFTerm-equal" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#defn-rdfStarTermEqual" aria-label="Permalink for definition: RDFTerm-equal. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-unstar" aria-label="Links in this document to definition: unstar mapping" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-unstar" aria-label="Permalink for definition: unstar mapping. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-unstar-1" title="§ 6.1 Mapping RDF-star abstract syntax to RDF">§ 6.1 Mapping RDF-star abstract syntax to RDF</a> <a href="#ref-for-dfn-unstar-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-unstar-3" title="Reference 3">(3)</a> 
  </li><li>
    <a href="#ref-for-dfn-unstar-4" title="§ 6.2 Entailment of RDF-star graphs">§ 6.2 Entailment of RDF-star graphs</a> <a href="#ref-for-dfn-unstar-5" title="Reference 2">(2)</a> <a href="#ref-for-dfn-unstar-6" title="Reference 3">(3)</a> <a href="#ref-for-dfn-unstar-7" title="Reference 4">(4)</a> <a href="#ref-for-dfn-unstar-8" title="Reference 5">(5)</a> 
  </li><li>
    <a href="#ref-for-dfn-unstar-9" title="§ 6.4.1 Implementing the RDF-star semantics">§ 6.4.1 Implementing the RDF-star semantics</a> 
  </li><li>
    <a href="#ref-for-dfn-unstar-10" title="§ 6.4.2 Combining RDF-star graphs">§ 6.4.2 Combining RDF-star graphs</a> <a href="#ref-for-dfn-unstar-11" title="Reference 2">(2)</a> <a href="#ref-for-dfn-unstar-12" title="Reference 3">(3)</a> <a href="#ref-for-dfn-unstar-13" title="Reference 4">(4)</a> <a href="#ref-for-dfn-unstar-14" title="Reference 5">(5)</a> <a href="#ref-for-dfn-unstar-15" title="Reference 6">(6)</a> <a href="#ref-for-dfn-unstar-16" title="Reference 7">(7)</a> <a href="#ref-for-dfn-unstar-17" title="Reference 8">(8)</a> <a href="#ref-for-dfn-unstar-18" title="Reference 9">(9)</a> <a href="#ref-for-dfn-unstar-19" title="Reference 10">(10)</a> <a href="#ref-for-dfn-unstar-20" title="Reference 11">(11)</a> <a href="#ref-for-dfn-unstar-21" title="Reference 12">(12)</a> 
  </li><li>
    <a href="#ref-for-dfn-unstar-22" title="§ 6.4.3 Other uses of the unstar mapping">§ 6.4.3 Other uses of the unstar mapping</a> <a href="#ref-for-dfn-unstar-23" title="Reference 2">(2)</a> <a href="#ref-for-dfn-unstar-24" title="Reference 3">(3)</a> <a href="#ref-for-dfn-unstar-25" title="Reference 4">(4)</a> <a href="#ref-for-dfn-unstar-26" title="Reference 5">(5)</a> <a href="#ref-for-dfn-unstar-27" title="Reference 6">(6)</a> 
  </li><li>
    <a href="#ref-for-dfn-unstar-28" title="§ 6.4.4 Referential opacity">§ 6.4.4 Referential opacity</a> 
  </li><li>
    <a href="#ref-for-dfn-unstar-29" title="§ 6.4.6 Other alternatives to referential opacity">§ 6.4.6 Other alternatives to referential opacity</a> <a href="#ref-for-dfn-unstar-30" title="Reference 2">(2)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-tep" aria-label="Links in this document to definition: transparency-enabling property (TEP)" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-tep" aria-label="Permalink for definition: transparency-enabling property (TEP). Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
      <li>Not referenced in this document.</li>
    </ul>
    </div><div class="dfn-panel" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-rsv-interpretation" aria-label="Links in this document to definition: simple RSV-interpretation" hidden="">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-rsv-interpretation" aria-label="Permalink for definition: simple RSV-interpretation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-rsv-interpretation-1" title="§ 7.3 Vocabulary semantics">§ 7.3 Vocabulary semantics</a> 
  </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>